univention-s4-connector (14.0.21-1) UNRELEASED; urgency=medium

  * Bug #57581 UCS 5.0-9 version bump

 -- Arvid <requate@univention.de>  Thu, 12 Sep 2024 13:35:08 +0200

univention-s4-connector (14.0.20-1) UNRELEASED; urgency=medium

  * Bug #57581 UCS 5.0-9 version bump

 -- Arvid <requate@univention.de>  Thu, 12 Sep 2024 13:29:43 +0200

univention-s4-connector (14.0.19-1) UNRELEASED; urgency=medium

  * Bug #57581 UCS 5.0-9 version bump

 -- Arvid <requate@univention.de>  Thu, 12 Sep 2024 13:18:32 +0200

univention-s4-connector (14.0.18-6) unstable; urgency=medium

  * Bug #57510: Don't map the targetdn of a move operation
    through the s4 cache

 -- Julia Bremer <bremer@univention.de>  Thu, 29 Aug 2024 11:19:44 +0200

univention-s4-connector (14.0.18-5) unstable; urgency=medium

  * Bug #57453: Make sqlite files only readable to root

 -- Julia Bremer <bremer@univention.de>  Fri, 19 Jul 2024 09:34:54 +0200

univention-s4-connector (14.0.18-1) UNRELEASED; urgency=medium

  * Bug #57350 UCS 5.0-8 version bump

 -- Ivan Barbecho Delgado <ivan.delgado@univention.de>  Mon, 03 Jun 2024 13:44:18 +0200

univention-s4-connector (14.0.17-1) UNRELEASED; urgency=medium

  * Bug #57118 UCS 5.0-7 version bump

 -- Philipp Hahn <hahn@univention.de>  Thu, 07 Mar 2024 15:51:53 +0100

univention-s4-connector (14.0.16-5) unstable; urgency=medium

  * Bug #57098: make StartTLS configurable in univention.uldap

 -- Maximilian Janßen <janssen@univention.de>  Tue, 05 Mar 2024 11:30:13 +0100

univention-s4-connector (14.0.16-4) unstable; urgency=medium

  * Bug #57072: Fix comparison of special DNs

 -- Arvid <requate@univention.de>  Mon, 26 Feb 2024 17:56:13 +0100

univention-s4-connector (14.0.16-3) unstable; urgency=medium

  * Bug #56956: Improve prioritization for initial S4-Connector sync

 -- Arvid <requate@univention.de>  Mon, 15 Jan 2024 14:17:05 +0100

univention-s4-connector (14.0.16-2) unstable; urgency=medium

  * Bug #56954: Don't replicate objectClass=lock

 -- Arvid <requate@univention.de>  Mon, 08 Jan 2024 18:31:46 +0100

univention-s4-connector (14.0.16-1) unstable; urgency=medium

  * Bug #56832: UCS 5.0-6 version bump

 -- Philipp Hahn <hahn@univention.de>  Thu, 07 Dec 2023 19:17:36 +0100

univention-s4-connector (14.0.15-6) unstable; urgency=medium

  * Bug #56772: New mapping key auto_enable_udm_option

 -- Arvid <requate@univention.de>  Tue, 05 Dec 2023 11:43:01 +0100

univention-s4-connector (14.0.15-5) unstable; urgency=medium

  * Bug #56537: Adjust to upstream change in python3-samba

 -- Florian Best <best@univention.de>  Thu, 05 Oct 2023 13:50:25 +0200

univention-s4-connector (14.0.15-4) unstable; urgency=medium

  * Bug #56603: Adjust to fixed post-read-control in python-ldap 4.0

 -- Florian Best <best@univention.de>  Thu, 05 Oct 2023 13:35:43 +0200

univention-s4-connector (14.0.15-3) unstable; urgency=medium

  * Bug #55937: The default timeout for initial replication
    of the DNS host record of a joining system can now be adjusted

 -- Arvid <requate@univention.de>  Tue, 01 Aug 2023 12:15:04 +0200

univention-s4-connector (14.0.15-2) unstable; urgency=medium

  * Bug #55936: use local ldap in resync_object_from_s4.py

 -- Felix Botner <botner@univention.de>  Thu, 06 Jul 2023 14:38:44 +0200

univention-s4-connector (14.0.15-1) unstable; urgency=medium

  * Bug #55938: prioritize ou objects during initial sync

 -- Felix Botner <botner@univention.de>  Tue, 20 Jun 2023 10:58:39 +0200

univention-s4-connector (14.0.14-1) unstable; urgency=medium

  * Bug #56145: Fix bytes decoding for resync_object_from_s4.py --filter

 -- Arvid <requate@univention.de>  Tue, 13 Jun 2023 17:22:44 +0200

univention-s4-connector (14.0.13-6) unstable; urgency=medium

  * Bug #55632: Updated the checks for checking if the S4 connector is running

 -- Mika Westphal <westphal@univention.de>  Wed, 19 Apr 2023 13:08:33 +0100

univention-s4-connector (14.0.13-5) unstable; urgency=medium

  * Bug #54586: replace bytestrings in S4-Connector reject table which
    were leftover from UCS 4.4 upgrade

 -- Florian Best <best@univention.de>  Tue, 18 Apr 2023 17:14:29 +0200

univention-s4-connector (14.0.13-4) unstable; urgency=medium

  * Bug #55880: Fix sort oder of pickle files

 -- Arvid <requate@univention.de>  Wed, 05 Apr 2023 23:50:16 +0200

univention-s4-connector (14.0.13-3) unstable; urgency=medium

  * Bug #55664: add missing translations.

 -- Ivan Barbecho Delgado <delgado.extern@univention.de>  Thu, 23 Mar 2023 08:43:20 +0100

univention-s4-connector (14.0.13-2) unstable; urgency=medium

  * Bug #55774: fix handling of rejects

 -- Florian Best <best@univention.de>  Fri, 03 Mar 2023 13:03:01 +0100

univention-s4-connector (14.0.13-1) unstable; urgency=medium

  * Bug #31771: migrate tabs to spaces

 -- Florian Best <best@univention.de>  Fri, 03 Feb 2023 04:17:45 +0100

univention-s4-connector (14.0.12-1) unstable; urgency=medium

  * Bug #53092: Added fail checks for the join scripts

 -- Mika Westphal <westphal@univention.de>  Thu, 02 Feb 2023 13:18:11 +0100

univention-s4-connector (14.0.11-1) unstable; urgency=medium

  * Bug #55554: Fix UCR variable typing

 -- Philipp Hahn <hahn@univention.de>  Wed, 18 Jan 2023 09:48:10 +0100

univention-s4-connector (14.0.10-7) unstable; urgency=medium

  * Bug #55232: Set pwhistory_length to 0 when pwhistorylength
    policy is not defined in password history synchronization

 -- Juan Carlos García García <garcia-garcia.extern@univention.de>  Thu, 29 Sep 2022 20:08:17 +0200

univention-s4-connector (14.0.10-6) unstable; urgency=medium

  * Bug #52230: Initialize the udm user module in
    univention-password_sync_ucs_to_s4 script

 -- Juan Carlos García García <garcia-garcia.extern@univention.de>  Tue, 30 Aug 2022 14:53:00 +0200

univention-s4-connector (14.0.10-5) unstable; urgency=medium

  * Bug #52230: Synchronize password history between S4 and UCS

 -- Juan Carlos García García <garcia-garcia.extern@univention.de>  Fri, 26 Aug 2022 10:38:24 +0200

univention-s4-connector (14.0.10-4) unstable; urgency=medium

  * Bug #55131: Don't use UCS group dn to search in Samba/AD

 -- Arvid <requate@univention.de>  Wed, 24 Aug 2022 23:12:14 +0200

univention-s4-connector (14.0.10-3) unstable; urgency=medium

  * Bug #54791: Add flag --first to resync_object script

 -- Julia Bremer <bremer@univention.de>  Tue, 02 Aug 2022 11:01:05 +0200

univention-s4-connector (14.0.10-2) unstable; urgency=medium

  * Bug #54273: Include debug script in server_password_change.d/univention-samba4 subscript

 -- Juan Carlos García García <garcia-garcia.extern@univention.de>  Tue, 05 Jul 2022 12:25:08 +0200

univention-s4-connector (14.0.10-1) unstable; urgency=medium

  * Bug #54748: add dependencies to monitoring packages

 -- Florian Best <best@univention.de>  Thu, 23 Jun 2022 18:46:37 +0200

univention-s4-connector (14.0.9-2) unstable; urgency=medium

  * Bug #54682: Adjust univention-s4-connector to new samba4.16 build

 -- Julia Bremer <bremer@univention.de>  Thu, 16 Jun 2022 14:33:29 +0200

univention-s4-connector (14.0.9-1) unstable; urgency=medium

  * Bug #54748: make sure Python 2.7 UDM modules are written again by
    the listener

 -- Florian Best <best@univention.de>  Thu, 16 Jun 2022 12:15:03 +0200

univention-s4-connector (14.0.8-2) unstable; urgency=medium

  * Bug #54706: drop Python 2 packages

 -- Florian Best <best@univention.de>  Wed, 04 May 2022 08:18:51 +0200

univention-s4-connector (14.0.8-1) unstable; urgency=medium

  * Bug #54706: move essential files into Python 3 package

 -- Florian Best <best@univention.de>  Mon, 02 May 2022 11:59:26 +0200

univention-s4-connector (14.0.7-8) unstable; urgency=medium

  * Bug #53012: update unix2s4 and s42unix date functions provider for fully
    dates synchronization between LDAP and Samba/LDAP

 -- Ildefonso González Sánchez <isanchez@univention.de>  Mon, 17 Jan 2022 14:55:06 +0100

univention-s4-connector (14.0.7-7) unstable; urgency=medium

  * Bug #53182: Add timestamps to server_password_change log messages

 -- Erik Damrose <damrose@univention.de>  Fri, 22 Oct 2021 09:20:28 +0200

univention-s4-connector (14.0.7-6) unstable; urgency=medium

  * Bug #50593: make sure no users are left over/re-created when they
    are removed in UCS parallel to the creating during sync_from_ucs

 -- Florian Best <best@univention.de>  Thu, 09 Sep 2021 16:50:21 +0200

univention-s4-connector (14.0.7-5) unstable; urgency=medium

  * Bug #50593: do not remove/add users in sync_to_ucs if they were
    recently removed "by" UCS

 -- Florian Best <best@univention.de>  Wed, 08 Sep 2021 13:42:10 +0200

univention-s4-connector (14.0.7-4) unstable; urgency=medium

  * Bug #53705: Add binddn and bindpwdfile option to msgpo.py

 -- Julia Bremer <bremer@univention.de>  Wed, 25 Aug 2021 18:25:30 +0200

univention-s4-connector (14.0.7-2) unstable; urgency=medium

  * Bug #52043: Adjust log level for paged LDAP search to INFO

 -- Arvid <requate@univention.de>  Mon, 26 Apr 2021 15:50:58 +0200

univention-s4-connector (14.0.7-1) unstable; urgency=medium

  * Bug #52043: Log mapping to /var/log/univention/connector-s4-
    mapping.log

 -- Florian Best <best@univention.de>  Wed, 14 Apr 2021 18:45:04 +0200

univention-s4-connector (14.0.6-8) unstable; urgency=medium

  * Bug #53023: Fix typo in UCR variable name registration

 -- Arvid <requate@univention.de>  Thu, 01 Apr 2021 11:24:54 +0200

univention-s4-connector (14.0.6-7) unstable; urgency=medium

  * Bug #52043: replace UCR filter based mapping with a real python
    module

 -- Florian Best <best@univention.de>  Wed, 24 Mar 2021 22:02:24 +0100

univention-s4-connector (14.0.6-6) unstable; urgency=medium

  * Bug #50766: Sync gidNumber also for groups,set sync_mode of gidNumber to write

 -- Julia Bremer <bremer@univention.de>  Wed, 24 Mar 2021 16:02:43 +0100

univention-s4-connector (14.0.6-5) unstable; urgency=medium

  * Bug #52358: Restore ordering of S4 changes to prevent S4C-Loops.

 -- Julia Bremer <bremer@univention.de>  Sun, 14 Feb 2021 21:49:43 +0100

univention-s4-connector (14.0.6-4) unstable; urgency=medium

  * Bug #52358: User LDAP post read control for all objects, not just msGPO.
    By doing this, we can get the entryCSN of UCS object at addition.
    With this information, we can detect a pingback of an add_by_ucs,
    and skip the following add_by_s4.
    This prevents our S4C-Loop from happening.

 -- Julia Bremer <bremer@univention.de>  Thu, 11 Feb 2021 18:02:18 +0100

univention-s4-connector (14.0.6-1) unstable; urgency=medium

  * Bug #52043: respect leading "," in position mapping DN's

 -- Florian Best <best@univention.de>  Sat, 30 Jan 2021 09:03:44 +0100

univention-s4-connector (14.0.5-1) unstable; urgency=medium

  * Bug #52681: Avoid restarting the S4-Connector repeatedly in short
    succession during initialization of the s4-connector Listener module

 -- Arvid <requate@univention.de>  Sun, 24 Jan 2021 20:29:53 +0100

univention-s4-connector (14.0.4-2) unstable; urgency=medium

  * Bug #52364: update group member cache after move

 -- Felix Botner <botner@univention.de>  Tue, 17 Nov 2020 14:12:28 +0100

univention-s4-connector (14.0.4-1) unstable; urgency=medium

  * Bug #43686: replace init.d with systemctl calls for UDL

 -- Sebastian Lobinger <lobinger@univention.de>  Fri, 13 Nov 2020 11:15:37 +0100

univention-s4-connector (14.0.3-2) unstable; urgency=medium

  * Bug #52043: s4connector.s4.dc._nano2s should return int with Python 3 too

 -- Arvid <requate@univention.de>  Wed, 11 Nov 2020 19:43:34 +0100

univention-s4-connector (14.0.3-1) unstable; urgency=medium

  * Bug #52043: migrate univention-s4-connector to Python 3

 -- Florian Best <best@univention.de>  Wed, 14 Oct 2020 22:15:07 +0200

univention-s4-connector (14.0.2-3) unstable; urgency=medium

  * Bug #46745: Replace DES keys with Dummy hash type if missing (filled with NT hash)

 -- Julia Bremer <bremer@univention.de>  Tue, 13 Oct 2020 11:48:37 +0200

univention-s4-connector (14.0.2-2) unstable; urgency=medium

  * Bug #51782: Add synchronization of domainpolicy

 -- Erik Damrose <damrose@univention.de>  Thu, 01 Oct 2020 09:27:41 +0200

univention-s4-connector (14.0.2-1) unstable; urgency=medium

  * Bug #42374: Wording

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Tue, 22 Sep 2020 23:47:39 +0200

univention-s4-connector (14.0.2-0) unstable; urgency=medium

  * Bug #51763: Add ucsversionstart/end to ucs_registerLDAPExtension
    for udm_module and udm_syntax.

 -- Arvid <requate@univention.de>  Mon, 03 Aug 2020 11:58:00 +0200

univention-s4-connector (14.0.1-0) unstable; urgency=medium

  * Bug #51745: fix creating IPv6 reverse zones as reverse instead of
    forward zone in UCS

 -- Florian Best <best@univention.de>  Thu, 30 Jul 2020 09:42:47 +0200

univention-s4-connector (14.0.0-1) unstable; urgency=medium

  * Bug #51419: UCS-5.0-0 version bump

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Thu, 18 Jun 2020 13:38:42 +0200

univention-s4-connector (13.0.2-76) unstable; urgency=medium

  * Bug #51298: Add dependency to heimdal-clients and restart the umc-server
    after this update

 -- Julia Bremer <bremer@univention.de>  Thu, 18 Jun 2020 13:38:41 +0200

univention-s4-connector (13.0.2-72) unstable; urgency=medium

  * Bug #51298: Expire user password also in openLDAP

 -- Julia Bremer <bremer@univention.de>  Fri, 05 Jun 2020 20:45:37 +0200

univention-s4-connector (13.0.2-71) unstable; urgency=medium

  * Bug #50593: Reverted, due to sideeffects
    Add Listener to detect objects deleted by UCS.
    s4connector shouldn't add objects in UCS if object was already deleted
    by UCS.
    Only remove Object if matching entryUUID/objectGUID, not if just same dn.

 -- Julia Bremer <bremer@univention.de>  Fri, 24 Apr 2020 19:51:41 +0200

univention-s4-connector (13.0.2-69) unstable; urgency=medium

  * Bug #51159: make UCR templates compatible to python3

 -- Florian Best <best@univention.de>  Thu, 23 Apr 2020 17:25:41 +0200

univention-s4-connector (13.0.2-68) unstable; urgency=medium

  * Bug #50593: Revert 706f9854e0.

 -- Julia Bremer <bremer@univention.de>  Wed, 01 Apr 2020 10:57:40 +0200

univention-s4-connector (13.0.2-67) unstable; urgency=medium

  * Bug #50593: Objects in UCS are now compared by their entryUUID/objectGUID
    before deletion, so that a new object with the same DN is not mistakenly
    deleted.

 -- Julia Bremer <bremer@univention.de>  Thu, 26 Mar 2020 13:36:03 +0100

univention-s4-connector (13.0.2-66) unstable; urgency=medium

  * Bug #50492: Fill new dummy hash with nt_hash

 -- Julia Bremer <bremer@univention.de>  Thu, 12 Mar 2020 22:05:17 +0100

univention-s4-connector (13.0.2-65) unstable; urgency=medium

  * Bug #50492: Fill missing des-cbc-crc with dummy hash, since samba needs
    the number of "old" hashes to be exactly 2

 -- Julia Bremer <bremer@univention.de>  Sun, 08 Mar 2020 16:22:00 +0100

univention-s4-connector (13.0.2-64) unstable; urgency=medium

  * Bug #50644: Fix another self.group_members_cache_ucs type initialization

 -- Arvid Requate <requate@univention.de>  Thu, 19 Dec 2019 12:00:55 +0100

univention-s4-connector (13.0.2-63) unstable; urgency=medium

  * Bug #50644: turn self.group_members_cache_* into a set() to avoid
    unbound resource consumption due to unlimted appending to lists.

 -- Arvid Requate <requate@univention.de>  Thu, 19 Dec 2019 11:17:58 +0100

univention-s4-connector (13.0.2-62) unstable; urgency=medium

  * Bug #49838: translations

 -- Florian Best <best@univention.de>  Mon, 16 Dec 2019 16:47:13 +0100

univention-s4-connector (13.0.2-61) unstable; urgency=medium

  * Bug #49838: add base64 presentation in UMC

 -- Florian Best <best@univention.de>  Thu, 05 Dec 2019 15:36:07 +0100

univention-s4-connector (13.0.2-60) unstable; urgency=medium

  * Bug #49838: fix typo registering syntax class

 -- Florian Best <best@univention.de>  Thu, 05 Dec 2019 09:26:40 +0100

univention-s4-connector (13.0.2-59) unstable; urgency=medium

  * Bug #49838: add MS Wireless/Wired Group Policy
  * Bug #49838: add MS Software installation policy
  * Bug #49838: add MS Software installation policy

 -- Florian Best <best@univention.de>  Tue, 03 Dec 2019 21:59:30 +0100

univention-s4-connector (13.0.2-58) unstable; urgency=medium

  * Bug #49792: Allow re-creation of deleted group object with same objectSid in Samba/AD

 -- Julia Bremer <bremer@univention.de>  Thu, 21 Nov 2019 15:53:06 +0100

univention-s4-connector (13.0.2-57) unstable; urgency=medium

  * Bug #50202: Fix time conversion in s4-connector to prevent loops

 -- Julia Bremer <bremer@knut.univention.de>  Tue, 29 Oct 2019 18:15:42 +0100

univention-s4-connector (13.0.2-56) unstable; urgency=medium

  * Bug #49728: Fix move case with renaming for DNS host record

 -- Julia Bremer <bremer@univention.de>  Mon, 28 Oct 2019 17:33:15 +0100

univention-s4-connector (13.0.2-55) unstable; urgency=medium

  * Bug #49874: Fix appending empty dnsRecord creates Reject

 -- Julia Bremer <bremer@univention.de>  Fri, 25 Oct 2019 14:58:31 +0200

univention-s4-connector (13.0.2-54) unstable; urgency=medium

  * Bug #50288: use "cn" instead of "msWMIID" as RDN component

 -- Florian Best <best@univention.de>  Mon, 14 Oct 2019 16:05:13 +0200

univention-s4-connector (13.0.2-53) unstable; urgency=medium

  * Bug #50342: add backwards compatibility for older UCS systems

 -- Florian Best <best@univention.de>  Mon, 14 Oct 2019 15:27:58 +0200

univention-s4-connector (13.0.2-52) unstable; urgency=medium

  * Bug #43096: Also set udm debug level for category LDAP

 -- Arvid Requate <requate@univention.de>  Thu, 10 Oct 2019 23:30:10 +0200

univention-s4-connector (13.0.2-51) unstable; urgency=medium

  * Bug #43096: Add possibility to log UDM debug messages.
    Controlled by two new UCR variables connector/debug/udm/level
    and connector/debug/udm/function.

 -- Arvid Requate <requate@univention.de>  Thu, 10 Oct 2019 17:27:54 +0200

univention-s4-connector (13.0.2-50) unstable; urgency=medium

  * Bug #50342: modernize UDM modules

 -- Florian Best <best@univention.de>  Thu, 10 Oct 2019 16:26:53 +0200

univention-s4-connector (13.0.2-49) unstable; urgency=medium

  * Bug #49876: ignore removed objects in disable_user_from_ucs()
  * Bug #49976: fix comparing of DN before moving objects

 -- Florian Best <best@univention.de>  Thu, 10 Oct 2019 13:06:11 +0200

univention-s4-connector (13.0.2-48) unstable; urgency=medium

  * Bug #49324: fix error handling

 -- Florian Best <best@univention.de>  Tue, 01 Oct 2019 16:36:40 +0200

univention-s4-connector (13.0.2-47) unstable; urgency=medium

  * Bug #49324: fix typo

 -- Florian Best <best@univention.de>  Fri, 27 Sep 2019 10:28:40 +0200

univention-s4-connector (13.0.2-46) unstable; urgency=medium

  * Bug #49324: fix removal of S4-objects if parent is already removed

 -- Florian Best <best@univention.de>  Thu, 26 Sep 2019 18:55:15 +0200

univention-s4-connector (13.0.2-45) unstable; urgency=medium

  * Bug #50033: Coding improvements

 -- Julia Bremer <bremer@univention.de>  Thu, 19 Sep 2019 13:12:23 +0200

univention-s4-connector (13.0.2-44) unstable; urgency=medium

  * Bug #50033: Sync more attributes in s4connector

 -- Julia Bremer <bremer@univention.de>  Thu, 19 Sep 2019 09:31:20 +0200

univention-s4-connector (13.0.2-43) unstable; urgency=medium

  * Bug #50033: Sync more attributes in s4connector

 -- Julia Bremer <bremer@univention.de>  Thu, 19 Sep 2019 09:23:16 +0200

univention-s4-connector (13.0.2-42) unstable; urgency=medium

  * Bug #49092: do not sync country / state

 -- Florian Best <best@univention.de>  Thu, 22 Aug 2019 13:24:10 +0200

univention-s4-connector (13.0.2-41) unstable; urgency=medium

  * Bug #49092: do not set not existing attributes in ignorelist

 -- Florian Best <best@univention.de>  Tue, 20 Aug 2019 20:13:11 +0200

univention-s4-connector (13.0.2-40) unstable; urgency=medium

  * Bug #48410: fix ucs_create_functions must be a list, not None

 -- Florian Best <best@univention.de>  Sat, 17 Aug 2019 11:06:27 +0200

univention-s4-connector (13.0.2-39) unstable; urgency=medium

  * Bug #48410: fix filtering None from lists

 -- Florian Best <best@univention.de>  Fri, 16 Aug 2019 09:43:58 +0200

univention-s4-connector (13.0.2-38) unstable; urgency=medium

  * Big #48410: make mapping.py a more pythonic file

 -- Florian Best <best@univention.de>  Thu, 15 Aug 2019 14:51:43 +0200

univention-s4-connector (13.0.2-37) unstable; urgency=medium

  * Bug #49092: revert adding properties

 -- Florian Best <best@univention.de>  Wed, 14 Aug 2019 15:08:58 +0200

univention-s4-connector (13.0.2-36) unstable; urgency=medium

  * Bug #49905: Fix dBCSPwd removal

 -- Arvid Requate <requate@univention.de>  Wed, 14 Aug 2019 12:34:11 +0200

univention-s4-connector (13.0.2-35) unstable; urgency=medium

  * Bug #36633: remove more unused code

 -- Florian Best <best@univention.de>  Thu, 08 Aug 2019 23:17:26 +0200

univention-s4-connector (13.0.2-34) unstable; urgency=medium

  * Bug #49918: Fix format string error in log message

 -- Arvid Requate <requate@univention.de>  Thu, 08 Aug 2019 17:36:33 +0200

univention-s4-connector (13.0.2-33) unstable; urgency=medium

  * Bug #49959: Fix traceback in sync_to_ucs in case a computer
    object has already been deleted in OpenLDAP when the modify
    echo operation comes back. This occurred in the CI tests.

 -- Arvid Requate <requate@univention.de>  Thu, 08 Aug 2019 16:02:42 +0200

univention-s4-connector (13.0.2-32) unstable; urgency=medium

  * Bug #48410: Include /etc/univention/connector/s4/localmapping.py in
  	mapping.py to support extensibility of the mapping without overwriting
  	mapping.py itself

 -- Florian Best <best@univention.de>  Thu, 08 Aug 2019 15:21:23 +0200

univention-s4-connector (13.0.2-31) unstable; urgency=medium

  * Bug #49956: In case sync_from_ucs() receives a delete for a container
    object that has sub-objects in Samba/AD (e.g. a GPO), it tries
    to recurse though the leaf objects that it finds in Samba/AD and
    calls delete_in_s4() for each of the leaf objects. In this case
    the OpenLDAP entryUUID is unknown, either because it has already
    been deleted in OpenLDAP or because it never has been synchronized to
    OpenLDAP anyway. This change attempts to fix this, by checking if the
    entryUUID is non-empty, before attempting to use it for locking.

 -- Arvid Requate <requate@univention.de>  Thu, 08 Aug 2019 15:01:00 +0200

univention-s4-connector (13.0.2-30) unstable; urgency=medium

  * Bug #43068: remove dead code

 -- Florian Best <best@univention.de>  Thu, 08 Aug 2019 14:57:47 +0200

univention-s4-connector (13.0.2-29) unstable; urgency=medium

  * Bug #49646: Stop adding an unlimited number of lock entries
    for the same object.

 -- Arvid Requate <requate@univention.de>  Thu, 08 Aug 2019 14:20:54 +0200

univention-s4-connector (13.0.2-28) unstable; urgency=medium

  * Bug #49850: fix error when accesing removed ldap object
  * Bug #36633: fix some reference errors

 -- Florian Best <best@univention.de>  Thu, 08 Aug 2019 12:57:32 +0200

univention-s4-connector (13.0.2-27) unstable; urgency=medium

  * Bug #48698: Fix user visible spelling errors

 -- Philipp Hahn <hahn@univention.de>  Thu, 08 Aug 2019 05:46:40 +0200

univention-s4-connector (13.0.2-26) unstable; urgency=medium

  * Bug #26501: add error handling for str2dn to not return a broken DN

 -- Florian Best <best@univention.de>  Fri, 02 Aug 2019 16:47:00 +0200

univention-s4-connector (13.0.2-25) unstable; urgency=medium

  * Bug #26501: fix typo

 -- Julia Bremer <bremer@univention.de>  Thu, 01 Aug 2019 17:32:31 +0200

univention-s4-connector (13.0.2-24) unstable; urgency=medium

  * Bug #26501: fix_dn_in_search could not handle Nonetype dn

 -- Julia Bremer <bremer@univention.de>  Thu, 01 Aug 2019 16:03:46 +0200

univention-s4-connector (13.0.2-23) unstable; urgency=medium

  * Bug #49905: Samba 4.9 no longer allows the removal of the dBCSPwd (LM
    hash) attribute. The S4 connector now respects this.

 -- Arvid Requate <requate@univention.de>  Thu, 01 Aug 2019 13:26:00 +0200

univention-s4-connector (13.0.2-22) unstable; urgency=medium

  * Bug #49092: Extend mapping of the s4connector

 -- Julia Bremer <bremer@univention.de>  Thu, 01 Aug 2019 09:11:11 +0200

univention-s4-connector (13.0.2-21) unstable; urgency=medium

  * Bug #26501: Fix Decoding error if container contains of the character '?'

 -- Fathan Vidjaja <fvidjaja@lauvik.knut.univention.de>  Wed, 31 Jul 2019 12:26:11 +0200

univention-s4-connector (13.0.2-20) unstable; urgency=medium

  * Bug #49865: Fix typo

 -- Julia Bremer <bremer@univention.de>  Thu, 25 Jul 2019 13:28:04 +0200

univention-s4-connector (13.0.2-19) unstable; urgency=medium

  * Bug #49643: Improve coding style

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 18:27:03 +0200

univention-s4-connector (13.0.2-18) unstable; urgency=medium

  * Bug #49649: Fix traceback password sync_to_ucs for machine accounts

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 18:10:23 +0200

univention-s4-connector (13.0.2-17) unstable; urgency=medium

  * Bug #49643: Avoid rejects when DNS records have an uppercase DC
    attribute.

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 17:56:30 +0200

univention-s4-connector (13.0.2-16) unstable; urgency=medium

  * Bug #49445: fix sql evaluation in remove_{ucs,s4}_rejected.py

 -- Florian Best <best@univention.de>  Thu, 13 Jun 2019 13:15:18 +0200

univention-s4-connector (13.0.2-15) unstable; urgency=medium

  * Bug #40773: Remove lockingdb and s4cache during re-join

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 12:00:49 +0200

univention-s4-connector (13.0.2-14) unstable; urgency=medium

  * Bug #35237: Fix trivial ucr syntax error in joinscript

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 11:48:58 +0200

univention-s4-connector (13.0.2-13) unstable; urgency=medium

  * Bug #48364: Lower log volume of group cache init

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jun 2019 11:38:42 +0200

univention-s4-connector (13.0.2-12) unstable; urgency=medium

  * Bug #49176: revert the new pathes of UDM modules

 -- Florian Best <best@univention.de>  Wed, 22 May 2019 18:34:02 +0200

univention-s4-connector (13.0.2-11) unstable; urgency=medium

  * Bug #49176: only use one process definition for the service

 -- Florian Best <best@univention.de>  Tue, 21 May 2019 21:34:07 +0200

univention-s4-connector (13.0.2-10) unstable; urgency=medium

  * Bug #49176: remove old service from list

 -- Florian Best <best@univention.de>  Tue, 21 May 2019 21:26:11 +0200

univention-s4-connector (13.0.2-9) unstable; urgency=medium

  * Bug #49176: Migrate package to dh_python2

 -- Florian Best <best@univention.de>  Tue, 21 May 2019 21:18:21 +0200

univention-s4-connector (13.0.2-8) unstable; urgency=medium

  * Bug #47008: Fix typo

 -- Julia Bremer <bremer@univention.de>  Wed, 24 Apr 2019 09:41:38 +0200

univention-s4-connector (13.0.2-7) unstable; urgency=medium

  * Bug #47008: Wording

 -- Julia Bremer <bremer@univention.de>  Wed, 24 Apr 2019 08:54:26 +0200

univention-s4-connector (13.0.2-6) unstable; urgency=medium

  * Bug #47008: global_ignore_subtree in s4connector is now configurable via ucr variable connector/s4/mapping/ignoresubtree/.*

 -- Julia Bremer <bremer@univention.de>  Wed, 17 Apr 2019 19:03:14 +0200

univention-s4-connector (13.0.2-5) unstable; urgency=medium

  * Bug #45068: Remove unnecessary explicit superordinate search in S4
    Connector
  * Bug #41554: remove dead custom attribute code

 -- Florian Best <best@univention.de>  Thu, 11 Apr 2019 09:21:17 +0200

univention-s4-connector (13.0.2-4) unstable; urgency=medium

  * Bug #27804: remove the use of univention.admin.config

 -- Florian Best <best@univention.de>  Thu, 14 Mar 2019 14:07:04 +0100

univention-s4-connector (13.0.2-3) unstable; urgency=medium

  * Bug #47941: reverted last commit

 -- Felix Botner <botner@univention.de>  Mon, 18 Feb 2019 15:24:56 +0100

univention-s4-connector (13.0.2-2) unstable; urgency=medium

  * Bug #47941: reverted last commit

 -- Felix Botner <botner@univention.de>  Mon, 18 Feb 2019 15:08:30 +0100

univention-s4-connector (13.0.2-1) unstable; urgency=medium

  * Bug #47941: reverted last commit

 -- Felix Botner <botner@univention.de>  Mon, 18 Feb 2019 15:03:07 +0100

univention-s4-connector (13.0.2-0) unstable; urgency=medium

  * Bug #47941: added UCRV connector/s4/mapping/dc/disable_delete_in_ucs

 -- Felix Botner <botner@univention.de>  Mon, 11 Feb 2019 16:54:27 +0100

univention-s4-connector (13.0.1-0) unstable; urgency=medium

  * Bug #48362: fixed move in samaccountname_dn_mapping
    for ucs ldap base != samba ldap base

 -- Felix Botner <botner@univention.de>  Wed, 09 Jan 2019 11:38:37 +0100

univention-s4-connector (13.0.0-3) unstable; urgency=medium

  * Bug #48421: added DSDB_CONTROL_REPLICATED_UPDATE_OID to samba modify

 -- Felix Botner <botner@univention.de>  Thu, 03 Jan 2019 17:29:59 +0100

univention-s4-connector (13.0.0-2) unstable; urgency=medium

  * Bug #48142: Samba 4.9 now properly handles the AD passsword change
    procedure. As the S4-Connector doesn't know the old password in
    clear text, we should rather use the password reset procedure instead.

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2018 16:20:40 +0100

univention-s4-connector (13.0.0-1) unstable; urgency=medium

  * Bug #48326: UCS-4.4-0 version bump

 -- Philipp Hahn <hahn@univention.de>  Fri, 14 Dec 2018 15:12:45 +0100

univention-s4-connector (12.0.2-39) unstable; urgency=medium

  * Bug #35540: Version bump

 -- Arvid Requate <requate@univention.de>  Tue, 27 Nov 2018 20:28:38 +0100

univention-s4-connector (12.0.2-38) unstable; urgency=medium

  * Bug #35540: When performing an AD-Takeover out of an ad/member setup,
    the sambaNTPassword in UCS OpenLDAP doesn't contain a password hash,
    causing S4-Connector rejects. This has been fixed.

 -- Arvid Requate <requate@univention.de>  Tue, 27 Nov 2018 20:26:18 +0100

univention-s4-connector (12.0.2-37) unstable; urgency=medium

  * Bug #44104: Perform a case insensitive compare of ns records

 -- Arvid Requate <requate@univention.de>  Mon, 29 Oct 2018 14:55:53 +0100

univention-s4-connector (12.0.2-36) unstable; urgency=medium

  * Bug #44104: Fix sync_to_ucs reject for DNS SOAs with
    trailing dot missing in the NS RR, also for initial add.

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2018 13:37:22 +0200

univention-s4-connector (12.0.2-35) unstable; urgency=medium

  * Bug #44104: Fix sync_to_ucs reject for DNS SOAs with
    trailing dot missing in the NS RR.

 -- Arvid Requate <requate@univention.de>  Tue, 16 Oct 2018 20:56:23 +0200

univention-s4-connector (12.0.2-34) unstable; urgency=medium

  * Bug #44711: Fix indentation bug in mapping file

 -- Arvid Requate <requate@univention.de>  Tue, 16 Oct 2018 20:48:05 +0200

univention-s4-connector (12.0.2-33) unstable; urgency=medium

  * Bug #47374: fixed get_by_value

 -- Felix Botner <botner@univention.de>  Mon, 08 Oct 2018 10:09:36 +0200

univention-s4-connector (12.0.2-32) unstable; urgency=medium

  * Bug #47374: run "delete to ucs" check only for ou and container

 -- Felix Botner <botner@univention.de>  Thu, 20 Sep 2018 14:06:09 +0200

univention-s4-connector (12.0.2-31) unstable; urgency=medium

  * Bug #47779: sync group membership of ucs_module_others objects

 -- Felix Botner <botner@univention.de>  Wed, 19 Sep 2018 11:52:00 +0200

univention-s4-connector (12.0.2-30) unstable; urgency=medium

  * Bug #47374: ignore "delete to ucs" if the change originated in ucs

 -- Felix Botner <botner@univention.de>  Wed, 19 Sep 2018 11:51:06 +0200

univention-s4-connector (12.0.2-29) unstable; urgency=medium

  * Bug #47508: Don't remove krb5PasswordEnd

 -- Arvid Requate <requate@univention.de>  Wed, 05 Sep 2018 16:16:12 +0200

univention-s4-connector (12.0.2-28) unstable; urgency=medium

  * Bug #47595: Don't remove shadowMax and krb5PasswordEnd
                and don't reset shadowLastChange to 0
  * Bug #45282: password_sync_s4_to_ucs: Don't set sambaPwdMustChange

 -- Arvid Requate <requate@univention.de>  Wed, 05 Sep 2018 00:20:30 +0200

univention-s4-connector (12.0.2-27) unstable; urgency=medium

  * Bug #47636: update the new dn in group caches after rename

 -- Arvid Requate <requate@univention.de>  Tue, 28 Aug 2018 21:38:53 +0200

univention-s4-connector (12.0.2-26) unstable; urgency=medium

  * Bug #47636: remove old dn from group caches after rename

 -- Felix Botner <botner@univention.de>  Tue, 28 Aug 2018 13:04:40 +0200

univention-s4-connector (12.0.2-25) unstable; urgency=medium

  * Bug #47636: remove old dn from group caches after rename

 -- Felix Botner <botner@univention.de>  Thu, 23 Aug 2018 13:01:52 +0200

univention-s4-connector (12.0.2-24) unstable; urgency=medium

  * Bug #47636: remove old dn from group caches after rename

 -- Felix Botner <botner@univention.de>  Thu, 23 Aug 2018 12:41:53 +0200

univention-s4-connector (12.0.2-23) unstable; urgency=medium

  * Bug #47391: Sync sambaPwdLastChange to pwdLastSet only if difference
    is bigger than granularity of one second.

 -- Arvid Requate <requate@univention.de>  Tue, 07 Aug 2018 17:33:13 +0200

univention-s4-connector (12.0.2-22) unstable; urgency=medium

  * Bug #47391: Sync pwdLastSet also when hash didn't change

 -- Arvid Requate <requate@univention.de>  Mon, 06 Aug 2018 22:02:10 +0200

univention-s4-connector (12.0.2-21) unstable; urgency=medium

  * Bug #32626: Reapply reverted patches

 -- Arvid Requate <requate@univention.de>  Mon, 11 Jun 2018 21:22:50 +0200

univention-s4-connector (12.0.2-20) unstable; urgency=low

  * Bug #32626: Revert change for UCS-4.3-1 release.

 -- Philipp Hahn <hahn@univention.de>  Wed, 06 Jun 2018 15:05:43 +0200

univention-s4-connector (12.0.2-19) unstable; urgency=medium

  * Bug #32626: Update versioned dependency on python-UDM

 -- Arvid Requate <requate@univention.de>  Mon, 04 Jun 2018 15:30:01 +0200

univention-s4-connector (12.0.2-18) unstable; urgency=medium

  * Bug #46682: When objects are deleted or moved remove the their DN from
    both group member mapping caches.

 -- Arvid Requate <requate@univention.de>  Mon, 04 Jun 2018 13:51:11 +0200

univention-s4-connector (12.0.2-17) unstable; urgency=medium

  * Bug #32626: Add support for DNS NS records

 -- Arvid Requate <requate@univention.de>  Mon, 04 Jun 2018 07:56:26 +0200

univention-s4-connector (12.0.2-16) unstable; urgency=medium

  * Bug #47061: unjoin script too

 -- Felix Botner <botner@univention.de>  Fri, 25 May 2018 12:25:04 +0200

univention-s4-connector (12.0.2-15) unstable; urgency=medium

  * Bug #47061: bindpwdfile support

 -- Felix Botner <botner@univention.de>  Fri, 25 May 2018 11:33:29 +0200

univention-s4-connector (12.0.2-14) unstable; urgency=medium

  * Bug #46972: removed log

 -- Felix Botner <botner@univention.de>  Wed, 23 May 2018 13:28:03 +0200

univention-s4-connector (12.0.2-13) unstable; urgency=medium

  * Bug #46972: restart connector on extended attribute changes

 -- Felix Botner <botner@univention.de>  Wed, 23 May 2018 13:15:45 +0200

univention-s4-connector (12.0.2-12) unstable; urgency=medium

  * Bug #47013: fix non-ascii samba rejects

 -- Felix Botner <botner@univention.de>  Tue, 15 May 2018 19:12:05 +0200

univention-s4-connector (12.0.2-11) unstable; urgency=medium

  * Bug #46682: skip object_memberships_sync_to_ucs
    if group syncmode is write

 -- Arvid Requate <requate@univention.de>  Thu, 26 Apr 2018 19:27:48 +0200

univention-s4-connector (12.0.2-10) unstable; urgency=medium

  * Bug #46741: fixed dn handling in move

 -- Felix Botner <botner@univention.de>  Mon, 16 Apr 2018 13:10:35 +0200

univention-s4-connector (12.0.2-9) unstable; urgency=medium

  * Bug #46798: connector-tracebacks.log is not written any longer

 -- Arvid Requate <requate@univention.de>  Mon, 09 Apr 2018 15:44:57 +0200

univention-s4-connector (12.0.2-8) unstable; urgency=medium

  * Bug #40419: resync object in postinst too

 -- Felix Botner <botner@univention.de>  Wed, 28 Mar 2018 10:52:54 +0200

univention-s4-connector (12.0.2-7) unstable; urgency=medium

  * Bug #40419: resync host object to s4 in sid_to_s4 mode

 -- Felix Botner <botner@univention.de>  Wed, 21 Mar 2018 16:13:53 +0100

univention-s4-connector (12.0.2-6) unstable; urgency=medium

  * Bug #41574: fixed unix2s4_time, s42unix_time, samba2s4_time revert

 -- Felix Botner <botner@univention.de>  Mon, 26 Feb 2018 14:37:02 +0100

univention-s4-connector (12.0.2-5) unstable; urgency=medium

  * Bug #41574: fixed unix2s4_time, s42unix_time, samba2s4_time

 -- Felix Botner <botner@univention.de>  Thu, 22 Feb 2018 17:19:48 +0100

univention-s4-connector (12.0.2-4) unstable; urgency=medium

  * Bug #32014: Fix whitespace indentation

 -- Arvid Requate <requate@univention.de>  Thu, 22 Feb 2018 17:08:36 +0100

univention-s4-connector (12.0.2-3) unstable; urgency=medium

  * Bug #32014: Log the modlist in lockout_sync_ucs_to_s4 too.

 -- Arvid Requate <requate@univention.de>  Thu, 22 Feb 2018 11:56:44 +0100

univention-s4-connector (12.0.2-2) unstable; urgency=medium

  * Bug #46292: Avoid segfault on krb5Key with unsupported
    Kerberos encryption type

 -- Arvid Requate <requate@univention.de>  Fri, 16 Feb 2018 13:06:44 +0100

univention-s4-connector (12.0.2-1) unstable; urgency=medium

  * Bug #32014: Sync account locking *state* from Samba/AD to OpenLDAP:
    sync Samba/AD (lockoutTime != 0)      ->  OpenLDAP sambaAcctFlags ("L")
    and  Samba/AD badPasswordTime         ->  OpenLDAP sambaBadPasswordTime

  * Bug #32014: Sync unlock *modification* from OpenLDAP to Samba/AD:
    sync OpenLDAP (sambaAcctFlags != "L") ->  Samba/AD lockoutTime = 0

 -- Arvid Requate <requate@univention.de>  Tue, 23 Jan 2018 22:59:21 +0100

univention-s4-connector (12.0.0-4) unstable; urgency=medium

  * Bug #46107: Ignore builtin group Console Logon

 -- Felix Botner <botner@univention.de>  Mon, 29 Jan 2018 11:18:24 +0100

univention-s4-connector (12.0.0-3) unstable; urgency=medium

  * Bug #44369: Rejects for DNs containing non-ASCII characters could
    not be saved, because python-sqlite3 doesn't accept UTF-8, causing
    rejects not to be visible but keeping the S4-Connector retrying
    endlessly, flooding the logs with rejects.

 -- Arvid Requate <requate@univention.de>  Mon, 15 Jan 2018 16:00:34 +0100

univention-s4-connector (12.0.0-2) unstable; urgency=medium

  * Bug #43336: remove XS-Python-Version

 -- Florian Best <best@univention.de>  Thu, 21 Dec 2017 11:52:28 +0100

univention-s4-connector (12.0.0-1) unstable; urgency=medium

  * Bug #45841: UCS-4.3 version bump

 -- Jürn Brodersen <brodersen@univention.de>  Tue, 12 Dec 2017 14:10:00 +0100

univention-s4-connector (11.0.8-15) unstable; urgency=medium

  * Bug #44333: Fix postinst syntax

 -- Arvid Requate <requate@univention.de>  Mon, 06 Nov 2017 17:56:19 +0100

univention-s4-connector (11.0.8-14) unstable; urgency=medium

  * Bug #44333: Check RID of krbtgt account and fix if necessary

 -- Arvid Requate <requate@univention.de>  Mon, 06 Nov 2017 17:55:42 +0100

univention-s4-connector (11.0.8-13) unstable; urgency=medium

  * Overwrite msgpo link while joining only in case it is empty (Bug #45439)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Sep 2017 15:17:25 +0200

univention-s4-connector (11.0.8-12) unstable; urgency=medium

  * Bug #39309: s4c: set `compare_normal()` as default in mapping

 -- Lukas Oyen <oyen@univention.de>  Wed, 13 Sep 2017 09:34:01 +0200

univention-s4-connector (11.0.8-11) unstable; urgency=medium

  * Bug #39309: s4c: always use `compare_function`
  * Bug #39309: s4c: remove redundant `compare_lowercase()` from mapping
  * Bug #39309: s4c: add `compare_normal()`, set case-sensitive compare for some attrs
  * Bug #39309: s4c: remove redundant organisation-mapping

 -- Lukas Oyen <oyen@univention.de>  Mon, 11 Sep 2017 15:19:21 +0200

univention-s4-connector (11.0.8-10) unstable; urgency=medium

  * Bug #34648: s4c: include filename on NORESYNC rejected files

 -- Lukas Oyen <oyen@univention.de>  Mon, 11 Sep 2017 15:10:52 +0200

univention-s4-connector (11.0.8-9) unstable; urgency=medium

  * Bug #45210: abort join if samba4/ldap/base is empty

 -- Felix Botner <botner@univention.de>  Wed, 06 Sep 2017 14:37:13 +0200

univention-s4-connector (11.0.8-8) unstable; urgency=medium

  * Bug #45210: move connector/s4/mapping/dc/syncmode to join script

 -- Felix Botner <botner@univention.de>  Wed, 06 Sep 2017 12:04:27 +0200

univention-s4-connector (11.0.8-7) unstable; urgency=medium

  * Bug #34648: s4c: save invalid pickle files as `<NORESYNC>`

 -- Lukas Oyen <oyen@univention.de>  Mon, 04 Sep 2017 14:31:35 +0200

univention-s4-connector (11.0.8-6) unstable; urgency=medium

  * Bug #44374: fix LDAP filter escaping in s4c

 -- Lukas Oyen <oyen@univention.de>  Mon, 07 Aug 2017 08:58:41 +0200

univention-s4-connector (11.0.8-5) unstable; urgency=medium

  * Bug #45088: Fix traceback when deleting a GPO

 -- Arvid Requate <requate@univention.de>  Thu, 27 Jul 2017 19:46:51 +0200

univention-s4-connector (11.0.8-4) unstable; urgency=medium

  * Bug #34648: s4c: ignore corrupted pickle files

 -- Lukas Oyen <oyen@univention.de>  Wed, 26 Jul 2017 16:33:07 +0200

univention-s4-connector (11.0.8-3) unstable; urgency=medium

  * Bug #44976: apply patch from Arvid

 -- Florian Best <best@univention.de>  Tue, 25 Jul 2017 15:11:50 +0200

univention-s4-connector (11.0.8-2) unstable; urgency=medium

  * Bug #45001: prevent IOError if f.close() was already called

 -- Florian Best <best@univention.de>  Mon, 24 Jul 2017 14:48:34 +0200

univention-s4-connector (11.0.8-1) unstable; urgency=medium

  * Bug #43628: during sync_to_ucs remember entryCSN of msGPO changes
    to be able to identify and skip them later in sync_from_ucs.
  * revert change of 11.0.2-6

 -- Arvid Requate <requate@univention.de>  Wed, 19 Jul 2017 19:16:32 +0200

univention-s4-connector (11.0.7-16) unstable; urgency=medium

  * Bug #44976: remove now unused dns/dns identify() function
  * Bug #45001: add possibility to start S4 connector in foreground

 -- Florian Best <best@univention.de>  Tue, 18 Jul 2017 12:53:24 +0200

univention-s4-connector (11.0.7-15) unstable; urgency=medium

  * Bug #44976: don't use identify() function of dns.py anymore. It looks
  	unnecessary when adding the subtypes (ucs_module_others) and the comment
  	in the function looks outdated as dns/dns.identify() always returns False
  	now.

 -- Florian Best <best@univention.de>  Fri, 14 Jul 2017 13:21:00 +0200

univention-s4-connector (11.0.7-14) unstable; urgency=medium

  * Bug #44976: fix identification of UCS module type
  * Bug #44976: add dns subtypes to ucs_module_others

 -- Florian Best <best@univention.de>  Fri, 14 Jul 2017 09:34:32 +0200

univention-s4-connector (11.0.7-13) unstable; urgency=medium

  * Bug #44976: fix detection of UDM object type

 -- Florian Best <best@univention.de>  Wed, 12 Jul 2017 19:30:54 +0200

univention-s4-connector (11.0.7-12) unstable; urgency=medium

  * Bug #43072: s4connector/dns: fix ptr_record deletion.
    Due to a copy-paste error `ucs_ptr_record_create()` instead
    of `ucs_ptr_record_delete() was called on `modtype == delete`.
  * Bug #43072: s4connector/dns: fix cname deletion.
    Due to a copy-paste error `ucs_cname_create()` instead
    of `ucs_cname_delete() was called on `modtype == delete`.

 -- Lukas Oyen <oyen@univention.de>  Thu, 06 Jul 2017 12:01:10 +0200

univention-s4-connector (11.0.7-11) unstable; urgency=medium

  * Bug #43478: Fix exit

 -- Arvid Requate <requate@univention.de>  Thu, 15 Jun 2017 13:13:18 +0200

univention-s4-connector (11.0.7-10) unstable; urgency=medium

  * Bug #43478: Check return code of get_available_s4connector_dc

 -- Arvid Requate <requate@univention.de>  Thu, 15 Jun 2017 11:23:03 +0200

univention-s4-connector (11.0.7-9) unstable; urgency=medium

  * Bug #31311: fix last commit

 -- Felix Botner <botner@univention.de>  Tue, 13 Jun 2017 18:06:38 +0200

univention-s4-connector (11.0.7-8) unstable; urgency=medium

  * Bug #31311: Don't append a trailing dot to the cname record value

 -- Arvid Requate <requate@univention.de>  Tue, 13 Jun 2017 18:01:08 +0200

univention-s4-connector (11.0.7-7) unstable; urgency=medium

  * Bug #33882: sync_from_ucs: Simplify con_subtree_delete_objects list
    and apply it to "windowscomputer" too.

 -- Arvid Requate <requate@univention.de>  Tue, 13 Jun 2017 17:38:30 +0200

univention-s4-connector (11.0.7-6) unstable; urgency=medium

  * Bug #33882: sync_from_ucs: Allow subtree delete with unmapped objects
    Note: Bug #26210 implemented this for the special case of "CN=RID Set"
    by whitelisting some RDNs allowed for removal. Now multiple alternative
    filter criteria can be specified in the mapping. A list of standard
    objectclasses has been configured for that.

 -- Arvid Requate <requate@univention.de>  Thu, 01 Jun 2017 20:51:16 +0200

univention-s4-connector (11.0.7-5) unstable; urgency=medium

  * Bug #43478: Update version dependency on univention-samba4

 -- Arvid Requate <requate@univention.de>  Wed, 24 May 2017 16:59:54 +0200

univention-s4-connector (11.0.7-4) unstable; urgency=medium

  * Bug #44517: Fix handling of Printer-Admins

 -- Arvid Requate <requate@univention.de>  Tue, 02 May 2017 18:13:43 +0200

univention-s4-connector (11.0.7-3) unstable; urgency=medium

  * Bug #43478: Don't consider unreachable UCS@school Slave DCs when
    looking for hosts running a S4-Connector.

 -- Arvid Requate <requate@univention.de>  Tue, 25 Apr 2017 20:53:57 +0200

univention-s4-connector (11.0.7-2) unstable; urgency=medium

  * Bug #33882: sync_from_ucs: Allow subtree delete with unmapped objects
    Note: Bug #26210 implemented this for the special case of "CN=RID Set"
    by whitelisting some RDNs allowed for removal. Since the whitelisting
    doesn't scale for other Active Directory objects, we now generally
    allow subtree removal and log this a process level.

 -- Arvid Requate <requate@univention.de>  Tue, 25 Apr 2017 19:32:29 +0200

univention-s4-connector (11.0.7-1) unstable; urgency=medium

  * Bug #31311: Don't append a trailing dot to the cname record value

 -- Arvid Requate <requate@univention.de>  Mon, 24 Apr 2017 19:42:24 +0200

univention-s4-connector (11.0.6-17) unstable; urgency=medium

  * Bug #44276: Fix handling of Printer-Admins

 -- Arvid Requate <requate@univention.de>  Thu, 13 Apr 2017 14:17:49 +0200

univention-s4-connector (11.0.6-16) unstable; urgency=medium

  * Bug #44276: Fix handling of Printer-Admins and looking for
    the objectsid.

 -- Arvid Requate <requate@univention.de>  Thu, 13 Apr 2017 11:27:56 +0200

univention-s4-connector (11.0.6-15) unstable; urgency=medium

  * Bug #44276: Fix unicode conversion of utf-8 encoded DNs

 -- Arvid Requate <requate@univention.de>  Wed, 12 Apr 2017 12:07:02 +0200

univention-s4-connector (11.0.6-14) unstable; urgency=medium

  * Bug #44276: Fix unicode conversion of utf-8 encoded DNs
    Add function unicode_to_utf8 as replacement for compatible_modstring
    ldap.dn.str2dn doesn't cope with unicode

 -- Arvid Requate <requate@univention.de>  Tue, 11 Apr 2017 16:42:36 +0200

univention-s4-connector (11.0.6-13) unstable; urgency=medium

  * Bug #44276: Fix unicode conversion of utf-8 encoded DNs

 -- Arvid Requate <requate@univention.de>  Thu, 06 Apr 2017 13:42:04 +0200

univention-s4-connector (11.0.6-12) unstable; urgency=medium

  * Bug #44276: Fix sync_from_ucs case of samaccountname_dn_mapping
    for account names containing non-ascii characters

 -- Arvid Requate <requate@univention.de>  Tue, 04 Apr 2017 19:05:51 +0200

univention-s4-connector (11.0.6-11) unstable; urgency=low

  * Bug #43470: Handle UCRV */autostart through systemd
  * Bug #43874: help systemd track pidfile

 -- Philipp Hahn <hahn@univention.de>  Wed, 15 Mar 2017 08:52:56 +0100

univention-s4-connector (11.0.6-10) unstable; urgency=medium

  * Bug #42045: Samba changed the PIDL code generator for string_array,
    (Samba Bug 12601) so the drsblobs.package_PackagesBlob.names now
    expexts a talloc.GenericObject reference, but python-talloc currently
    doesn't expose a constructor for that.

 -- Arvid Requate <requate@univention.de>  Wed, 08 Mar 2017 19:09:37 +0100

univention-s4-connector (11.0.6-9) unstable; urgency=medium

  * Bug #43629: s4c: introduce `connector/s4/mapping/gpo/syncmode`
  * Bug #43629: s4c: introduce `connector/s4/mapping/wmifilter/syncmode`
  * Bug #43629: s4c: introduce `connector/s4/mapping/msprintconnectionpolicy/syncmode`

 -- Lukas Oyen <oyen@univention.de>  Wed, 01 Mar 2017 14:32:02 +0100

univention-s4-connector (11.0.6-8) unstable; urgency=medium

  * Bug #41764: s4connector: port range retrieval patches.
    This commit ports the AD-connector range retrieval patches, committed by Arvid
    in r71661, r71662 and r71677, to the s4-connector.
  * Bug #41764: s4connector: slight cleanup in range retrieval

 -- Lukas Oyen <oyen@univention.de>  Tue, 28 Feb 2017 17:01:22 +0100

univention-s4-connector (11.0.6-7) unstable; urgency=medium

  * Bug #32086: s4connector: fix ldap.dn.dn2str() in dns.py

 -- Lukas Oyen <oyen@univention.de>  Wed, 15 Feb 2017 14:37:31 +0100

univention-s4-connector (11.0.6-6) unstable; urgency=medium

  * Bug #32086: s4connector: fix ldap.explode_dn()

 -- Lukas Oyen <oyen@univention.de>  Mon, 13 Feb 2017 16:52:06 +0100

univention-s4-connector (11.0.6-5) unstable; urgency=medium

  * Bug #43397: ad-connector: fix closing parenthesis in mapping.py

 -- Lukas Oyen <oyen@univention.de>  Tue, 07 Feb 2017 14:44:09 +0100

univention-s4-connector (11.0.6-4) unstable; urgency=medium

  * Bug #43397: s4-connector: fix `connector/s4/mapping/{dns,dc}/ignorelist` handling.
  * Bug #43397: s4-connector: correct `connector/s4/mapping/dns/ignorelist` in postinst
  * Bug #32086: s4-connector: escape ignore_filters in mapping.py

 -- Lukas Oyen <oyen@univention.de>  Mon, 06 Feb 2017 15:43:04 +0100

univention-s4-connector (11.0.6-3) unstable; urgency=low

  * Bug #38438: start-stop-daemon --oknodo

 -- Philipp Hahn <hahn@univention.de>  Fri, 03 Feb 2017 08:53:55 +0100

univention-s4-connector (11.0.6-2) unstable; urgency=medium

  * Bug #32086: fix getAttr() -> get() change in r76123

 -- Lukas Oyen <oyen@univention.de>  Thu, 26 Jan 2017 13:11:24 +0100

univention-s4-connector (11.0.6-1) unstable; urgency=medium

  * Bug #32086: fix getAttr change in svn r75089

 -- Florian Best <best@univention.de>  Thu, 26 Jan 2017 12:41:40 +0100

univention-s4-connector (11.0.5-1) unstable; urgency=medium

  * Bug #32086: dn is no attribute, search for entryDN attribute instead

 -- Florian Best <best@univention.de>  Wed, 25 Jan 2017 13:17:21 +0100

univention-s4-connector (11.0.4-2) unstable; urgency=low

  * Bug #43321: check uid and sAMAccountName in
    windowscomputer_sync_s4_to_ucs_check_rename

 -- Felix Botner <botner@univention.de>  Tue, 10 Jan 2017 17:18:08 +0100

univention-s4-connector (11.0.4-1) unstable; urgency=medium

  * Bug #43259: fix attribute case insensitivity in DNS DN mapping functions

 -- Florian Best <best@univention.de>  Mon, 02 Jan 2017 16:21:27 +0100

univention-s4-connector (11.0.3-6) unstable; urgency=medium

  * Bug #43259: fix attribute case insensitivity in DNS DN mapping functions

 -- Florian Best <best@univention.de>  Mon, 02 Jan 2017 15:54:50 +0100

univention-s4-connector (11.0.3-5) unstable; urgency=medium

  * Bug #43235: Fix race condition between writing and reading pickle
    files

 -- Florian Best <best@univention.de>  Thu, 22 Dec 2016 12:04:30 +0100

univention-s4-connector (11.0.3-4) unstable; urgency=medium

  * Bug #42393: Use the case insensitive s4connector._subtree_replace
    instead of other basic string operations

 -- Arvid Requate <requate@univention.de>  Tue, 13 Dec 2016 19:27:27 +0100

univention-s4-connector (11.0.3-3) unstable; urgency=medium

  * Bug #42393: Fix case of con_default_dn to match the actual lo_s4.base

 -- Arvid Requate <requate@univention.de>  Tue, 13 Dec 2016 17:40:44 +0100

univention-s4-connector (11.0.3-2) unstable; urgency=medium

  * Bug #42393: More cleanup:
    - _subtree_replace already replaces the ldap bases case insensitively
    - don't perform the default _subtree_replace again if position_mapping
      already modified the dn

 -- Arvid Requate <requate@univention.de>  Tue, 13 Dec 2016 17:37:19 +0100

univention-s4-connector (11.0.3-1) unstable; urgency=medium

  * Bug #42393: Cleanup: improve readability in the area of this bug

 -- Arvid Requate <requate@univention.de>  Tue, 13 Dec 2016 17:25:59 +0100

univention-s4-connector (11.0.2-7) unstable; urgency=medium

  * Bug #32086: Fix LDAP DN escaping. All DN (de-)constructions are now done via
    `ldap.dn.{dn2str,str2dn}`, enabling proper escaping.
  * Bug #32086: Fix LDAP filter escaping. All LDAP filter strings are now
    constructed via a new method `format_escaped()`, if there were not already
    constructed using the old `filter_format()`.
  * Bug #32086: Unify LDAP operations. Instead of raw searches on the underlying
    LDAP connection, `uldap.access.{search, get, getAttr}()` was introduced to
    profit from the existing wrapper.
  * Bug #32086: General cleanup. Some unused variables were removed. Some
    internal variables were renamed to something meaningful. Some unused imports
    were removed.

 -- Lukas Oyen <oyen@univention.de>  Wed, 07 Dec 2016 18:41:01 +0100

univention-s4-connector (11.0.2-6) unstable; urgency=low

  * Bug #41571: avoid overwriting the nTSecurityDescriptor in ntsd_to_s4
    post_con_*_functions if the uSNChanged was modified with respect to
    the s4cache.

 -- Arvid Requate <requate@univention.de>  Mon, 05 Dec 2016 21:38:57 +0100

univention-s4-connector (11.0.2-5) unstable; urgency=low

  * Bug #40659: Fix check for running proceeses with Docker

 -- Philipp Hahn <hahn@univention.de>  Fri, 02 Dec 2016 12:25:59 +0100

univention-s4-connector (11.0.2-4) unstable; urgency=medium

  * Bug #37388: make ucslint happy

 -- Arvid Requate <requate@univention.de>  Wed, 23 Nov 2016 13:36:40 +0100

univention-s4-connector (11.0.2-3) unstable; urgency=medium

  * Bug #37388: Fix issues reported by QA

 -- Arvid Requate <requate@univention.de>  Tue, 22 Nov 2016 12:36:07 +0100

univention-s4-connector (11.0.2-2) unstable; urgency=medium

  * Bug #37388: Sync client initiated renaming of Windows machine accounts
    from Samba/AD to OpenLDAP

 -- Arvid Requate <requate@univention.de>  Thu, 17 Nov 2016 14:37:36 +0100

univention-s4-connector (11.0.2-1) unstable; urgency=medium

  * While joining a Windows 8.1 client against Samba 4.5, we discovered
    that the CN attribute in S4 is defined uppercase. The mapping for
    the LDAP attributes is currently case sensitive. These are the first
    steps for a case insensitive LDAP attribute handling. Thanks to
    Florian, he wrote most of the patch (Bug #42855)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2016 22:22:22 +0100

univention-s4-connector (11.0.1-1) unstable; urgency=low

  * Bug #42120: Fix re-animation of deleted user objects (UCS@school)

 -- Arvid Requate <requate@univention.de>  Mon, 31 Oct 2016 20:03:23 +0100

univention-s4-connector (11.0.0-4) unstable; urgency=low

  * Bug #38438: Fix use of get_lsb_header_val

 -- Philipp Hahn <hahn@univention.de>  Tue, 13 Sep 2016 10:12:30 +0200

univention-s4-connector (11.0.0-3) unstable; urgency=low

  * Bug #38438: Make init-script LSB compliant

 -- Philipp Hahn <hahn@univention.de>  Fri, 09 Sep 2016 15:19:33 +0200

univention-s4-connector (11.0.0-2) unstable; urgency=medium

  * Add indexes to enable efficient lookup
      by data.guid_id (and data.attribute_id)
      by attributes.attribute
      by guids.guid
    to the SQLite database of the S4Cache
    Otherwise more objects lead to more work per object,
    i.e. quadratic complexity. (Bug #41999)
  * Additionally the patch adds indexes to enable efficient lookup
      by s4_lock.guid
      by ucs_lock.uuid
    to the SQLite database of the LockingDB
    Otherwise more locks lead to more work per lock,
    i.e. quadratic complexity. (Bug #41999)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Wed, 24 Aug 2016 19:02:13 +0200

univention-s4-connector (11.0.0-1) unstable; urgency=medium

  * Bug #41963: UCS-4.2 version bump

 -- Philipp Hahn <hahn@univention.de>  Fri, 12 Aug 2016 13:58:54 +0200

univention-s4-connector (10.0.1-19) unstable; urgency=medium

  * Bug #41006: Synchronize TXTRecord
    Additional fixes:
    - Consider MX record in s4_host_record_create too
    - Adjust to updated Samba code: use Samba CNameRecord object
    - Adjust to updated Samba code: set new rank attribute
    - Fix some cut&paste errors in log messages

 -- Arvid Requate <requate@univention.de>  Thu, 11 Aug 2016 11:32:00 +0200

univention-s4-connector (10.0.1-18) unstable; urgency=medium

  * Bug #41864: improve error handling

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2016 12:48:47 +0200

univention-s4-connector (10.0.1-17) unstable; urgency=medium

  * Bug #41864: ucs2con: allow recreation of deleted object
    with same sAMAccountName and objectSid

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2016 18:21:00 +0200

univention-s4-connector (10.0.1-16) unstable; urgency=medium

  * Bug #41756: ucs2con: allow recreation for visible ucs object

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2016 18:19:23 +0200

univention-s4-connector (10.0.1-15) unstable; urgency=medium

  * Bug #41884: UCS@school: When an object gets moved out of visibility
    for an UCS@school Samba/AD PDC Slave the listener only passes the
    first 'r' step of the modrdn operation to the s4-connector.py listener.
    In this case, the s4-connector.py pickels an artificial delete for
    the 'r' object (Bug #32542). It was found that it stored the attributes
    of the wrong (next/following) object into the pickle file.

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2016 18:16:00 +0200

univention-s4-connector (10.0.1-14) unstable; urgency=medium

  * Bug #41482: Add variable description

 -- Arvid Requate <requate@univention.de>  Wed, 08 Jun 2016 12:10:57 +0200

univention-s4-connector (10.0.1-13) unstable; urgency=medium

  * Bug #41482: Make host_record overridable

 -- Arvid Requate <requate@univention.de>  Tue, 07 Jun 2016 11:24:53 +0200

univention-s4-connector (10.0.1-12) unstable; urgency=low

  * Bug #41288: reopen ucs and s4 connection on
    ldap.SERVER_DOWN in s4.poll()

 -- Felix Botner <botner@univention.de>  Mon, 06 Jun 2016 10:24:48 +0200

univention-s4-connector (10.0.1-11) unstable; urgency=low

  * Bug #41309: compare cn lowercase for msPrintConnectionPolicy

 -- Felix Botner <botner@univention.de>  Fri, 20 May 2016 12:45:13 +0200

univention-s4-connector (10.0.1-10) unstable; urgency=medium

  * Bug #40467: Make ucs-lint happy

 -- Arvid Requate <requate@univention.de>  Wed, 20 Jan 2016 13:43:02 +0100

univention-s4-connector (10.0.1-9) unstable; urgency=medium

  * Bug #40467: Fix connector/s4/listener/disabled

 -- Arvid Requate <requate@univention.de>  Wed, 20 Jan 2016 13:38:16 +0100

univention-s4-connector (10.0.1-8) unstable; urgency=medium

  * Escape ldap search attribute values in dns.py (Bug #40380)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jan 2016 16:31:09 +0100

univention-s4-connector (10.0.1-7) unstable; urgency=low

  * added translation for msprintconnectionpolicy (Bug #40298)

 -- Felix Botner <botner@univention.de>  Tue, 22 Dec 2015 09:54:40 +0100

univention-s4-connector (10.0.1-6) unstable; urgency=low

  * fixed msPrint-ConnectionPolicy udm module (Bug #40298)

 -- Felix Botner <botner@univention.de>  Mon, 21 Dec 2015 11:25:15 +0100

univention-s4-connector (10.0.1-5) unstable; urgency=low

  * sync msPrint-ConnectionPolicy (Bug #40298)

 -- Felix Botner <botner@univention.de>  Fri, 18 Dec 2015 15:29:17 +0100

univention-s4-connector (10.0.1-4) unstable; urgency=medium

  * Don't use the premapped DN in case the sAMAccountName has been
    changed (Bug #40233)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Dec 2015 21:34:37 +0100

univention-s4-connector (10.0.1-3) unstable; urgency=medium

  * Use the premapped DN in case of a deletion (Bug #40233)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 12 Dec 2015 19:48:56 +0100

univention-s4-connector (10.0.1-2) unstable; urgency=low

  * Recommends univention-nagios-s4-connector (Bug #37006)

 -- Felix Botner <botner@univention.de>  Thu, 26 Nov 2015 12:44:34 +0100

univention-s4-connector (10.0.1-1) unstable; urgency=medium

  * The LDAP Page Control must be the first in the internal LDAP control
    list because it is referenced at first position later (Bug #39673)
  * Bump version

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 29 Oct 2015 21:27:40 +0100

univention-s4-connector (9.0.16-50) unstable; urgency=medium

  * Bug #34184: Update version number used in update check

 -- Arvid Requate <requate@univention.de>  Tue, 27 Oct 2015 12:31:32 +0100

univention-s4-connector (9.0.16-49) unstable; urgency=medium

  * Bug #34184: Fix _identify_dns_con_object, the DN it gets is a mapped
    UCS DN, so look for "zoneName" instead of "DC".

 -- Arvid Requate <requate@univention.de>  Mon, 26 Oct 2015 16:51:52 +0100

univention-s4-connector (9.0.16-48) unstable; urgency=medium

  * Bug #34184: Ignore ..TrustAnchors pseudo zone in ForestDnsZones

 -- Arvid Requate <requate@univention.de>  Mon, 26 Oct 2015 12:07:58 +0100

univention-s4-connector (9.0.16-47) unstable; urgency=medium

  * Fix log message (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Oct 2015 23:58:10 +0200

univention-s4-connector (9.0.16-46) unstable; urgency=medium

  * Avoid using broken s4connector.s4.explode_unicode_dn (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Tue, 06 Oct 2015 21:50:51 +0200

univention-s4-connector (9.0.16-45) unstable; urgency=medium

  * Fix another corner case in the hnadling of the S4-dnsZone object
    (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Aug 2015 13:50:14 +0200

univention-s4-connector (9.0.16-44) unstable; urgency=medium

  * After some merging the ucs-4.0-3 branch and ucs-4.1-0 are now back
    in sync, adjusting version number to reflect that. (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Aug 2015 22:27:38 +0200

univention-s4-connector (9.0.16-42) unstable; urgency=medium

  * ucs2con hack to sync the SOA serialNumber to separate S4 _msdcs sub-zone.
    This is only relevant in case connector/s4/mapping/dns/position=legacy.
    In the con2ucs direction take the max of the serialNumber.  (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Tue, 11 Aug 2015 16:13:21 +0200

univention-s4-connector (9.0.16-41) unstable; urgency=medium

  * Mapping _msdcs.<domain> DNs also requires mapping of relativeDomainName
    (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Mon, 10 Aug 2015 22:28:09 +0200

univention-s4-connector (9.0.16-40) unstable; urgency=medium

  * dns con2ucs: Always map _msdcs.<domain> zone entries to entries within
    the OpenLDAP domain zone (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Mon, 10 Aug 2015 16:16:29 +0200

univention-s4-connector (9.0.16-39) unstable; urgency=medium

  * Fix case of new DNS object sync_from_ucs (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Aug 2015 20:34:20 +0200

univention-s4-connector (9.0.16-38) unstable; urgency=medium

  * Fix dns_type comparison to ignore unknown DNS objects instead of
    creating a dns/host_record for them (Bug #39077)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Aug 2015 15:50:30 +0200

univention-s4-connector (9.0.16-37) unstable; urgency=medium

  * Filter out DC=DomainDnsZones, these are no usual containers (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Mon, 03 Aug 2015 20:09:02 +0200

univention-s4-connector (9.0.16-36) unstable; urgency=low

  * also look for dn_attr=dn_attr_val in
    samaccountname_dn_mapping to detect modrdn (Bug #37709)

 -- Felix Botner <botner@univention.de>  Mon, 03 Aug 2015 18:52:17 +0200

univention-s4-connector (9.0.16-35) unstable; urgency=medium

  * Some fixes (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Jul 2015 23:23:17 +0200

univention-s4-connector (9.0.16-34) unstable; urgency=medium

  * Some fixes (Bug #34184)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Jul 2015 22:17:28 +0200

univention-s4-connector (9.0.16-33) unstable; urgency=medium

  * Fix syntax issue (Bug #39040)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Jul 2015 11:48:45 +0200

univention-s4-connector (9.0.16-32) unstable; urgency=medium

  * Fix sync of SOA record changes back to UDM (Bug #39040)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Jul 2015 23:40:35 +0200

univention-s4-connector (9.0.16-31) unstable; urgency=medium

  * Use a dn_mapping_function for DNS objects (Bug #34184)
  * Monitor changes on DC=DomainDnsZones and DC=ForestDnsZones partitions
  * New UCR variable connector/s4/mapping/dns/position
  * For new installations write new DNS zones to DC=DomainDnsZones

 -- Arvid Requate <requate@univention.de>  Wed, 29 Jul 2015 23:38:16 +0200

univention-s4-connector (9.0.16-30) unstable; urgency=medium

  [ Arvid Requate ]
  * S4Cache: fixes sqlite command (Bug #38645)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 15 Jun 2015 19:52:52 +0200

univention-s4-connector (9.0.16-29) unstable; urgency=medium

  * Better use the compatible_modstring function instead of converting
    the DN directly (Bug #38645)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 14 Jun 2015 13:42:54 +0200

univention-s4-connector (9.0.16-28) unstable; urgency=medium

  * Again use compatible_modstring in S4 save rejected (Bug #38645)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 13 Jun 2015 18:48:17 +0200

univention-s4-connector (9.0.16-27) unstable; urgency=medium

  * Save UTF8 DNs in the sqlite database and don't check for empty strings
    as result (Bug #38645)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 13 Jun 2015 14:42:37 +0200

univention-s4-connector (9.0.16-26) unstable; urgency=low

  * Bug #36532: Speed up network re-config

 -- Philipp Hahn <hahn@univention.de>  Thu, 22 Jan 2015 11:26:43 +0100

univention-s4-connector (9.0.16-25) unstable; urgency=medium

  * Refactor adjust_obsolete_gpo_and_wmi_rejects
    to make it clearer for future reference (Bug #37259)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Jun 2015 21:40:20 +0200

univention-s4-connector (9.0.16-24) unstable; urgency=medium

  * Fix quoting bug (Bug #37259)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Jun 2015 16:54:36 +0200

univention-s4-connector (9.0.16-23) unstable; urgency=medium

  * Rename scripts/remove_obsolete_gpo_and_wmi_rejects to
    scripts/adjust_obsolete_gpo_and_wmi_rejects (Bug #37259)
  * Improve scripts/adjust_obsolete_gpo_and_wmi_rejects

 -- Arvid Requate <requate@univention.de>  Thu, 04 Jun 2015 13:39:16 +0200

univention-s4-connector (9.0.16-22) unstable; urgency=medium

  * Fix single-value mapping (Bug #37259)
  * Run remove_obsolete_gpo_and_wmi_rejects on upgrade

 -- Arvid Requate <requate@univention.de>  Wed, 03 Jun 2015 19:23:24 +0200

univention-s4-connector (9.0.16-21) unstable; urgency=medium

  * Fixed quoting typo of last commit (Bug #38557)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 May 2015 13:49:57 +0200

univention-s4-connector (9.0.16-20) unstable; urgency=medium

  * Reset bad password attributes while syncing the password from UCS to
    Samba 4 (Bug #38557)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 May 2015 10:52:15 +0200

univention-s4-connector (9.0.16-19) unstable; urgency=medium

  * Use more SQL parameter substitution (Bug #38614)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 May 2015 10:16:09 +0200

univention-s4-connector (9.0.16-18) unstable; urgency=medium

  * Encode SQL commands to allow usernames with a ' (Bug #38614)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 May 2015 06:31:43 +0200

univention-s4-connector (9.0.16-17) unstable; urgency=low

  * Bug #28331: removed pwdComplexity UDM default from join script

 -- Felix Botner <botner@univention.de>  Tue, 14 Apr 2015 10:04:00 +0200

univention-s4-connector (9.0.16-16) unstable; urgency=low

  * Bug #28331: fixed postinst

 -- Felix Botner <botner@univention.de>  Thu, 09 Apr 2015 16:51:58 +0200

univention-s4-connector (9.0.16-15) unstable; urgency=low

  * Bug #28331
  * initial (update) setup of UCS pwdProperties
  * dc/syncmode=write for slaves in ucs@school

 -- Felix Botner <botner@univention.de>  Thu, 09 Apr 2015 16:10:15 +0200

univention-s4-connector (9.0.16-14) unstable; urgency=low

  * Bug #28331: added synchronization of domainPwdProperties
    pwdProperties to s4connector/s4/dc.py

 -- Felix Botner <botner@univention.de>  Fri, 27 Mar 2015 12:11:50 +0100

univention-s4-connector (9.0.16-13) unstable; urgency=low

  * Bug #36317: update krb5PasswordEnd too

 -- Felix Botner <botner@univention.de>  Thu, 05 Mar 2015 17:53:17 +0100

univention-s4-connector (9.0.16-12) unstable; urgency=low

  * Bug #36317: update shadowMax and shadowLastChange during password
    change in s4

 -- Felix Botner <botner@univention.de>  Tue, 03 Mar 2015 13:33:20 +0100

univention-s4-connector (9.0.16-11) unstable; urgency=low

  * Bug #36317: update shadowMax and shadowLastChange during password
    change in s4

 -- Felix Botner <botner@univention.de>  Tue, 03 Mar 2015 11:14:05 +0100

univention-s4-connector (9.0.16-10) unstable; urgency=medium

  * Bug #33110: Cleanup S4 LDAP base lookup code

 -- Arvid Requate <requate@univention.de>  Tue, 06 Jan 2015 14:37:44 +0100

univention-s4-connector (9.0.16-9) unstable; urgency=medium

  * Bug #33110: Make object mapping to return properly cased LDAP base in DNs
  * Lookup S4 LDAP base from S4 Root DSE to get properly cased S4 LDAP base

 -- Arvid Requate <requate@univention.de>  Tue, 06 Jan 2015 13:23:55 +0100

univention-s4-connector (9.0.16-8) unstable; urgency=medium

  * Bug #33110: Map DNs to UCR LDAP base case before calling position.setDn

 -- Arvid Requate <requate@univention.de>  Mon, 05 Jan 2015 20:42:58 +0100

univention-s4-connector (9.0.16-7) unstable; urgency=medium

  * Bug #36980: New UCR variable connector/s4/mapping/gpo/ntsd

 -- Arvid Requate <requate@univention.de>  Mon, 15 Dec 2014 17:07:40 +0100

univention-s4-connector (9.0.16-6) unstable; urgency=medium

  * Bug #36981: Treat objects without entryUUID as rejected

 -- Arvid Requate <requate@univention.de>  Wed, 10 Dec 2014 16:18:26 +0100

univention-s4-connector (9.0.16-5) unstable; urgency=medium

  * Bug #33768: On updates trigger synchronization of GPO NTSDs
  * Add --filter option to resync_object_from_ucs and resync_object_from_s4

 -- Arvid Requate <requate@univention.de>  Thu, 27 Nov 2014 18:09:41 +0100

univention-s4-connector (9.0.16-4) unstable; urgency=medium

  * Bug #36981: Don't sync cn=Subschema
  * Log error if entryUUID is missing in pickle file but continue

 -- Arvid Requate <requate@univention.de>  Mon, 24 Nov 2014 20:22:04 +0100

univention-s4-connector (9.0.16-3) unstable; urgency=medium

  * Bug #36980: Fix python version in ntsecurity_descriptor.py

 -- Arvid Requate <requate@univention.de>  Mon, 24 Nov 2014 19:50:49 +0100

univention-s4-connector (9.0.16-2) unstable; urgency=medium

  * Bug #36980: Synchronize nTSecurityDescriptor

 -- Arvid Requate <requate@univention.de>  Mon, 24 Nov 2014 19:40:59 +0100

univention-s4-connector (9.0.16-1) unstable; urgency=medium

  * Use udm.handlers.src_record.unmapName (Bug #36101)

 -- Arvid Requate <requate@univention.de>  Mon, 03 Nov 2014 13:08:21 +0100

univention-s4-connector (9.0.15-1) unstable; urgency=medium

  * Don't use the auto reconnect feature of python-ldap/univention.uldap
    for the S4 connection, reestablished connection is invalid in case
    samba has been restartet (Bug #36227).

 -- Arvid Requate <requate@univention.de>  Tue, 21 Oct 2014 13:10:01 +0200

univention-s4-connector (9.0.14-1) unstable; urgency=low

  * fixed sync_mode check in post_con_modify_functions (Bug #35251)

 -- Felix Botner <botner@univention.de>  Tue, 09 Sep 2014 09:46:06 +0200

univention-s4-connector (9.0.13-1) unstable; urgency=medium

  * Don't set the telephoneNumber to the otherTelephoneNumber while
    changing the number (Bug #31172)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 09 Sep 2014 06:51:20 +0200

univention-s4-connector (9.0.12-1) unstable; urgency=medium

  * delete_in_ucs: added a special handling for windows computer. If the
    computer is a normal member in AD and a DC in OpenLDAP, the computer
    will be removed and re-added if Samba 4 will be installed on the DC
    slave. Without this special check the object will be removed by the
    connector (Bug #35563)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Sep 2014 14:54:49 +0200

univention-s4-connector (9.0.11-1) unstable; urgency=low

  * check sync_mode in post_con_modify_functions
    object_memberships_sync* (Bug #35251)

 -- Felix Botner <botner@univention.de>  Thu, 04 Sep 2014 13:49:48 +0200

univention-s4-connector (9.0.10-1) unstable; urgency=medium

  * Fixed non-leaf exception handling (Bug #27290)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Sep 2014 10:27:25 +0200

univention-s4-connector (9.0.9-1) unstable; urgency=medium

  * Fixed typo in last commit (Bug #33319)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Sep 2014 08:23:04 +0200

univention-s4-connector (9.0.8-1) unstable; urgency=medium

  * Don't remove group members if the group exists during the first sync
    on both sides (Bug #33319)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Sep 2014 07:15:05 +0200

univention-s4-connector (9.0.7-1) unstable; urgency=medium

  * Always cleanup the locking table when the sync was successful
    (Bug #35391)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Sep 2014 06:26:12 +0200

univention-s4-connector (9.0.6-1) unstable; urgency=medium

  * Removed MOD_DELETE for con_other_attribute during ldap add
    (Bug #31172)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 03 Sep 2014 17:01:08 +0200

univention-s4-connector (9.0.5-1) unstable; urgency=medium

  * Added a locking table to avoid overwrites from objects which have
    been synchronized half (Bug #35391)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 03 Sep 2014 16:21:51 +0200

univention-s4-connector (9.0.4-6) unstable; urgency=medium

  * Call samba-ad-dc init script instead of samba4 (Bug #35319)

 -- Arvid Requate <requate@univention.de>  Tue, 26 Aug 2014 21:23:18 +0200

univention-s4-connector (9.0.4-5) unstable; urgency=medium

  * Don't attempt to list a non-existent directory (Bug #32813)

 -- Arvid Requate <requate@univention.de>  Mon, 25 Aug 2014 19:03:36 +0200

univention-s4-connector (9.0.4-4) unstable; urgency=medium

  * the third half.. (Bug #35320)

 -- Arvid Requate <requate@univention.de>  Mon, 25 Aug 2014 18:17:57 +0200

univention-s4-connector (9.0.4-3) unstable; urgency=medium

  * the second half of the fix for python-ldap 2.4 (Bug #35320)

 -- Arvid Requate <requate@univention.de>  Mon, 25 Aug 2014 18:10:35 +0200

univention-s4-connector (9.0.4-2) unstable; urgency=medium

  * Adjust to python-ldap 2.4 (Bug #35320)

 -- Arvid Requate <requate@univention.de>  Mon, 25 Aug 2014 17:06:43 +0200

univention-s4-connector (9.0.4-1) unstable; urgency=medium

  * More python2.7 adjustments (Bug #35319)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 22 Aug 2014 07:02:57 +0200

univention-s4-connector (9.0.3-1) unstable; urgency=medium

  * samba-tool is in samba-common-bin since some time (Bug #35320)

 -- Arvid Requate <requate@univention.de>  Wed, 20 Aug 2014 16:52:26 +0200

univention-s4-connector (9.0.2-1) unstable; urgency=medium

  * Fixed python traceback from last commit (Bug #35626)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 19 Aug 2014 15:25:44 +0200

univention-s4-connector (9.0.1-1) unstable; urgency=medium

  * Define SID as single value (Bug #35626)
  * Use mapping function for single values if one is defined (Bug #35626)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 19 Aug 2014 11:53:39 +0200

univention-s4-connector (9.0.0-1) unstable; urgency=medium

  * version bump for UCS 4.0 (Bug #35319)
  * Adjust for python2.7
  * raise debian/compat to 9
  * Update copyright year

 -- Arvid Requate <requate@univention.de>  Mon, 18 Aug 2014 18:21:46 +0200

univention-s4-connector (8.0.33-70) unstable; urgency=medium

  * Fix undefined variable (Bug #33263)

 -- Arvid Requate <requate@univention.de>  Tue, 12 Aug 2014 17:27:54 +0200

univention-s4-connector (8.0.33-69) unstable; urgency=medium

  * No need to make a fuss about running AD Takeover from AD Member mode,
    revert that part of the last change (Bug #35500).

 -- Arvid Requate <requate@univention.de>  Wed, 30 Jul 2014 18:41:33 +0200

univention-s4-connector (8.0.33-68) unstable; urgency=medium

  * When running AD Takeover from AD Member mode we should stop the joinscript
    after creating the required UDM containers and before starting sync and
    waiting for DNS replication (Bug #35500).
  * Make logrotate only "crestart" the s4-connector

 -- Arvid Requate <requate@univention.de>  Wed, 30 Jul 2014 18:12:04 +0200

univention-s4-connector (8.0.33-67) unstable; urgency=medium

  * Remove univention-ad-takeover CLI script (Bug #35514)

 -- Arvid Requate <requate@univention.de>  Tue, 29 Jul 2014 20:00:17 +0200

univention-s4-connector (8.0.33-66) unstable; urgency=medium

  * Adjust bug number for Errata update (Bug #35500)

 -- Arvid Requate <requate@univention.de>  Mon, 28 Jul 2014 18:14:19 +0200

univention-s4-connector (8.0.33-65) unstable; urgency=medium

  * Abort joinscript if is_domain_in_admember_mode (Bug #35500)

 -- Arvid Requate <requate@univention.de>  Thu, 24 Jul 2014 17:49:23 +0200

univention-s4-connector (8.0.33-64) unstable; urgency=medium

  * Revert last change for errata3.2-2 release (Bug #33621, Bug #35500)

 -- Arvid Requate <requate@univention.de>  Thu, 24 Jul 2014 11:05:29 +0200

univention-s4-connector (8.0.33-63) unstable; urgency=medium

  * Abort joinscript if is_domain_in_admember_mode (Bug #35500)

 -- Arvid Requate <requate@univention.de>  Wed, 23 Jul 2014 17:17:44 +0200

univention-s4-connector (8.0.33-62) unstable; urgency=medium

  * Revert GuidNotInCache part of last patch, this would change the behavior
    and break resync of an S4-object which is not found in the cache. Maybe
    there are use cases for this (Bug #33621).
  * Give an estimate of the resync delay.

 -- Arvid Requate <requate@univention.de>  Wed, 23 Jul 2014 16:36:18 +0200

univention-s4-connector (8.0.33-61) unstable; urgency=low

  * Added more diff mode patches from Arvid (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Jul 2014 17:59:34 +0200

univention-s4-connector (8.0.33-60) unstable; urgency=low

  * Use plain objectGUID for S4 sqlite tables (Bug #33621, Bug #32263)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Jul 2014 07:03:19 +0200

univention-s4-connector (8.0.33-59) unstable; urgency=low

  * s4connector/s4cache.py: Normalize the values before comparing
    (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Jul 2014 06:46:52 +0200

univention-s4-connector (8.0.33-58) unstable; urgency=low

  * Added old pbject to sync_to_ucs call (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Jul 2014 06:31:43 +0200

univention-s4-connector (8.0.33-56) unstable; urgency=low

  * Update the deleted cache after the deletion of an object
    (Bug #32263)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Jul 2014 06:21:23 +0200

univention-s4-connector (8.0.33-55) unstable; urgency=low

  * Revert: Add the newly created S4 object to the s4 cache (Bug #33621

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 17 Jul 2014 08:36:27 +0200

univention-s4-connector (8.0.33-54) unstable; urgency=low

  * scripts/remove_ucs_rejected.py: support multiple rejects for one DN
    (Bug #32194)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Jul 2014 20:52:23 +0200

univention-s4-connector (8.0.33-53) unstable; urgency=low

  * Add the newly created S4 object to the s4 cache (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Jul 2014 16:49:44 +0200

univention-s4-connector (8.0.33-52) unstable; urgency=low

  * Update deleted cache while removing object in S4 (Bug #32263)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Jul 2014 16:32:07 +0200

univention-s4-connector (8.0.33-51) unstable; urgency=low

  * Fixed python syntax error from last commit (Bug #32194)
  * Updated copyright

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 Jul 2014 20:37:41 +0200

univention-s4-connector (8.0.33-50) unstable; urgency=low

  * Added new helper tools:
    (Bug #32194)
     - remove_s4_rejected.py
       Removes a S4 object from the list of rejected S4 objects.
       See univention-s4connector-list-rejected
     - remove_ucs_rejected.py
       Removes an UCS object from the list of rejected UCS objects.
       See univention-s4connector-list-rejected
    (Bug #33621)
     - DN2base64Guid.py
       Converts the objectGUID of an S4 object to base64. This is helpful
       for debugging the /etc/univention/connector/s4cache.sqlite values.
     - base64Guid2DN.py
       Decodes the base64 based objectGUID and returns the S4 DN. This is
       helpful for debugging the /etc/univention/connector/s4cache.sqlite
       values.
     - resync_object_from_s4.py
       Removes all cache entries of an S4 object and resyncs this object
       from S4 to OpenLDAP.
     - resync_object_from_ucs.py
       Removes all cache entries of an UCS object and resyncs this object
       from OpenLDAP to UCS.

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 Jul 2014 20:16:38 +0200

univention-s4-connector (8.0.33-49) unstable; urgency=low

  * Restart bind9 if the ldap/master can't be resolved (Bug #34865)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 07 Jul 2014 08:08:29 +0200

univention-s4-connector (8.0.33-48) unstable; urgency=low

  * The group_members_cache_con is not be filled in write mode. So we
    have to ignore the previous AD memberships (Bug #35238)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Jul 2014 10:04:11 +0200

univention-s4-connector (8.0.33-47) unstable; urgency=low

  * Re-added diff mode changes (Bug #33621 and Bug #32263)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 15 May 2014 14:36:39 +0200

univention-s4-connector (8.0.33-46) unstable; urgency=low

  * Don't close the lock_file fd (Bug #34410)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 May 2014 20:01:16 +0200

univention-s4-connector (8.0.33-45) unstable; urgency=low

  * Remove single_value from mapping file (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 May 2014 15:09:04 +0200

univention-s4-connector (8.0.33-44) unstable; urgency=low

  * Revert changes for Bug #33621 and Bug #32263. These bugs have been
    moved to UCS 3.2-2-errata

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 May 2014 14:48:01 +0200

univention-s4-connector (8.0.33-43) unstable; urgency=low

  * group_members_sync_to_ucs: use the correct key for the object
    mapping (Bug #34197)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 May 2014 14:21:03 +0200

univention-s4-connector (8.0.33-42) unstable; urgency=low

  * Set the list of changed attributes even if the object was created
    (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 May 2014 08:24:19 +0200

univention-s4-connector (8.0.33-41) unstable; urgency=low

  * It is not sufficient to run base64.decodestring to detect a base64
    string. Update _is_base64() (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 05 May 2014 08:31:53 +0200

univention-s4-connector (8.0.33-40) unstable; urgency=low

  * Sync the password if the user was created in UCS (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 23 Apr 2014 15:02:51 +0200

univention-s4-connector (8.0.33-39) unstable; urgency=low

  * Use listener.baseConfig instead of listener.ucr (Bug #33858)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Apr 2014 15:24:48 +0200

univention-s4-connector (8.0.33-38) unstable; urgency=low

  * Added UCR variable connector/s4/listener/disabled to disable the s4
    connector listener module on this host (Bug #33858)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Apr 2014 15:12:37 +0200

univention-s4-connector (8.0.33-37) unstable; urgency=low

  * Skip the password synchronization if no password attribute has been
    changed (Bug #33621)
  * Generate a strong password which fulfill the password complexity
    settings (Bug #34478)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 22 Apr 2014 07:43:43 +0200

univention-s4-connector (8.0.33-36) unstable; urgency=low

  * The last change didn't check if an attribute was deleted. This has
    been fixed (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 19 Apr 2014 08:16:05 +0200

univention-s4-connector (8.0.33-35) unstable; urgency=low

  * Check if the diff in UCS results to a change in S4, otherwise it is
    possible that a container should be renamed to the same name in S4
    which will be result in an LDB error (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Apr 2014 21:11:01 +0200

univention-s4-connector (8.0.33-34) unstable; urgency=low

  * Save the entryUUID of deleted objects in OpenLDAP to a local cache.
    This will prevent a recreation of deleted objects (Bug #32263)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Apr 2014 20:32:43 +0200

univention-s4-connector (8.0.33-33) unstable; urgency=low

  * Prevent multiple S4 connector instances (Bug #34410)
  * The pcpatch user is no longer be ignored by default (Bug #34394)
  * Build only for Python 2.6 (Bug #31320)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 Apr 2014 10:08:52 +0200

univention-s4-connector (8.0.33-32) unstable; urgency=low

  * Remove the internal dn_list which has been used to detect multi
    object changes. This is required for the switch from object based
    sync to diff based sync (Bug #33621)
  * Add diff mode for modifications from UCS to S4 (Bug #33621)
  * Add diff mode for modifications from S4 to UCS (Bug #33621)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 Apr 2014 10:59:02 +0200

univention-s4-connector (8.0.33-31) unstable; urgency=medium

  * WMI filter: Bump joinscript-version for upgrades from ucs_3.1-1 to
    register the LDAP Schema and module extension (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Feb 2014 11:16:16 +0100

univention-s4-connector (8.0.33-30) unstable; urgency=medium

  * WMI filter: Fix case of initial installation on first UCS@school DC
   (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Jan 2014 11:30:28 +0100

univention-s4-connector (8.0.33-29) unstable; urgency=medium

  * Raise timeout limits for initial listener replication and restart
    (Bug #33644)

 -- Arvid Requate <requate@univention.de>  Tue, 28 Jan 2014 17:31:13 +0100

univention-s4-connector (8.0.33-28) unstable; urgency=medium

  * Fix syntax (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Tue, 28 Jan 2014 12:17:54 +0100

univention-s4-connector (8.0.33-27) unstable; urgency=medium

  * WMI filter: Fix case of initial installation on first UCS@school DC
  * Improved robustness of update installation (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Tue, 28 Jan 2014 12:16:02 +0100

univention-s4-connector (8.0.33-26) unstable; urgency=medium

  * add --write2samba4 code to upgrade_msWMI-Som.py (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Fri, 24 Jan 2014 17:01:10 +0100

univention-s4-connector (8.0.33-25) unstable; urgency=low

  * Remove the internal S4 Connector SQLite database while re-joining
    (Bug #33940)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 24 Jan 2014 09:08:53 +0100

univention-s4-connector (8.0.33-24) unstable; urgency=medium

  * Turn container/mswmifilter into settings/mswmifilter (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Jan 2014 21:29:03 +0100

univention-s4-connector (8.0.33-23) unstable; urgency=medium

  * Sync WMI filters and links to UCS
    (only during this joinscript update)
  * Sync WMI filters and links to Samba4 on UCS@school Slave PDCs
    (only during this joinscript update)
  * fix scripts/msGPOWQLFilter.py
  * add --write2samba4 code to upgrade_msWMI-Som.py (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Jan 2014 21:10:04 +0100

univention-s4-connector (8.0.33-22) unstable; urgency=medium

  * Create CN=WMIPolicy,CN=System independent of joinscript version
  * fix scripts/msGPOWQLFilter.py (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Jan 2014 19:06:10 +0100

univention-s4-connector (8.0.33-21) unstable; urgency=medium

  * Create CN=WMIPolicy,CN=System referenced by UCS@school ACLs
    (Bug #33936).

 -- Arvid Requate <requate@univention.de>  Thu, 23 Jan 2014 17:11:59 +0100

univention-s4-connector (8.0.33-20) unstable; urgency=medium

  * Reduce waiting time for ucs_registerLDAPExtension (Bug #33936).

 -- Arvid Requate <requate@univention.de>  Tue, 21 Jan 2014 18:17:41 +0100

univention-s4-connector (8.0.33-19) unstable; urgency=medium

  * Move package update operations for mswmi to join script,
    required for those UCS@school domains where the S4 Connector is only
    installed on the UCS DC Slaves (Bug #33936).

 -- Arvid Requate <requate@univention.de>  Tue, 21 Jan 2014 18:16:17 +0100

univention-s4-connector (8.0.33-18) unstable; urgency=medium

  * Ship msgpo.schema and mswmi.schema (Bug #33936)
  * Use ucs_registerLDAPExtension for schema extensions and udm modules

 -- Arvid Requate <requate@univention.de>  Tue, 21 Jan 2014 15:12:28 +0100

univention-s4-connector (8.0.33-17) unstable; urgency=medium

  * Some LDAP mapping fixes for Bug #33936

 -- Arvid Requate <requate@univention.de>  Thu, 16 Jan 2014 16:18:02 +0100

univention-s4-connector (8.0.33-16) unstable; urgency=medium

  * succomb to the intricate logic of configRegistry.is_false (Bug #33936)

 -- Arvid Requate <requate@univention.de>  Thu, 16 Jan 2014 14:49:52 +0100

univention-s4-connector (8.0.33-15) unstable; urgency=medium

  * New UDM module container/mswmifilter (Bug #33936)
  * New UCR variables connector/s4/mapping/wmifilter etc.
  * Mapping extended for WMI filters
  * Scripts adjusted/added for upgrading

 -- Arvid Requate <requate@univention.de>  Thu, 16 Jan 2014 14:34:04 +0100

univention-s4-connector (8.0.33-14) unstable; urgency=medium

  * Fix handling of initial DNS lookup error in univention-ad-takeover
    (Bug #31731)

 -- Arvid Requate <requate@univention.de>  Tue, 14 Jan 2014 17:26:25 +0100

univention-s4-connector (8.0.33-13) unstable; urgency=medium

  * univention-ad-takeover: Fix renaming of well known users (Bug #33644)
  * remove special handling for 'Guest'/'Gast'

 -- Arvid Requate <requate@univention.de>  Tue, 14 Jan 2014 16:28:56 +0100

univention-s4-connector (8.0.33-12) unstable; urgency=medium

  * univention-ad-takeover:
    Rename well known users in UDM to match the name in AD (Bug #33644)

 -- Arvid Requate <requate@univention.de>  Thu, 09 Jan 2014 19:17:48 +0100

univention-s4-connector (8.0.33-11) unstable; urgency=medium

  * PEP 0263 for univention-ad-takeover (Bug #33644)

 -- Arvid Requate <requate@univention.de>  Tue, 07 Jan 2014 11:43:05 +0100

univention-s4-connector (8.0.33-10) unstable; urgency=medium

  * univention-ad-takeover (Bug #33644):
    Adjust mapping/group/table/Printer-Admins for non-english ADs
  * Fix duplicate encoding in univention-s4connector-list-rejected

 -- Arvid Requate <requate@univention.de>  Tue, 07 Jan 2014 11:19:41 +0100

univention-s4-connector (8.0.33-9) unstable; urgency=medium

  * univention-ad-takeover (Bug #33644):
  * Fix matching of well known SIDs
  * Fix migration of existing UCS group SIDs

 -- Arvid Requate <requate@univention.de>  Mon, 06 Jan 2014 20:57:10 +0100

univention-s4-connector (8.0.33-8) unstable; urgency=medium

  * univention-ad-takeover (Bug #33644):
  * Don't set the UCR groups/default/.. this is now done by a listener
  * Relax groups/group/properties/name/syntax

 -- Arvid Requate <requate@univention.de>  Thu, 12 Dec 2013 17:31:56 +0100

univention-s4-connector (8.0.33-7) unstable; urgency=medium

  * Adjust univention-ad-takeover to univention.lib.s4 change (Bug #33644)

 -- Arvid Requate <requate@univention.de>  Wed, 11 Dec 2013 17:47:45 +0100

univention-s4-connector (8.0.33-6) unstable; urgency=low

  * Fixed typos (Bug #33711)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 11 Dec 2013 17:20:28 +0100

univention-s4-connector (8.0.33-5) unstable; urgency=low

  * The sync mode is now configurable for every connector property such
    as users, groups, containers etc. (Bug #33711)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 11 Dec 2013 07:16:43 +0100

univention-s4-connector (8.0.33-4) unstable; urgency=medium

  * univention-ad-takeover: (Bug #33644)
  * Don't rename "Printer-Admins"
  * Use canonical group names for UCR variables to work around Bug #32461#c2
  * No need to lookup different group names in Samba4 after renaming

 -- Arvid Requate <requate@univention.de>  Tue, 10 Dec 2013 18:58:22 +0100

univention-s4-connector (8.0.33-3) unstable; urgency=medium

  * Python syntax fixes (Bug #33644)

 -- Arvid Requate <requate@univention.de>  Tue, 10 Dec 2013 16:14:24 +0100

univention-s4-connector (8.0.33-2) unstable; urgency=low

  * univention-ad-takeover:
    Rename well known groups in UDM to match the name in AD (Bug #33644)
  * The well_known_sids/rids dictionaries have been moved to univention-lib
  * Exception for group "Windows Hosts" is not necessary

 -- Arvid Requate <requate@univention.de>  Tue, 10 Dec 2013 16:04:15 +0100

univention-s4-connector (8.0.33-1) unstable; urgency=low

  * univention-ad-takeover:
    Run samba-tool dbfix at the end of the process (Bug #33339)

 -- Arvid Requate <requate@univention.de>  Tue, 12 Nov 2013 17:45:53 +0100

univention-s4-connector (8.0.32-1) unstable; urgency=low

  * Added well known sid for IIS_IUSRS (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Oct 2013 14:46:16 +0100

univention-s4-connector (8.0.31-3) unstable; urgency=low

  * Add well known groups from SBS 2008 (Bug #29486)

 -- Arvid Requate <requate@univention.de>  Tue, 29 Oct 2013 14:26:05 +0100

univention-s4-connector (8.0.31-2) unstable; urgency=low

  * fixed common spelling mistakes (Bug #32662)

 -- Lukas Walter <walter@univention.de>  Tue, 29 Oct 2013 13:01:59 +0100

univention-s4-connector (8.0.31-1) unstable; urgency=low

  * univention-ad-takeover: update group mapping (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Oct 2013 08:09:09 +0100

univention-s4-connector (8.0.30-1.1) unstable; urgency=low

  * univention-ad-takeover:
    Add mapping for well known builtin group and foreignSecurityPrincipal
    (Bug #29486)

 -- Arvid Requate <requate@univention.de>  Mon, 28 Oct 2013 14:44:00 +0100

univention-s4-connector (8.0.30-1) unstable; urgency=low

  * Fixed a traceback if no groupType is set (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 25 Oct 2013 11:11:06 +0200

univention-s4-connector (8.0.29-1) unstable; urgency=low

  * Consider UCR variable rename from
    connector/s4/mapping/group/synclocal to .../grouptype (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Oct 2013 20:14:36 +0200

univention-s4-connector (8.0.28-1) unstable; urgency=low

  * Extend group ignorelist on upgrade (Bug #29000)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Oct 2013 07:44:44 +0200

univention-s4-connector (8.0.27-1) unstable; urgency=low

  * Always log filename for rejects (Bug #32262)

 -- Arvid Requate <requate@univention.de>  Thu, 17 Oct 2013 15:55:06 +0200

univention-s4-connector (8.0.26-6) unstable; urgency=low

  * Ignore foreignSecurityPrincipals (Bug #29000)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Oct 2013 21:45:56 +0200

univention-s4-connector (8.0.26-5) unstable; urgency=low

  * Rename connector/s4/mapping/group/synclocal to
    connector/s4/mapping/group/grouptype (Bug #32767)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Oct 2013 21:32:17 +0200

univention-s4-connector (8.0.26-4) unstable; urgency=low

  * Move the creation of Enterprise Domain Controllers to univention-
    samba4 (Bug #32461)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Oct 2013 12:24:45 +0200

univention-s4-connector (8.0.26-3) unstable; urgency=low

  * Adjust debug messages from last commit (Bug #32767)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 13 Oct 2013 11:51:20 +0200

univention-s4-connector (8.0.26-2) unstable; urgency=low

  * Allow the sync of a local group from UCS to S4. For this the
    connector have to ignore the SID mapping (Bug #32767)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 12 Oct 2013 21:57:53 +0200

univention-s4-connector (8.0.26-1) unstable; urgency=low

  * Don't resync rejected files before the first sync is complete
    (Bug #32852)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 12 Oct 2013 21:00:02 +0200

univention-s4-connector (8.0.25-1) unstable; urgency=low

  * Create container Builtin during join otherwise all domain local
    groups are rejected first (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 05 Oct 2013 22:18:15 +0200

univention-s4-connector (8.0.24-1) unstable; urgency=low

  * Use adGroupType as udm attribute (Bug #29486)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Oct 2013 19:58:37 +0200

univention-s4-connector (8.0.23-1) unstable; urgency=low

  * Synchronize local groups (Bug #29486)
  * Don't create local groups in join scripts

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Oct 2013 17:14:13 +0200

univention-s4-connector (8.0.22-1) unstable; urgency=low

  * Fixed python traceback which was introduced with r44419 (Bug #32542)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 02 Oct 2013 07:06:08 +0200

univention-s4-connector (8.0.21-1) unstable; urgency=low

  * Stop synchronizing the password from S4 to UCS for Slave PDCs
    (Bug #32690)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 26 Sep 2013 06:17:24 +0200

univention-s4-connector (8.0.20-1) unstable; urgency=low

  * Make server_password_change.d/univention-s4-connector executable
    (Bug #32529)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 25 Sep 2013 16:05:50 +0200

univention-s4-connector (8.0.19-1) unstable; urgency=low

  * If an object was moved to a non visible area (selective replication)
    the listener module of the connector now dumps the object, so the
    connector can handle this (Bug #32542)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 25 Sep 2013 08:07:42 +0200

univention-s4-connector (8.0.18-1) unstable; urgency=low

  * Normally we see two steps for the modrdn operation. But in case of
    the selective replication we might only see the first step. To
    determine this sceanrio the listener module now checks if the
    entryUUID attributes do match (Bug #32542)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Sep 2013 12:29:33 +0200

univention-s4-connector (8.0.17-2) unstable; urgency=low

  * Update/review UCR variable descriptions (Bug #30948)

 -- Moritz Mühlenhoff <muehlenhoff@univention.de>  Tue, 24 Sep 2013 11:21:05 +0200

univention-s4-connector (8.0.17-1) unstable; urgency=low

  * Added a server password change script for the S4 connector. The S4
    connector will be restarted in case the S4 connector uses the
    machine account (Bug #32529)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Sep 2013 11:08:21 +0200

univention-s4-connector (8.0.16-1) unstable; urgency=low

  * First restart listener and than remove the listener handler status
    file because the file is written when the listener is stopped
    (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 19 Sep 2013 14:13:58 +0200

univention-s4-connector (8.0.15-1) unstable; urgency=low

  * Unset connector/s4/mapping/group/language in unjoin script
    (Bug #32451)
  * Remove tmp files in /var/lib/univention-connector/s4 but only if the
    connector/s4/listener/dir variable is unchanged (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 18 Sep 2013 12:41:30 +0200

univention-s4-connector (8.0.14-1) unstable; urgency=low

  * Active Directory times (at least pwdLastSet) is given in local time.
    (Bug #32227)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Sep 2013 18:15:45 +0200

univention-s4-connector (8.0.13-1) unstable; urgency=low

  * Set connector/s4/autostart to yes in the join script if another S4
    connector host was not found (Bug #32309)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Sep 2013 07:34:33 +0200

univention-s4-connector (8.0.12-4) unstable; urgency=low

  * Fixed backup of db file in postrm (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 05 Sep 2013 08:54:09 +0200

univention-s4-connector (8.0.12-3) unstable; urgency=low

  * Remove old listener handler and backup the old sqlite db while
    uninstalling the package (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 05 Sep 2013 07:57:36 +0200

univention-s4-connector (8.0.12-2) unstable; urgency=low

  * Restart listener in postrm (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 05 Sep 2013 06:56:42 +0200

univention-s4-connector (8.0.12-1) unstable; urgency=low

  * Added S4 connector unjoin script (Bug #32451)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 04 Sep 2013 20:33:52 +0200

univention-s4-connector (8.0.11-1) unstable; urgency=low

  * Cast time values from string to long (Bug #32329)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 30 Aug 2013 11:41:19 +0200

univention-s4-connector (8.0.10-3) unstable; urgency=low

  * Consider type errors in helper function__is_int() (Bug #32322)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 07:42:07 +0200

univention-s4-connector (8.0.10-2) unstable; urgency=low

  * Depending on the sync direction and SID sync configuration the
    compare function gets different parameters. Adding the default case
    that the function gets the RID values (Bug #32322)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 07:34:26 +0200

univention-s4-connector (8.0.10-1) unstable; urgency=low

  * Use set() instead of lists for the group synchronisation
    (Bug #32276)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 07:15:45 +0200

univention-s4-connector (8.0.8-1) unstable; urgency=low

  * Use compare function from mapping definition (Bug #32322)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 07:07:57 +0200

univention-s4-connector (8.0.7-1) unstable; urgency=low

  * Re-open the LDAP connection once if the connection has been closed
    (Bug #32274)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 06:51:40 +0200

univention-s4-connector (8.0.6-1) unstable; urgency=low

  * Use a separate SID compare function since the objectSid in S4 is
    encoded thus the default compare function returns always false
    (Bug #32322)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 06:34:23 +0200

univention-s4-connector (8.0.5-1) unstable; urgency=low

  * Sync performance: Move displayName from from post_attributes to
    attributes (Bug #32323)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Aug 2013 06:25:06 +0200

univention-s4-connector (8.0.4-1) unstable; urgency=low

  * Limit the changes from UCS to S4 for one interval to 50.000 changes.
    Otherwise it took too much time to generate the list of duplicated
    DNs. In my performance tests it too nearly one hour to check all
    600.000 pickle files / 8 GB (Bug #32213)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Aug 2013 20:11:28 +0200

univention-s4-connector (8.0.3-1) unstable; urgency=low

  * Use again two searches for the change list but a faster comparison.
    The order is important first the created objects are needed
    otherwise the child object is added before the parent object. An
    alternative would be to sort the one search result by the dn length
    (Bug #32213)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 13 Aug 2013 21:04:14 +0200

univention-s4-connector (8.0.2-2) unstable; urgency=low

  * additional modlist logging (Bug #31133)

 -- Arvid Requate <requate@univention.de>  Tue, 13 Aug 2013 15:16:46 +0200

univention-s4-connector (8.0.2-1) unstable; urgency=low

  * Search for uSNCreated and uSNChanged in one search to prevent a slow
    list comparison (Bug #32213)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 12 Aug 2013 07:41:23 +0200

univention-s4-connector (8.0.1-3) unstable; urgency=low

  * Update/review UCR variable descriptions (Bug #30948)

 -- Moritz Mühlenhoff <muehlenhoff@univention.de>  Mon, 22 Jul 2013 14:29:31 +0200

univention-s4-connector (8.0.1-2) unstable; urgency=low

  * Bump version for UCS 3.2, update copyright years for 2013
  * Update/review UCR variable descriptions (Bug #30948)
    One variable was mapped incorrectly: connector/s4/mapping/sid_to_s4	instead
    of connector/s4/mapping/sid/sid_to_s4. Likewise for *sid_to_ucs
  * Register variables as UCR variable class s4con instead of adcon

 -- Moritz Mühlenhoff <muehlenhoff@univention.de>  Mon, 22 Jul 2013 09:50:06 +0200

univention-s4-connector (8.0.1-1) unstable; urgency=low

  * log addlist and modlist on debug level INFO (Bug #31133)
  * log addlist, modlist and traceback on debug level ERROR

 -- Arvid Requate <requate@univention.de>  Mon, 15 Jul 2013 18:17:41 +0200

univention-s4-connector (8.0.0-1) unstable; urgency=low

  * replaced makepasswd with univention.lib.createMachinePassword (Bug #31281)
  * bump version for UCS 3.2

 -- Felix Botner <botner@univention.de>  Mon, 10 Jun 2013 13:58:12 +0200

univention-s4-connector (7.0.35-1) unstable; urgency=low

  * "Enterprise Domain Controllers" is now created as a builtin group,
    eliminating the need to extend the group/ignorefilter (Bug #31437)

 -- Arvid Requate <requate@univention.de>  Wed, 29 May 2013 12:49:56 +0200

univention-s4-connector (7.0.34-1) unstable; urgency=low

  * In OpenLDAP the attribute sambaMaxPwdAge can be set to -1. This will
    be mapped in Samba 4 to 0 since -1 is not allowed for the attribute
    maxPwdAge (Bug #29775)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 May 2013 13:12:25 +0200

univention-s4-connector (7.0.33-1) unstable; urgency=low

  * Make sysvol readable for members of the group
    "Enterprise Domain Controllers" (Bug #31437)
  * Version updated for ucs3.1-2

 -- Arvid Requate <requate@univention.de>  Thu, 23 May 2013 22:34:45 +0200

univention-s4-connector (7.0.32-1) unstable; urgency=low

  * Added UCC objectClass to match filter (Bug #29872)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 21 Mar 2013 11:25:23 +0100

univention-s4-connector (7.0.31-1) unstable; urgency=low

  * Remember if the user was just created in UCS and don't write the
    password back from AD/S4, because the password could be changed on
    UCS in this gap (Bug #30651)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 06 Mar 2013 14:50:36 +0100

univention-s4-connector (7.0.30-1) unstable; urgency=low

  * Sync Mac OS X, Ubuntu clients, Linux clients and UCC to S4
    (Bug #29872)
  * Check the operatingSystem attribute while syncing the objects and
    convert the object from Windows client to Mac OS X if the attribute
    is set to 'Mac OS X' (Bug #29998)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 05 Mar 2013 14:55:14 +0100

univention-s4-connector (7.0.29-2) unstable; urgency=low

  * Consider stopped LDAP server (Bug #30651)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 05 Mar 2013 14:23:43 +0100

univention-s4-connector (7.0.29-1) unstable; urgency=low

  * The group membership synchronisation could lack in an inconsistence
    result. The handling of the cache has been adapted (Bug #30317)
  * As long as changes come from one side, the connector reads these
    changes. This reduces the overwrite of changes just made to an
    object due to concurrent processes (Bug #30651)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 05 Mar 2013 07:43:43 +0100

univention-s4-connector (7.0.28-1) unstable; urgency=low

  * moved ifdown script from "ifdown.d" to "if-post-down.d" (Bug #30414)

 -- Lukas Walter <walter@univention.de>  Wed, 27 Feb 2013 13:18:10 +0100

univention-s4-connector (7.0.27-1) unstable; urgency=low

  * Call daemon function directly in main this avoids calling the daemon
    function twice (Bug #30149)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Jan 2013 09:36:53 +0100

univention-s4-connector (7.0.26-1) unstable; urgency=low

  * Override permissions for the ifdown network script (Bug #30119)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Jan 2013 08:28:23 +0100

univention-s4-connector (7.0.25-1) unstable; urgency=low

  * Restart s4 connector if a network interface was stopped (Bug #30119)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Jan 2013 07:45:03 +0100

univention-s4-connector (7.0.23-1) unstable; urgency=low

  * validate cPickle in listener module (Bug #29625)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 17:20:11 +0100

univention-s4-connector (7.0.22-9) unstable; urgency=low

  * univention-ad-takeover (Bug #29751):
    - restart samba4 at the beginning of phase III

 -- Arvid Requate <requate@univention.de>  Tue, 11 Dec 2012 19:58:34 +0100

univention-s4-connector (7.0.22-8) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Fix ptr_record creation for non-class-C networks
    - Fix AD-Server object cleanup (use python, BL search, more logging)
    - Fix progress indicator frequency calculation
    - Fix typos

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 16:46:37 +0100

univention-s4-connector (7.0.22-7) unstable; urgency=low

  * fix check_ad_object_numbers (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 12:58:53 +0100

univention-s4-connector (7.0.22-6) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Output only dots during initialization of S4 Connector
    - Reduce progress indicator frequency to 0.1 Hz
    - Change log file name to /var/log/univention/ad-takeover.log
    - Change backup directory name to /var/univention-backup/ad-takeover

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 12:26:08 +0100

univention-s4-connector (7.0.22-5) unstable; urgency=low

  * univention-ad-takeover/wait_for_s4_connector_replication (Bug #28390):
    - Output dots during initialization of S4 Connector
    - Reduce activity frequency to 0.2 Hz

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 16:07:48 +0100

univention-s4-connector (7.0.22-4) unstable; urgency=low

  * univention-ad-takeover (Bug #28390): fix modified path of samba-tool

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 14:59:51 +0100

univention-s4-connector (7.0.22-3) unstable; urgency=low

  * Adjust check_ad_object_numbers to support v2 licenses (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 12:44:31 +0100

univention-s4-connector (7.0.22-2) unstable; urgency=low

  * use paged results control in count_ad_object_numbers (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 11:49:30 +0100

univention-s4-connector (7.0.22-1) unstable; urgency=low

  * Let wait_for_s4_connector_replication monitor the USN (Bug #28390)
  * minor coding style cleanup

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 16:05:55 +0100

univention-s4-connector (7.0.21-1) unstable; urgency=low

  * Add UCR variable description for group table (Bug #28390).

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 11:00:20 +0100

univention-s4-connector (7.0.20-2) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - make script ask to continue with phase III
    - print robocopy commandline
    - disable password expiry for DCs
    - don't override the min/max password age and history length

 -- Arvid Requate <requate@univention.de>  Mon, 12 Nov 2012 14:12:44 +0100

univention-s4-connector (7.0.19-2) unstable; urgency=low

  * Call _ignore_object and not __ignore_object (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 08:14:51 +0100

univention-s4-connector (7.0.19-1) unstable; urgency=low

  * Fixed the membership ignore object handling on the UCS side
    (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 08:00:57 +0100

univention-s4-connector (7.0.18-1) unstable; urgency=low

  * Check if the membership object is to be ignored (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 07:26:20 +0100

univention-s4-connector (7.0.17-40) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - workaround for agorum: don't use ethX:0 (Bug #29089)

 -- Arvid Requate <requate@univention.de>  Wed, 07 Nov 2012 12:05:35 +0100

univention-s4-connector (7.0.17-39) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - remove krb5Keytab attribute from dns-SPN account secrets.ldb record,
      krb5Keytab takes precedence over privateKeytab

 -- Arvid Requate <requate@univention.de>  Wed, 07 Nov 2012 10:15:02 +0100

univention-s4-connector (7.0.17-38) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - abort if given AD server IP points to local system
    - abort if samba backup dir exists (both for Bug #29066)
    - cleanup after failed join

 -- Arvid Requate <requate@univention.de>  Tue, 06 Nov 2012 16:02:09 +0100

univention-s4-connector (7.0.17-37) unstable; urgency=low

  * Improved warning message in case the NTP connection fails,
    require interactive confirmation to continue in this case (Bug #29064)

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 22:29:45 +0100

univention-s4-connector (7.0.17-36) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - work around the unfortunate case where the random password for the
      dns SPN starts with a dash

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 17:38:32 +0100

univention-s4-connector (7.0.17-35) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - output script arguments and version (Bug #29044)
    - Try fsmo seize up to three times per role (Bug #29046)
    - Allow 600 seconds for initial S4 Connector run (Bug #29041)
    - Postpone dns-SPN account creation to phase III (Bug #29043)

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 15:36:10 +0100

univention-s4-connector (7.0.17-34) unstable; urgency=low

  * Initialize the UDM modules to ensure the first created object uses
    the extended attributes (Bug #28981)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 31 Oct 2012 10:40:13 +0100

univention-s4-connector (7.0.17-33) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Check for existing ptr record before creating a new one

 -- Arvid Requate <requate@univention.de>  Tue, 30 Oct 2012 12:02:44 +0100

univention-s4-connector (7.0.17-32) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - check for IPv6
    - nslookup AD server fqdn only if it was passed on the command line

 -- Arvid Requate <requate@univention.de>  Mon, 29 Oct 2012 18:39:17 +0100

univention-s4-connector (7.0.17-31) unstable; urgency=low

  * use standard UDM unmapSubnet function to unmap reverse zone
    names to UDM zone names, adds support for IPv6 zones (Bug #28889)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Oct 2012 17:33:02 +0100

univention-s4-connector (7.0.17-30) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - run set_sysvol_ntacl.py on the sysvol directory (Bug #28914)

 -- Arvid Requate <requate@univention.de>  Fri, 26 Oct 2012 08:42:53 +0200

univention-s4-connector (7.0.17-29) unstable; urgency=low

  * Ignore PrimaryKerberosBlob packages in old S4 supplementalCredentials
    if the ndr_unpack fails. (Bug #28932)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 20:09:39 +0200

univention-s4-connector (7.0.17-28) unstable; urgency=low

  * fix recreation of Zarafa and Squid Kerberos service accounts
    (Bug #28916)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 18:27:32 +0200

univention-s4-connector (7.0.17-27) unstable; urgency=low

  * remove user mapping table (Bug #28390)
  * univention-ad-takeover: add Guest/Gast to S4 Connector ignore list

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 17:51:18 +0200

univention-s4-connector (7.0.17-26) unstable; urgency=low

  * Add reverse DNS record for AD server IP (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 17:39:55 +0200

univention-s4-connector (7.0.17-25) unstable; urgency=low

  * remove and recreate Zarafa and Squid Kerberos service accounts
    (Bug #28916)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 16:18:58 +0200

univention-s4-connector (7.0.17-24) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - fix logging in shell call function
    - ignore AD server object

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:53:42 +0200

univention-s4-connector (7.0.17-23) unstable; urgency=low

  * avoid unnecessary warning in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:40:31 +0200

univention-s4-connector (7.0.17-22) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - log ucr set/unset messages to log.debug (Bug #28917)
    - simplify/unify the shell call code
    - more log messages

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:10:38 +0200

univention-s4-connector (7.0.17-21) unstable; urgency=low

  * also handle keytype -140L in older_keys (Bug #28907)
  * improve log messages for unknown keytypes in password.py

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 12:27:30 +0200

univention-s4-connector (7.0.17-20) unstable; urgency=low

  * merge group and user table patches from Bug #28521 (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 09:41:30 +0200

univention-s4-connector (7.0.17-19) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - map well known user accounts like well known group accounts
      instead of renaming them (required for Bug #28822)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 09:38:04 +0200

univention-s4-connector (7.0.17-18) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - improved counting of AD accounts:
      abstract from locale specific names for well known user objects
    - whitespace cleanup

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 08:57:00 +0200

univention-s4-connector (7.0.17-17) unstable; urgency=low

  * improved handling of keytype -140L in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 08:42:50 +0200

univention-s4-connector (7.0.17-16) unstable; urgency=low

  * add license exceed check to univention-ad-takeover (Bug #28822)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 20:38:28 +0200

univention-s4-connector (7.0.17-15) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - pass AD server IP from phaseI to phaseIII via UCR (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 19:18:40 +0200

univention-s4-connector (7.0.17-14) unstable; urgency=low

  * handle Windows 2008 AD keytype -140L in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 18:45:25 +0200

univention-s4-connector (7.0.17-13) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - improved detection of remote domain name

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 14:01:41 +0200

univention-s4-connector (7.0.17-12) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - do not run set_sysvol_ntacl.py
    - improved log levels and messages

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 13:03:31 +0200

univention-s4-connector (7.0.17-11) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - logrotate the connector-s4.log before initial sync

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 19:08:01 +0200

univention-s4-connector (7.0.17-10) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Remove DNS old DNS SPN account in UCS-LDAP
    - Backup sysvol NTACLs before setting default NTACLs
    - Add dependency on 'attr' for getfattr

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 18:46:31 +0200

univention-s4-connector (7.0.17-9) unstable; urgency=low

  * univention-ad-takeover ((Bug #28390):
    remove logonHours restriction from Administrator account if present

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 16:36:55 +0200

univention-s4-connector (7.0.17-8) unstable; urgency=low

  * add some timing info about the S4 sync (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 16:04:22 +0200

univention-s4-connector (7.0.17-6) unstable; urgency=low

  * use python logging module in univention-ad-takeover.py
    allowing for better log control.
  * replace univention-ad-takeover shell script wrapper by
    univention-ad-takeover.py script again (reverting 7.0.17-1).
  * replace TODO messages by regular log messages (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 15:42:54 +0200

univention-s4-connector (7.0.17-5) unstable; urgency=low

  * add support for reverse_zone in ucs_zone_create (Bug #28889)
  * fix for complex UDM time syntax in ucs_zone_create

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 22:22:52 +0200

univention-s4-connector (7.0.17-4) unstable; urgency=low

  * wait after stopping listener before removing the s4-connector
    handler file in univention-ad-takeover.py (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 22:20:19 +0200

univention-s4-connector (7.0.17-3) unstable; urgency=low

  * fix mode of univention-ad-takeover.py (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 18:30:46 +0200

univention-s4-connector (7.0.17-2) unstable; urgency=low

  * add UCS copyright header to univention-ad-takeover shell script
    (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 17:43:26 +0200

univention-s4-connector (7.0.17-1) unstable; urgency=low

  * add univention-ad-takeover shell script wrapper to redirect
    all log messages (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 17:37:52 +0200

univention-s4-connector (7.0.16-1) unstable; urgency=low

  * Wait 5 seconds before the kill result is checked (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 19 Oct 2012 16:17:10 +0200

univention-s4-connector (7.0.15-3) unstable; urgency=low

  * rename UCR variable to samba4/dcerpc/endpoint/drsuapi (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 18 Oct 2012 19:28:59 +0200

univention-s4-connector (7.0.15-2) unstable; urgency=low

  * Initial checkin of univention-ad-takeover (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 18 Oct 2012 19:18:40 +0200

univention-s4-connector (7.0.14-1) unstable; urgency=low

  * Don't abort the join script if the modification of the group members
    failed because the ignore_exsists parameter is ignored, see Bug
    #28756 (Bug #27753)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 15 Oct 2012 07:58:50 +0200

univention-s4-connector (7.0.13-1) unstable; urgency=low

  * abort join script on failing udm call (Bug #27753)

 -- Lukas Walter <walter@univention.de>  Wed, 10 Oct 2012 12:57:11 +0200

univention-s4-connector (7.0.12-1) unstable; urgency=low

  * Update group cache handling. This fixes an error if the Samba 4 ldap
    base dn is different from the OpenLDAP base dn (Bug #28689)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Oct 2012 20:23:35 +0200

univention-s4-connector (7.0.11-1) unstable; urgency=low

  * Fixed a traceback which occurs if the LDAP and Samba 4 base DNs are
    not equal (Bug #28573)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 15:00:54 +0200

univention-s4-connector (7.0.10-1) unstable; urgency=low

  * Added a reverse attribute check for the mail attribute. This means
    mail from AD will be synced to mailPrimaryAddress in UCS. The UCS
    attribute mail will not be synced (Bug #28240)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 13:44:53 +0200

univention-s4-connector (7.0.9-1) unstable; urgency=low

  * Use TERM/300/KILL for --retry (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 10:57:51 +0200

univention-s4-connector (7.0.8-1) unstable; urgency=low

  * Use --retry for start-stop-daemon while trying to stop the S4
    connector (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 10:53:17 +0200

univention-s4-connector (7.0.7-1) unstable; urgency=low

  * Use a proper debug message if SSL is disabled (Bug #25835)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Sep 2012 13:35:02 +0200

univention-s4-connector (7.0.6-1) unstable; urgency=low

  * Removed debug line from write_password_settings.py (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 16:48:10 +0200

univention-s4-connector (7.0.5-1) unstable; urgency=low

  * Set attributes to 0 in S4 if they were removed in UCS (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 16:20:06 +0200

univention-s4-connector (7.0.4-1) unstable; urgency=low

  * By default write the settings from Samba 4 to UCS during the upgrade
    to UCS 3.1 (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 14:27:28 +0200

univention-s4-connector (7.0.3-1) unstable; urgency=low

  * Synchronize the password settings between the Samba 4 base object
    and the UCS sambaDomain object (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 11:46:09 +0200

univention-s4-connector (7.0.2-1) unstable; urgency=low

  * Restart the connector at the end of the join process to use the new
    values for connector/s4/poll/sleep and connector/s4/retryrejected
    (Bug #26859)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Aug 2012 14:23:09 +0200

univention-s4-connector (7.0.1-1) unstable; urgency=low

  * Search again if the connection was closed and a reopen was needed
    (Bug #27176)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Aug 2012 14:11:54 +0200

univention-s4-connector (6.0.170-1) unstable; urgency=low

  * Fixed typo while synchronize DNS cnames from S4 to UCS (Bug #26346)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 10 Jul 2012 08:00:44 +0200

univention-s4-connector (6.0.169-1) unstable; urgency=low

  * Undo last commit: univention-s4-position-sync: do not move DC
    objects (Bug #26379)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Jul 2012 21:02:19 +0200

univention-s4-connector (6.0.168-1) unstable; urgency=low

  * univention-s4-position-sync: do not move DC objects (Bug #26379)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Jul 2012 20:05:01 +0200

univention-s4-connector (6.0.167-1) unstable; urgency=low

  * Use given SRV locations from S4 when creating SRV record in UCS even
    if the location is overwritten in UCR (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 04 Jul 2012 07:18:57 +0200

univention-s4-connector (6.0.166-1) unstable; urgency=low

  * Fixed a typo in DNS SRV mapping which prevents the SRV record sync
    from S4 to UCS when the location is set in UCR (Bug #27706)
  * Don't try to create a SRV record on UCS when the location has been
    overwritten by UCR because empty locations are not allowed on UCS

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 04 Jul 2012 07:07:36 +0200

univention-s4-connector (6.0.165-1) unstable; urgency=low

  * Use machine.secret by default on DC Slave and Memberserver
    (Bug #26203)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 29 Jun 2012 12:31:35 +0200

univention-s4-connector (6.0.164-1) unstable; urgency=low

  * Fixed a typo in the UCR variables description for
    mapping/dns/srv_record/.*/location (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 09:20:13 +0200

univention-s4-connector (6.0.163-1) unstable; urgency=low

  * Give the S4 connector two seconds to die before it will be started
    again (Bug #27408)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 08:28:38 +0200

univention-s4-connector (6.0.162-1) unstable; urgency=low

  * Added ignorelist for DNS, OUs, container and computers (Bug #26860)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 08:16:38 +0200

univention-s4-connector (6.0.161-1) unstable; urgency=low

  * univention-s4-position-sync: check if connector/s4/ldap/bindpw is
    set, it might be empty (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 09:41:43 +0200

univention-s4-connector (6.0.160-1) unstable; urgency=low

  * The match filter for DCs has been amended so that
    computers/windows_domaincontroller object are also synchronized
    (Bug #26174)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 08:52:13 +0200

univention-s4-connector (6.0.159-1) unstable; urgency=low

  * Check for conflicted objects in poll (Bug #27749)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 07:41:48 +0200

univention-s4-connector (6.0.158-1) unstable; urgency=low

  * Ignore conflicted objects from S4 (Bug #27749)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 06:26:53 +0200

univention-s4-connector (6.0.157-1) unstable; urgency=low

  * The connector listener handler writes group objects into a global
    list. This is a performance improvement which was added with Bug
    #18619. This global group list is only needed in the the initialize
    phase. It is now considered and saves a lot of memory (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 26 Jun 2012 06:31:07 +0200

univention-s4-connector (6.0.156-1) unstable; urgency=low

  * Set connector/s4/autostart to no if another connector is running in
    this domain (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 17:24:19 +0200

univention-s4-connector (6.0.155-1) unstable; urgency=low

  * Fixed typo from last commit (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 11:41:54 +0200

univention-s4-connector (6.0.154-1) unstable; urgency=low

  * Check if ucr_locations exists (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 07:20:28 +0200

univention-s4-connector (6.0.153-1) unstable; urgency=low

  * Allow 'ignore' for SRV record mapping (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 06:27:27 +0200

univention-s4-connector (6.0.152-1) unstable; urgency=low

  * Convert UCR variables for SRV records to lower case (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 24 Jun 2012 13:15:17 +0200

univention-s4-connector (6.0.151-1) unstable; urgency=low

  * Added UCR variables to overwrite the DNS SRV records by UCR
    (Bug #27706 and Bug #27395)
  * Don't try to start / stop the s4 connector if /usr/sbin/univention-
    s4-connector is not available

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 15 Jun 2012 22:14:04 +0200

univention-s4-connector (6.0.150-1) unstable; urgency=low

  * Sync msGPOUserExtensionNames and displayName for GPOs as well
    (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 25 May 2012 08:53:47 +0200

univention-s4-connector (6.0.149-1) unstable; urgency=low

  * Removed cut+paste error while creating the default groups
    (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2012 20:04:28 +0200

univention-s4-connector (6.0.148-1) unstable; urgency=low

  * Re-open the UCS LDAP connection if the connection has been closed
    while searching for all S4 changes (Bug #27173)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2012 06:43:05 +0200

univention-s4-connector (6.0.147-1) unstable; urgency=low

  * Determine the primary group by the gidNumber (Bug #27158)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 20 May 2012 21:20:09 +0200

univention-s4-connector (6.0.146-1) unstable; urgency=low

  * Depend on a newer UDM modules version (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 May 2012 10:23:45 +0200

univention-s4-connector (6.0.145-1) unstable; urgency=low

  * Set primary group for a user while adding (Bug #27157)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 May 2012 08:20:49 +0200

univention-s4-connector (6.0.144-1) unstable; urgency=low

  * Added two new UCR variables to overwrite the aRecord (IPv4) and
    aAAARecord (IPv6) for a DNS forward zone. Therefore the windows
    client uses these IP addresses to access the sysvol share
    (Bug #27106)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 22:10:48 +0200

univention-s4-connector (6.0.143-1) unstable; urgency=low

  * Remove member from the DECODE_IGNORELIST (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 21:11:05 +0200

univention-s4-connector (6.0.142-1) unstable; urgency=low

  * Joinscript: Ignore error messages if user is already member in the
    group. See also Bug #12964 (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 20:36:20 +0200

univention-s4-connector (6.0.141-1) unstable; urgency=low

  * sync_ucs_to_s4: avoid removing unicodePwd if there is neither NT hash
    nor timestamp in UDM (Bug #26569)

 -- Arvid Requate <requate@univention.de>  Wed, 16 May 2012 17:34:45 +0200

univention-s4-connector (6.0.140-1) unstable; urgency=low

  * Fixed sid to ucs mapping function (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 May 2012 08:09:55 +0200

univention-s4-connector (6.0.139-1) unstable; urgency=low

  * Add DC to group Domain Controllers (Bug #27402)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 May 2012 06:47:55 +0200

univention-s4-connector (6.0.138-1) unstable; urgency=low

  * Create Samba 4 basis objects (groups and containers) in the S4
    connector join script, because on a 'Slave PDC' the Slave does not
    have the permissions to create these objects (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 May 2012 06:16:54 +0200

univention-s4-connector (6.0.137-1) unstable; urgency=low

  * The SID/RID attribute has been added to the default S4 connector
    mapping, thereby the objectSid will be set directly in Samba 4
    whether it is configured (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 May 2012 09:00:06 +0200

univention-s4-connector (6.0.136-1) unstable; urgency=low

  * Use binddn and bindpwd for the GPO migration to support an
    environment without S4 on DC Master and DC Backup (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 May 2012 07:28:19 +0200

univention-s4-connector (6.0.135-1) unstable; urgency=low

  * Write GPO from Samba 4 to UCS on first DC (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 May 2012 16:57:04 +0200

univention-s4-connector (6.0.134-1) unstable; urgency=low

  * Added new UCR variable connector/s4/mapping/gpo to disable the GPO
    sync (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 May 2012 07:56:55 +0200

univention-s4-connector (6.0.133-1) unstable; urgency=low

  * Added gPLink custom attribute to DC and CN too (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 30 Apr 2012 10:20:39 +0200

univention-s4-connector (6.0.132-1) unstable; urgency=low

  * Add all existing GPO containers to the S4 rejected list while
    upgrading the system (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 30 Apr 2012 07:59:44 +0200

univention-s4-connector (6.0.131-1) unstable; urgency=low

  * Start the MS GPO update only on a joined system (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:55:54 +0200

univention-s4-connector (6.0.130-1) unstable; urgency=low

  * Don't call msgpo.py twice (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:46:13 +0200

univention-s4-connector (6.0.129-1) unstable; urgency=low

  * Added a dependency to the ldap server package (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:33:20 +0200

univention-s4-connector (6.0.128-1) unstable; urgency=low

  * Synchronize MS GPO links and objects (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 12:00:32 +0200

univention-s4-connector (6.0.127-1) unstable; urgency=low

  * Added two UCR variables to list all ignored users and groups
    (connector/s4/mapping/user/ignorelist and
    connector/s4/mapping/group/ignorelist) (Bug #26860)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 20 Apr 2012 23:19:28 +0200

univention-s4-connector (6.0.126-1) unstable; urgency=low

  * Use LDB control 'bypass_samaccountname_ldap_check' in add and modify
    if the LDB module 'univention_samaccountname_ldap_check' is activated
    by the UCR variable 'samba4/ldb/sam/module/prepend' (Bug #26768)

 -- Arvid Requate <requate@univention.de>  Thu, 12 Apr 2012 18:11:17 +0200

univention-s4-connector (6.0.125-1) unstable; urgency=low

  * If a user was added in UCS, the primary group setting will be synced
    from UCS to S4 like expected. This means the user will no longer added
    automatically to the group Domain Users (Bug #26808)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Apr 2012 11:06:15 +0200

univention-s4-connector (6.0.124-1) unstable; urgency=low

  * Added binddn and bindpwd parameter to the S4 connector join tools.
    This prevents errors during the join if a DC slave is the first
    Samba DC (Bug #26505, Bug #26203)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Apr 2012 07:47:04 +0200

univention-s4-connector (6.0.123-1) unstable; urgency=low

  * The join script will be aborted if the configuration of Samba 4 was
    not successful (Bug #26657)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 29 Mar 2012 10:33:33 +0200

univention-s4-connector (6.0.122-1) unstable; urgency=low

  * Ignore conflicted DNS objects (Bug #26202)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 16:26:08 +0200

univention-s4-connector (6.0.121-1) unstable; urgency=low

  * Delete "CN=RID Set" for a DC if the DC has been removed (Bug #26210)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 15:41:43 +0200

univention-s4-connector (6.0.120-1) unstable; urgency=low

  * Restart S4 connector when rotating the log files (Bug #26060)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 09:56:36 +0200

univention-s4-connector (6.0.119-1) unstable; urgency=low

  * A typo in the DNS zone delete function was removed, which prevented
    a deletion of a DNS zone (Bug #26343)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 07:36:51 +0200

univention-s4-connector (6.0.118-1) unstable; urgency=low

  * Fixed typo (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 18:09:36 +0100

univention-s4-connector (6.0.117-1) unstable; urgency=low

  * Some more sync user password fixes (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 17:28:47 +0100

univention-s4-connector (6.0.116-1) unstable; urgency=low

  * Remove local sync user from password_sync_ucs_to_s4 tool
    (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 16:55:18 +0100

univention-s4-connector (6.0.115-1) unstable; urgency=low

  * Fixed typo from last commit (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 11:50:46 +0100

univention-s4-connector (6.0.114-1) unstable; urgency=low

  * S4 connector does not require a local user for the Samba 4 directory
    access (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 07:36:05 +0100

univention-s4-connector (6.0.113-1) unstable; urgency=low

  * Set pwd last set attributes only if the password was changed
    (Bug #26466)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 13 Mar 2012 06:39:45 +0100

univention-s4-connector (6.0.112-1) unstable; urgency=low

  * Added UCR variable connector/s4/mapping/dns/syncmode to configure
    DNS syncmode (Bug #26464)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 12 Mar 2012 20:06:14 +0100

univention-s4-connector (6.0.111-1) unstable; urgency=low

  * Don't try to add a user to his primary group in S4. This might
    happen, if we synchronize a rejected file with old information
    (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 24 Feb 2012 07:32:56 +0100

univention-s4-connector (6.0.110-2) unstable; urgency=low

  * render univention-s4-position-sync executable (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Feb 2012 12:13:02 +0100

univention-s4-connector (6.0.110-1) unstable; urgency=low

  * adjust path for univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Feb 2012 09:42:46 +0100

univention-s4-connector (6.0.109-1) unstable; urgency=low

  * Add the memberUid value to the group if the new member is a user
    (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 23 Feb 2012 06:50:32 +0100

univention-s4-connector (6.0.108-1) unstable; urgency=low

  * Fixed another python syntax error (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 09:49:47 +0100

univention-s4-connector (6.0.107-1) unstable; urgency=low

  * Fixed python syntax error (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 09:32:55 +0100

univention-s4-connector (6.0.106-1) unstable; urgency=low

  * Use function __search_s4 (Bug #26208)
  * Fixed group membership sync (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 08:11:42 +0100

univention-s4-connector (6.0.105-1) unstable; urgency=low

  * Don't map the windows computer to a DN with uid= (Bug #26121)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 14:08:48 +0100

univention-s4-connector (6.0.104-1) unstable; urgency=low

  * Check if bindpw file exists (Bug #25985)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 10:10:55 +0100

univention-s4-connector (6.0.103-1) unstable; urgency=low

  * Create ucs-s4sync user only if /etc/samba4.secret was created
    (Bug #25985)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 07:20:10 +0100

univention-s4-connector (6.0.102-1) unstable; urgency=low

  * Fixed sid checking (Bug #26005)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 17 Feb 2012 15:42:56 +0100

univention-s4-connector (6.0.101-2) unstable; urgency=low

  * translate ldap_base to samba4_ldap_base after position_mapping
    in univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Feb 2012 15:20:09 +0100

univention-s4-connector (6.0.101-1) unstable; urgency=low

  * New tool univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Feb 2012 10:47:19 +0100

univention-s4-connector (6.0.100-1) unstable; urgency=low

  * Added position mapping for windows computers and domain controller
    (Bug #26121)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 14 Feb 2012 07:41:36 +0100

univention-s4-connector (6.0.99-1) unstable; urgency=low

  * Added two UCR variables to configure the sid_to_s4 and sid_to_ucs
    mapping (connector/s4/mapping/sid_to_ucs and
    connector/s4/mapping/sid_to_s4) (Bug #26005)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Feb 2012 14:27:53 +0100

univention-s4-connector (6.0.98-1) unstable; urgency=low

  * Check if group cache is empty (Bug #25709)
  * Don't build group cache while listing rejects (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 07 Feb 2012 14:49:02 +0100

univention-s4-connector (6.0.97-2) unstable; urgency=low

  * fix python2.6-style exception handling for python2.5 (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 18:12:04 +0100

univention-s4-connector (6.0.97-1) unstable; urgency=low

  * Use the correct group cache (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 20:16:16 +0100

univention-s4-connector (6.0.96-1) unstable; urgency=low

  * Added support for referral handling (Bug #25986)
  * Group caching: Minor updates Bug (#25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 15:02:42 +0100

univention-s4-connector (6.0.95-1) unstable; urgency=low

  * Group caching: Add a user to the group cache even if he is already
    member of the group (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 07:52:13 +0100

univention-s4-connector (6.0.94-2) unstable; urgency=low

  * Support for a different binddn and bindpw for the UCS access,
    for example if the machine account should be used (Bug #25985)
  * Cleanup the UCR variables description
  * Added UCR variable connector/s4/allow/secondary which allows a
    second s4 connector in the domain (Bug #25990)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 16:18:23 +0100

univention-s4-connector (6.0.94-1) unstable; urgency=low

  * More group caching updates (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 13:24:58 +0100

univention-s4-connector (6.0.93-1) unstable; urgency=low

  * ignore NT-hashes found in supplementalCredentials of W2k8R2 users
    (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jan 2012 18:23:59 +0100

univention-s4-connector (6.0.92-2) unstable; urgency=low

  * adjusted exception handling (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Thu, 05 Jan 2012 13:23:46 +0100

univention-s4-connector (6.0.92-1) unstable; urgency=low

  * workaround for ndr_unpack exceptions due to invalid values in the
    attribute supplementalCredentials (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Wed, 04 Jan 2012 17:54:27 +0100

univention-s4-connector (6.0.91-1) unstable; urgency=low

  * Build an internal group membership cache. This increases the group
    synchronisation performance (Bug #25709)
  * Use sqlite as backend for internal.cfg (Bug #13045)
  * Copy page result code from AD connector (Bug #25975)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 08:29:32 +0100

univention-s4-connector (6.0.90-1) unstable; urgency=low

  * Don't skip the synchronization if the object was added in UCS
    (Bug #25847)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 23 Jan 2012 11:05:46 +0100

univention-s4-connector (6.0.89-1) unstable; urgency=low

  * Don't synchronize the homeDirectory attribute from UCS to Samba 4.
    The Samba 4 attribute homeDirectory will be synchronized with the
    UCS attribute sambaHomePath (Bug #25823)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 23 Jan 2012 09:37:17 +0100

univention-s4-connector (6.0.88-1) unstable; urgency=low

  * Don't recode value if recoding raises an UnicodeDecodeError
    exception (Bug #25191)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Dec 2011 15:50:05 +0100

univention-s4-connector (6.0.87-1) unstable; urgency=low

  * Synchronize homeDrive and homeDirectory (Bug #25211)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 Dec 2011 08:38:21 +0100

univention-s4-connector (6.0.86-1) unstable; urgency=low

  * Don't reset lastUSN on connector restart (Bug #25037)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 13:47:23 +0100

univention-s4-connector (6.0.85-1) unstable; urgency=low

  * Fixed python syntax error from last commit (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 07:27:11 +0100

univention-s4-connector (6.0.84-1) unstable; urgency=low

  * Don't overwrite the kerberos keys of a Samba4 DC with the kerberos
    keys from the OpenLDAP DC account. This is only necessary if the DC is
    not a Samba 4 DC (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 07:08:42 +0100

univention-s4-connector (6.0.83-1) unstable; urgency=low

  * Removed debug line from last commit (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 30 Nov 2011 19:06:10 +0100

univention-s4-connector (6.0.82-1) unstable; urgency=low

  * Save lastUSN in cache and commit them after the sync is finished
    (Bug #24225)
  * Don't set retryrejected to 1 use 2 for the initialize stage
  * Adapt complex syntax for DNS zones

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 30 Nov 2011 18:01:46 +0100

univention-s4-connector (6.0.81-1) unstable; urgency=low

  * Fixed handling for con_other attributes. This allows the sync of two
    AD/S4 attributes (one single value and one multi value) to one multi
    value UCS attribute like homePhone, otherHomePhone to
    homeTelephoneNumber (Bug #24119 and Bug #20599)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Nov 2011 21:53:48 +0100

univention-s4-connector (6.0.80-1) unstable; urgency=low

  * Added sid_to_ucs to ucs_create_functions (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Nov 2011 16:31:37 +0100

univention-s4-connector (6.0.79-1) unstable; urgency=low

  * fixed logrotate template (Bug #18002)

 -- Felix Botner <botner@univention.de>  Mon, 21 Nov 2011 16:26:15 +0100

univention-s4-connector (6.0.78-1) unstable; urgency=low

  * add each keytype only once when constructing krb5Keys from
    supplementalCredentials (Bug #24437)

 -- Arvid Requate <requate@univention.de>  Mon, 21 Nov 2011 14:56:13 +0100

univention-s4-connector (6.0.77-1) unstable; urgency=low

  * sync NThash extracted from krb5keys to userPassword
    if sambaNTPassword is missing in UCS (Bug #24437)

 -- Arvid Requate <requate@univention.de>  Mon, 21 Nov 2011 11:38:11 +0100

univention-s4-connector (6.0.76-1) unstable; urgency=low

  * fixed logrotate template (Bug #18002)

 -- Felix Botner <botner@univention.de>  Fri, 18 Nov 2011 16:54:57 +0100

univention-s4-connector (6.0.75-1) unstable; urgency=low

  * In some cases samba4 and bind9 need a restart to complete
    (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Nov 2011 16:21:24 +0100

univention-s4-connector (6.0.74-1) unstable; urgency=low

  * Sync password if the S4 password is empty (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Nov 2011 16:08:26 +0100

univention-s4-connector (6.0.73-1) unstable; urgency=low

  * Synchronize the DC and Client password between OpenLDAP and Samba 4
    (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 15 Nov 2011 21:25:06 +0100

univention-s4-connector (6.0.72-1) unstable; urgency=low

  * Synchronize the kerberos key from S4 krbtgt user to OpenLDAP
    krbtgt/REALM@RELAM object (Bug #24591)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 16:56:21 +0100

univention-s4-connector (6.0.71-1) unstable; urgency=low

  * Added well known groups to ignore filter (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 15:35:53 +0100

univention-s4-connector (6.0.70-1) unstable; urgency=low

  * Ignore group 'Authenticated Users' (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 Nov 2011 12:29:25 +0100

univention-s4-connector (6.0.69-1) unstable; urgency=low

  * Use Unpickler for loading the object (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 Nov 2011 22:18:48 +0100

univention-s4-connector (6.0.68-1) unstable; urgency=low

  * fix host parsing for IPv6 (Bug #24479)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Wed, 09 Nov 2011 13:56:46 +0100

univention-s4-connector (6.0.67-1) unstable; urgency=low

  * Sync pwdChangeNextLogin from UCS to S4 (Bug #24465)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 Nov 2011 09:10:07 +0100

univention-s4-connector (6.0.66-1) unstable; urgency=low

  * Rename disbale_delete into disable_delete_in_ucs (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 Nov 2011 16:24:25 +0100

univention-s4-connector (6.0.65-2) unstable; urgency=low

  * Synchronize DC objects (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 Nov 2011 12:04:20 +0100

univention-s4-connector (6.0.65-1) unstable; urgency=low

  * Don't show a warning if userPrincipalName and krb5Principal only
    differ in uppercase and lowercase (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 05 Nov 2011 09:31:50 +0100

univention-s4-connector (6.0.64-1) unstable; urgency=low

  * Map DNS MX records between S4 and UCS LDAP (Bug #24403)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2011 23:37:28 +0100

univention-s4-connector (6.0.63-2) unstable; urgency=low

  * Ignore cn=System and cn=MicrosoftDNS (Bug #24365)
  * Map DNS MX records between S4 and UCS LDAP (Bug #24403)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2011 22:41:34 +0100

univention-s4-connector (6.0.63-1) unstable; urgency=low

  * Fixed autostart handling (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 19:30:15 +0100

univention-s4-connector (6.0.62-1) unstable; urgency=low

  * Add a new property 'ucs_module_others' to property / mapping. This
    allows to match one AD object to multiple UCS modules. For example a
    Windows client on AD could be a computers/windows or a
    computers/memberserver module on UCS. The property 'ucs_module' is
    foremost (Bug #24373)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 18:28:19 +0100

univention-s4-connector (6.0.61-2) unstable; urgency=low

  * s4/dns.py: Added IPv6 support (Bug #24348)
  * Check explicit on NO_SUCH_OBJECT and show a proper message

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 07:54:28 +0100

univention-s4-connector (6.0.60-1) unstable; urgency=low

  * Use cPickle.Pickler an clear_memo(), otherwise the internal python
    refcount will not be decreased and the memory is lost (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 02 Nov 2011 15:51:09 +0100

univention-s4-connector (6.0.59-1) unstable; urgency=low

  * More fixes on attribute deletion (Bug #8604)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 31 Oct 2011 12:25:53 +0100

univention-s4-connector (6.0.58-2) unstable; urgency=low

  * Don't synchronize memberserver as windows computers. If samba was
    installed on the memberserver they will be added to S4 automatically
    (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 31 Oct 2011 11:13:32 +0100

univention-s4-connector (6.0.58-1) unstable; urgency=low

  * Set poll/sleep and retryrejected temporary to a lower value in
    97univention-s4-connector.inst (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 30 Oct 2011 21:39:57 +0100

univention-s4-connector (6.0.57-2) unstable; urgency=low

  * Adjust service registration to UCS 3.0 (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 30 Oct 2011 09:18:26 +0100

univention-s4-connector (6.0.57-1) unstable; urgency=low

  * Fixed debug messages
  * Added more debug messages to univention-password_sync_ucs_to_s4
  * Start univention-password_sync_ucs_to_s4 again if it fails
    (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 29 Oct 2011 18:30:19 +0200

univention-s4-connector (6.0.56-1) unstable; urgency=low

  * Added a new parameter con_other_attribute for the attribute
    mapping. This allows to map two AD/S4 attributes (one single
    value and one multivalue) to one UCS multivalue attribute
    (Bug #24119)
  * Consider attribute deletion of attributes in UCS (Bug #8604)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 28 Oct 2011 11:57:18 +0200

univention-s4-connector (6.0.55-1) unstable; urgency=low

  * If connector/s4/mapping/sid is set to false, save the SID from S4 in
    univentionSamba4SID (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 17:42:09 +0200

univention-s4-connector (6.0.54-1) unstable; urgency=low

  * Don't use the udm get_superordinate function because s4connector.dns
    overwrites the identify function of handlers.dns.dns.py (Bug #24220)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 10:39:56 +0200

univention-s4-connector (6.0.53-1) unstable; urgency=low

  * workaround for PEP 366 (Bug #23984)

 -- Arvid Requate <requate@univention.de>  Tue, 25 Oct 2011 13:36:28 +0200

univention-s4-connector (6.0.52-1) unstable; urgency=low

  * Synchronize sambaWorkstations (Bug #24119)
  * Added telephoneNumber synchronization
  * Added phone numbers to mapping
  * Synchronize displayName (Bug #20601)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Oct 2011 08:35:51 +0200

univention-s4-connector (6.0.51-1) unstable; urgency=low

  * Set self.configRegistry in s4/__init__.py (Bug #24164)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Oct 2011 13:48:05 +0200

univention-s4-connector (6.0.50-1) unstable; urgency=low

  * Added a UCR variable connector/s4/mapping/sid to disable the sid
    synchronisation (Bug #24164)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Oct 2011 12:03:18 +0200

univention-s4-connector (6.0.49-1) unstable; urgency=low

  * Don't call the 98univention-samba4-dns.inst join script from the s4
    connector join script otherwise the join will fail. The steps have
    been added to the s4 connector join script (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 23 Oct 2011 20:17:04 +0200

univention-s4-connector (6.0.48-2) unstable; urgency=low

  * Fix dependencies on u-c (Bug #22668)

 -- Philipp Hahn <hahn@univention.de>  Sat, 22 Oct 2011 04:11:27 +0200

univention-s4-connector (6.0.48-1) unstable; urgency=low

  * Be sure the connector/s4/listener/dir directory exists (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 19:23:16 +0200

univention-s4-connector (6.0.47-1) unstable; urgency=low

  * Support complex service records (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 14:55:03 +0200

univention-s4-connector (6.0.46-1) unstable; urgency=low

  * add password_sync_ucs_to_s4 for Administratror again (Bug #22861)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 14:52:24 +0200

univention-s4-connector (6.0.45-1) unstable; urgency=low

  * Don't show first traceback if an object was dropped because it might
    be the parent object (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 12:09:37 +0200

univention-s4-connector (6.0.44-1) unstable; urgency=low

  * Handle LDAP server restarts and S4 restarts (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 08:25:46 +0200

univention-s4-connector (6.0.43-1) unstable; urgency=low

  * call 98univention-samba4-dns.inst in joinscript (Bug #23786)
  * don't call password_sync_ucs_to_s4 for Administratror

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 18:43:06 +0200

univention-s4-connector (6.0.42-1) unstable; urgency=low

  * Merged AD connector changes from r27472
    * Don't synchonisze all objects during the init twice, only search for
      uSNCreated objects and not for uSNCreated and uSNChanged objects
      (Bug #23734)
    * Don't try to decode the userCertificate value (Bug #23612)
    * Build an internal membership cache while synchronize the members from
      S4 to UCS. So every S4 member will get once instead of twice. Also
      don't open the UDM group module twice (Bug #21010)
    * Make the ldap sever configurable (Bug #18136)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Oct 2011 07:20:06 +0200

univention-s4-connector (6.0.41-1) unstable; urgency=low

  * Use new overlay module k5pwd and set userPassword to {K5KEY}
    (Bug #15062)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Oct 2011 17:41:48 +0200

univention-s4-connector (6.0.40-1) unstable; urgency=low

  * Restart S4 connector in join script (Bug #24074)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 11:30:42 +0200

univention-s4-connector (6.0.39-1) unstable; urgency=low

  * The samba-tool command newuser was removed in new samba version.
    Switch to user add (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Oct 2011 07:39:31 +0200

univention-s4-connector (6.0.38-1) unstable; urgency=low

  * added logrotate configuration (Bug #18002)

 -- Felix Botner <botner@univention.de>  Wed, 12 Oct 2011 11:13:03 +0200

univention-s4-connector (6.0.37-1) unstable; urgency=low

  * Removed set_uid_umlauts (Bug #23975)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 08 Oct 2011 14:01:53 +0200

univention-s4-connector (6.0.36-1) unstable; urgency=low

  * Avoid an endless sync loop while restarting the Samba 4 daemon
    (Bug #18619)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Sep 2011 07:15:39 +0200

univention-s4-connector (6.0.35-1) unstable; urgency=low

  * fix warning in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 12:29:14 +0200

univention-s4-connector (6.0.34-1) unstable; urgency=low

  * Merged from AD Connector:
    - poll_ucs: Create a list of all DNs which should be synced in this
      run. If the DN will synced later skip the sync for this object at
      this point (Bug #21010, Bug #18619)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 21 Sep 2011 10:56:04 +0200

univention-s4-connector (6.0.33-1) unstable; urgency=low

  * Disable DC synchronisation (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 21:18:05 +0200

univention-s4-connector (6.0.32-1) unstable; urgency=low

  * Fixed bash syntax error (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 19:38:46 +0200

univention-s4-connector (6.0.31-1) unstable; urgency=low

  * Synchronize sAMAccountName for computer accounts (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 11:53:48 +0200

univention-s4-connector (6.0.30-1) unstable; urgency=low

  * Re-activate password sync for computer objects (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 11:31:05 +0200

univention-s4-connector (6.0.29-1) unstable; urgency=low

  * set connector/s4/autostart conditionally in join script (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 11:50:23 +0200

univention-s4-connector (6.0.28-1) unstable; urgency=low

  * Consider different dns '.' handling in S4 and UCS (Bug #23357)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 18 Sep 2011 09:40:02 +0200

univention-s4-connector (6.0.27-1) unstable; urgency=low

  * Exclude DC=RootDNSServers,CN=MicrosoftDNS,CN=System (Bug #23357)
  * Print tracebacks direct into s4-connector.log
  * Ignore DC=_ldap._tcp.Default-First-Site-Name._site

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 11:39:29 +0200

univention-s4-connector (6.0.26-1) unstable; urgency=low

  * Added SID mapping for computers and groups (Bug #23162, Bug #22861)
  * More list-rejected fixes (Bug #22861)
  * Disable password mapping for computer objects (Bug #23162)
  * Added DNS mapping (Bug #23357)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Sep 2011 07:29:14 +0200

univention-s4-connector (6.0.25-1) unstable; urgency=low

  * Add a mapping for DCs and remove ou=Domain Controllers from the ignore
    filter (Bug #23162)
  * Set default debug level to 2 (PROCESS) and show for this debug level
    a real process (Bug #22861)
  * Cleanup the list-rejected output (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Sep 2011 06:20:21 +0200

univention-s4-connector (6.0.24-2) unstable; urgency=low

  * joinscript fix (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:28:17 +0200

univention-s4-connector (6.0.24-1) unstable; urgency=low

  * this package depends on univention-heimdal-common (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:02:02 +0200

univention-s4-connector (6.0.23-1) unstable; urgency=low

  * If the password was set in UCS without sambaPwdLastSet, the current
    time will be used (Bug #22862)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 31 Aug 2011 07:30:26 +0200

univention-s4-connector (6.0.22-10) unstable; urgency=low

  * adjust joinscript version for MS2 (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 19:28:15 +0200

univention-s4-connector (6.0.22-9) unstable; urgency=low

  * set service name in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 13:18:06 +0200

univention-s4-connector (6.0.22-8) unstable; urgency=low

  * fix typo in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 12:32:42 +0200

univention-s4-connector (6.0.22-7) unstable; urgency=low

  * take care of whitespace when iterating over DNs (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 10:21:04 +0200

univention-s4-connector (6.0.22-6) unstable; urgency=low

  * use udm to search for service record (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 10:12:01 +0200

univention-s4-connector (6.0.22-5) unstable; urgency=low

  * autostart the connector only on first system running this joinscript
  * register the service only on first system (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:34:00 +0200

univention-s4-connector (6.0.22-4) unstable; urgency=low

  * perform initial setup tasks only if the joining host is the first
    to provide the S4 Connector service (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:24:38 +0200

univention-s4-connector (6.0.22-3) unstable; urgency=low

  * lookup of service record can be done on local host (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:20:39 +0200

univention-s4-connector (6.0.22-2) unstable; urgency=low

  * fix shell syntax (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:35:42 +0200

univention-s4-connector (6.0.22-1) unstable; urgency=low

  * try to copy samba4.secret during join from any UCS domaincontroller
    offering the S4 Connector service (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:24:20 +0200

univention-s4-connector (6.0.21-1) unstable; urgency=low

  * Bug #22862: Allow the user creation on UCS without the samba attributes
    * Change match filter to match all non samba users
    * Added sid mapping functions, the s4 obectSid will be synced to the
      sambaSID object in UCS

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Aug 2011 10:53:43 +0200

univention-s4-connector (6.0.20-1) unstable; urgency=low

  * include univention-lib in joinscript (Bug #23426)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 13:29:44 +0200

univention-s4-connector (6.0.19-1) unstable; urgency=low

  * Register S4 Connector service entry (Bug #22862)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Aug 2011 07:59:11 +0200

univention-s4-connector (6.0.18-1) unstable; urgency=low

  * move salt_krb5keys to univention-heimdal-kdc (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:21:25 +0200

univention-s4-connector (6.0.17-1) unstable; urgency=low

  * Call univention-password_sync_ucs_to_s4 for Administrator in join
    script after the s4 connector is configured (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 05 Aug 2011 16:32:53 +0200

univention-s4-connector (6.0.16-1) unstable; urgency=low

  * call univention-password_sync_ucs_to_s4 for Administrator once
    in join script, i.e. before first stat of the S4 Connector.
  * avoid duplication of complex password_sync_ucs_to_s4 code
    in univention-password_sync_ucs_to_s4, simply call the connector code
  * remove ad-connector specific code in s4connector/s4/password.py
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Aug 2011 11:06:52 +0200

univention-s4-connector (6.0.15-1) unstable; urgency=low

  * samba2ad_time was renamed to samba2s4_time. In univention-
    password_sync_ucs_to_s4 use the new name (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Aug 2011 06:08:43 +0200

univention-s4-connector (6.0.14-1) unstable; urgency=low

  * normalise_userAccountControl to 512 in post_con_create_functions
  * fix debug message (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 16:19:16 +0200

univention-s4-connector (6.0.13-1) unstable; urgency=low

  * fix userAccountControl in function disable_user_from_ucs (Bug #23154)

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 15:50:58 +0200

univention-s4-connector (6.0.12-1) unstable; urgency=low

  * sync krb5Principal to userPrincipalName (Bug #22559)
    beware: the case currently differs from the Samba4-Standard
  * allow for missing single-des keys in create_supplementalCredentials.
    With this change, the connector code does not stop any longer with
    "Subcontext Error" (NDR_ERR_SUBCONTEXT) if allow_weak_crypto=false
    is kept as default in krb5.conf.
    Currently this triggers another strange error message from samba4:
    "Constraint violation - KerberosNewerKeys num_keys != 2"
    but that's more useful than "Subcontext Error".

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 14:40:38 +0200

univention-s4-connector (6.0.11-1) unstable; urgency=low

  * Adjust univention-password_sync_ucs_to_s4 to new ucr variables and
    to the new module structure (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 03 Aug 2011 08:40:23 +0200

univention-s4-connector (6.0.10-2) unstable; urgency=low

  * check JS_LAST_EXECUTED_VERSION in joinscript (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 19:53:07 +0200

univention-s4-connector (6.0.10-1) unstable; urgency=low

  * call salt_krb5keys in join script (Bug #22559)
  * remove raw named check from join script

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:42:07 +0200

univention-s4-connector (6.0.9-2) unstable; urgency=low

  * depend on recent versions of python-univention-heimdal and
    python-univention-directory-manager (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 17:23:45 +0200

univention-s4-connector (6.0.9-1) unstable; urgency=low

  * Initialize udm modules (Bug #22439)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Aug 2011 17:20:49 +0200

univention-s4-connector (6.0.8-1) unstable; urgency=low

  * Set correct logfiles (Bug #22580)
  * Fix lo initialize in s4connector (Bug #22580)
  * By default set connector/s4/ldap/ssl to no

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Aug 2011 16:52:12 +0200

univention-s4-connector (6.0.7-2) unstable; urgency=low

  * depend on univention-samba4, otherwise get_loadparm fails due to
    missing settings in smb.conf (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 28 Jul 2011 18:20:49 +0200

univention-s4-connector (6.0.7-1) unstable; urgency=low

  * dependency on samba4-clients for samba-tool, pulls samba4 (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 26 Jul 2011 19:24:54 +0200

univention-s4-connector (6.0.6-1) unstable; urgency=low

  * fixed bashisms (Bug #23005)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Tue, 12 Jul 2011 18:36:02 +0200

univention-s4-connector (6.0.5-1) unstable; urgency=low

  * Use correct listener dir (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 18:28:28 +0200

univention-s4-connector (6.0.4-1) unstable; urgency=low

  * Use s4internal.cfg (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 18:13:47 +0200

univention-s4-connector (6.0.3-1) unstable; urgency=low

  * Install init.d script (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 17:26:26 +0200

univention-s4-connector (6.0.2-1) unstable; urgency=low

  * Removed univention-s4search, it will be part of univention-samba4
    (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 13:37:11 +0200

univention-s4-connector (6.0.1-1) unstable; urgency=low

  * Added missing install files from last commit (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 12:17:16 +0200

univention-s4-connector (6.0.0-1) unstable; urgency=low

  * Rename source package to univention-s4-connector
  * Package cleanups for UCS 3.0 (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 12:08:41 +0200

univention-ad-connector (5.1.26-1) unstable; urgency=low

  * Undo last commit, Administrator does not exist at this time
    (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 21:26:55 +0100

univention-ad-connector (5.1.25-1) unstable; urgency=low

  * Call univention-password_sync_ucs_to_s4 for Administrator account
    (Bug #20917)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 19:55:09 +0100

univention-ad-connector (5.1.24-2) unstable; urgency=low

  * add and install univention-password_sync_ucs_to_s4 (Bug #20917)

 -- Arvid Requate <requate@univention.de>  Mon, 24 Jan 2011 19:08:11 +0100

univention-ad-connector (5.1.24-1) unstable; urgency=low

  * add unfinished version op password_sync.py (Bug #20917)

 -- Arvid Requate <requate@univention.de>  Mon, 24 Jan 2011 10:20:43 +0100

univention-ad-connector (5.1.23-1) unstable; urgency=low

  * Check if tmp directory exists (Bug #21226)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 07:43:50 +0100

univention-ad-connector (5.1.22-1) unstable; urgency=low

  * Use newuser samba-tool command because the newuser command do not
    need a running samba4 server (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Jan 2011 13:09:02 +0100

univention-ad-connector (5.1.21-1) unstable; urgency=low

  * set pwdLastSet from sambaPwdLastSet
  * use existing ad2samba_time to convert pwdLastSet
  * fix LM change detection in password_sync_ucs_to_s4	(Bug #20917)

 -- Arvid Requate <requate@univention.de>  Fri, 14 Jan 2011 13:02:17 +0100

univention-ad-connector (5.1.20-1) unstable; urgency=low

  * Fixed bitwise filter (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 14 Jan 2011 10:19:49 +0100

univention-ad-connector (5.1.19-2) unstable; urgency=low

  * python (2.5) replaces python-ctypes but python2.4-ctypes is currently
    required (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Fri, 14 Jan 2011 09:24:10 +0100

univention-ad-connector (5.1.19-1) unstable; urgency=low

  * Support for a bitwise filter otherwise the identify function will
    fail for users since the match filter was changed to a bitwise
    search (Bug #20132)
  * Added dependency to python-ctypes

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 14 Jan 2011 07:12:03 +0100

univention-ad-connector (5.1.18-1) unstable; urgency=low

  * Wait five seconds for the named (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 21:00:57 +0100

univention-ad-connector (5.1.17-1) unstable; urgency=low

  * calculation of salt.length is up to ndr_push (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 17:12:45 +0100

univention-ad-connector (5.1.16-1) unstable; urgency=low

  * remove unused modules from ad/password.py
  * replace drsblobs.package_PackagesBlob kludge by PyCObject (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 17:05:54 +0100

univention-ad-connector (5.1.15-1) unstable; urgency=low

  * Added mapping for windows hosts (Bug #20132)
  * Added static attributes for the mapping which will be added during
    the object creation. This is required for the windows hosts
  * Restart AD Connector in univention-s4-conmnector postinst

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 15:59:17 +0100

univention-ad-connector (5.1.14-1) unstable; urgency=low

  * re-add lost userPassword_ucs definition (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 09:57:54 +0100

univention-ad-connector (5.1.13-2) unstable; urgency=low

  * The same password for Administrator is necessary otherwise we got a
    lot of confusion in the pam stack. pam_krb5 goes against the Samba 4
    database and pam_ldap against OpenLDAP (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 08:32:15 +0100

univention-ad-connector (5.1.13-1) unstable; urgency=low

  * The samba-tool requires a running nameserver. In the UCS environment
    a nameserver is configured after the first boot. So we start here a
    nameserver with the local samba4 dns config (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 07:12:07 +0100

univention-ad-connector (5.1.12-1) unstable; urgency=low

  * Create ucs-s4sync user in s4-connector package (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 21:52:35 +0100

univention-ad-connector (5.1.11-1) unstable; urgency=low

  * add info level log messages for ucs_to_s4 and s4_to_ucs
    password_sync functions
  * add comments indicating sync of krb5KeyVersionNumber (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 19:04:46 +0100

univention-ad-connector (5.1.10-1) unstable; urgency=low

  * add Kerberos-Newer-Keys only if new aes256 or aes128 exist
    (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 18:31:01 +0100

univention-ad-connector (5.1.9-1) unstable; urgency=low

  * password_sync_ucs_to_s4 support for new users (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 16:33:22 +0100

univention-ad-connector (5.1.8-1) unstable; urgency=low

  * activate experimental password_sync_ucs_to_s4 (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 15:15:36 +0100

univention-ad-connector (5.1.7-1) unstable; urgency=low

  * Use synchronisation user ucs-s4sync (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 13:52:17 +0100

univention-ad-connector (5.1.6-1) unstable; urgency=low

  * adjust to saltvalue getattr method (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 13:34:38 +0100

univention-ad-connector (5.1.5-1) unstable; urgency=low

  * Removed unused TestCase import in password.py (Bug #20917)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 20:38:27 +0100

univention-ad-connector (5.1.4-1) unstable; urgency=low

  * add calculate_supplementalCredentials
  * some basic lines of password_sync_s4_to_ucs (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Tue, 11 Jan 2011 12:43:31 +0100

univention-ad-connector (5.1.3-1) unstable; urgency=low

  * convert krb.ctr.salt.string for python-univention-heimdal (Bug #20132)
  * sync NT hash even if dBCSPwd cannot be retrieved
  * extract Kerberos-Newer-Keys from supplementalCredentials (untested)

 -- Arvid Requate <requate@univention.de>  Fri, 07 Jan 2011 16:46:32 +0100

univention-ad-connector (5.1.2-1) unstable; urgency=low

  * Move s4 connector configuration into a join script (Bug #20132)
  * Allow installation of s4-connector on backup too (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 06 Jan 2011 14:43:05 +0100

univention-ad-connector (5.1.1-8) unstable; urgency=low

  * parse supplementalCredentials and unicodePwd into a format suitable
    as krb5Key values, courtesy of Stefan Metzmacher from SerNet
    (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 01 Dec 2010 21:51:00 +0100

univention-ad-connector (5.1.1-7) unstable; urgency=low

  * avoid setting connector/ad/ldap/certificate in postinst
    of univention-s4-connector
  * temporarily disable password sync with Samba Directory (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 22:03:36 +0200

univention-ad-connector (5.1.1-6) unstable; urgency=low

  * disable sambaNTPassword sync to avoid tracebacks (Bug #20132)
  * depend on univention-server-master

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 19:53:12 +0200

univention-ad-connector (5.1.1-5) unstable; urgency=low

  * ldapi socket path _must_ be url quoted,
    otherwise it is silently ignored by libldap (Bug #20132)
  * more changes of connector/ad/ldap/ldaps to connector/ad/ldap/protocol

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 14:34:59 +0200

univention-ad-connector (5.1.1-4) unstable; urgency=low

  * add basic support for ldapi (Bug #20132)
  * rename connector/ad/ldap/ldaps to connector/ad/ldap/protocol

 -- Arvid Requate <requate@univention.de>  Fri, 01 Oct 2010 13:48:36 +0200

univention-ad-connector (5.1.1-3) unstable; urgency=low

  * modify password.py and mapping.py for samba4 unicodePwd (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 19:27:55 +0200

univention-ad-connector (5.1.1-2) unstable; urgency=low

  * samba/ldap/base may differ from ldap/base (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 18:20:55 +0200

univention-ad-connector (5.1.1-1) unstable; urgency=low

  * add univention-s4-connector.postinst for configuration (Bug #20132)
  * depend on univention-samba4 for provision and password

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 14:35:52 +0200

univention-ad-connector (5.0.11-2) unstable; urgency=low

  * Version bump for scope samba4 (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Sep 2010 17:41:37 +0200

univention-ad-connector (5.0.11-1) unstable; urgency=low

  * Use correct is_true call for UCR (Bug #19372 and Bug #19606)
  * Fixed disabled / locked handling based on UCS 2.4 changes
    (Bug #19942)
  * Automatically remove registered pwdump services on 64 bit windows hosts
    (Bug #20141)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Sep 2010 15:31:03 +0200

univention-ad-connector (5.0.10-1) unstable; urgency=low

  * Use the environment variable SYSTEMROOT to detect the c:\windows
    directory, otherwise the service registration failed on Windows 2000
    (Bug #19610)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 08:04:09 +0200

univention-ad-connector (5.0.9-1) unstable; urgency=low

  * Fix is_true() call for checking ssl ucr variables (Bug #19372 and
    Bug #19606)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 07:49:14 +0200

univention-ad-connector (5.0.8-1) unstable; urgency=low

  * Check for */ad/ldap/ssl before creating the new CA file
    (Bug #19372)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 07:13:49 +0200

univention-ad-connector (5.0.7-3) unstable; urgency=low

  * Windows 2000 AD does not understand StartTLS over the ldap port. To
    use an encrypted connection to the Windows 2000 AD the following (new)
    UCR variables must be set connector/ad/ldap/ldaps=yes and
    connector/ad/ldap/port=636. Alternatively can the Windows version be
    set to 2000 in the UMC module (Bug #19606)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 24 Sep 2010 10:58:27 +0200

univention-ad-connector (5.0.7-2) unstable; urgency=low

  * new package definition univention-s4-connector for future use (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 24 Sep 2010 13:46:40 +0200

univention-ad-connector (5.0.7-1) unstable; urgency=low

  * fork of tags/release-ucs-2.4-0 for samba4 scope (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 10 Sep 2010 17:25:14 +0200

univention-ad-connector (5.0.6-1) unstable; urgency=low

  * Added a link to vcredist_x86.exe in the www directory (Bug #15651)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 19 Aug 2010 13:42:31 +0200

univention-ad-connector (5.0.5-3) unstable; urgency=low

  * Added vcredist_x86.exe (Bug #15651)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Aug 2010 19:30:02 +0200

univention-ad-connector (5.0.5-2) unstable; urgency=low

  * added MSVCR100.DLL from Visual C++ 2010 redistribution package,
    vcredist_x86.exe. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 11 Aug 2010 06:56:58 +0200

univention-ad-connector (5.0.5-1) unstable; urgency=low

  * remove .svn directories from msi packages. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Jul 2010 14:51:22 +0200

univention-ad-connector (5.0.4-1) unstable; urgency=low

  * update msi packages to use correct installation path. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 08:19:43 +0200

univention-ad-connector (5.0.3-2) unstable; urgency=low

  * offer the 64bit msi package. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 08:01:20 +0200

univention-ad-connector (5.0.3-1) unstable; urgency=low

  * create umc link to the 64bit version of the password daemon. Bug
    #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 07:50:03 +0200

univention-ad-connector (5.0.2-1) unstable; urgency=low

  * added support for windows 64bit platform. Bug #15651
  * switch to makemsi:
    https://billy.knut.univention.de/uniwiki/index.php/AD_Connector_Entwicklungsumgebung#MSI-Pakete

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 07:39:28 +0200

univention-ad-connector (5.0.1-1) unstable; urgency=low

  * convert to GNU APGL V3 (Bug #17543)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Tue, 22 Jun 2010 15:53:22 +0200

univention-ad-connector (5.0.0-1) unstable; urgency=low

  * bump version for UCS 2.4
  * added cn=opsi,$ldap_base to global_ignore_subtree
  * added pcpatch to user ignore_filter Bug #17756

 -- Felix Botner <botner@univention.de>  Thu, 10 Jun 2010 17:18:41 +0200

univention-ad-connector (4.1.14-1) unstable; urgency=low

  * also use the new CAcert file which contains the UCS CA and the AD CA
    for univention-connector-list-rejected. Bug #18242

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 04 May 2010 08:38:20 +0200

univention-ad-connector (4.1.13-1) unstable; urgency=low

  * remove calls to old univention-debug methods (Bug #13053)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Tue, 06 Apr 2010 16:27:43 +0200

univention-ad-connector (4.1.12-1) unstable; urgency=low

  * replace os.system with subprocess.call in UMC module; Bug #17045

 -- Andreas Büsching <buesching@univention.de>  Tue, 30 Mar 2010 13:49:59 +0200

univention-ad-connector (4.1.11-1) unstable; urgency=low

  * be sure univention-adsearch uses an encrypted communication. Bug
    #17768

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 02 Mar 2010 19:58:38 +0100

univention-ad-connector (4.1.10-1) unstable; urgency=low

  * create a new CAcert file, which contains the UCS CA and the AD CA.
    Bug #17768

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Mar 2010 16:26:50 +0100

univention-ad-connector (4.1.9-1) unstable; urgency=low

  * fixed ad-connector umc service configuration Bug #17311

 -- Felix Botner <botner@univention.de>  Fri, 15 Jan 2010 12:21:25 +0100

univention-ad-connector (4.1.8-1) unstable; urgency=low

  * design updates for the AD Connector UMC module. Bug #16808

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 13 Jan 2010 09:17:20 +0100

univention-ad-connector (4.1.7-1) unstable; urgency=low

  * added ad-connector umc service configuration Bug #17311

 -- Felix Botner <botner@univention.de>  Tue, 12 Jan 2010 16:31:14 +0100

univention-ad-connector (4.1.6-1) unstable; urgency=low

  * use ldap:// as prefix for LDAP URIs and set CA certificate file via
    global option (Bug #16432)

 -- Andreas Büsching <buesching@univention.de>  Thu, 07 Jan 2010 17:34:28 +0100

univention-ad-connector (4.1.5-1) unstable; urgency=low

  * updated copyright Bug #17222

 -- Felix Botner <botner@univention.de>  Thu, 07 Jan 2010 13:47:52 +0100

univention-ad-connector (4.1.4-1) unstable; urgency=low

  * exit earlier if new object is ignored (Bug #16734)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 17 Dec 2009 12:42:29 +0100

univention-ad-connector (4.1.3-1) unstable; urgency=low

  * pass default value to ucr-get-call. (Bug #16638)

 -- Daniel Hofmann <hofmann@univention.de>  Thu, 17 Dec 2009 12:29:38 +0100

univention-ad-connector (4.1.2-1) unstable; urgency=low

  * use the correct pyshared path. Bug #16054

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 22 Oct 2009 11:40:31 +0200

univention-ad-connector (4.1.1-1) unstable; urgency=low

  * if the connection to the LDAP-Server is lost the connector tries to
    re-establish the connection (Bug #14724)

 -- Andreas Büsching <buesching@univention.de>  Tue, 20 Oct 2009 16:15:34 +0200

univention-ad-connector (4.1.0-4) unstable; urgency=low

  * corrected recreation of mapping in prepare-instance
  * fixed typo in prepare-instance

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 14:49:11 +0200

univention-ad-connector (4.1.0-3) unstable; urgency=low

  * use connector/ad/ldap/ssl in univention-adsearch, use ssl by default (Bug #14826)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 08:34:14 +0200

univention-ad-connector (4.1.0-2) unstable; urgency=low

  * Add Univention Configuration Registry variable connector/ad/ldap/ssl, which configures
    an unencrypted operation to the Active Directory domain controller. (Bug #14807)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 08:07:46 +0200

univention-ad-connector (4.1.0-1) unstable; urgency=low

  * extend connector to run in several instances on one server (Bug #15415)

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Aug 2009 10:44:53 +0200

univention-ad-connector (4.0.18-1) unstable; urgency=low

  * consider the ignore_filter of the user mapping during the membership
    synchronisation. Bug #13550

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 31 Jul 2009 09:23:09 +0200

univention-ad-connector (4.0.17-1) unstable; urgency=low

  * be sure a user will be deleted in AD after moving the user on UCS
    side into a ignored subtree. Bug #13786

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 31 Jul 2009 07:41:11 +0200

univention-ad-connector (4.0.16-1) unstable; urgency=low

  * read the pickle files from the listener in the correct order. Bug
    #11803
  * catch some more possible expetions during the group member sync for
    example if the user was removed in the meantime. Bug #11803

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Jul 2009 15:48:57 +0200

univention-ad-connector (4.0.15-2) unstable; urgency=low

  * Fixed upper- and lowercase problems in the attribute_filter
    function. Bug #13550

 -- Andre Fenske <fenske@univention.de>  Mon, 13 Jul 2009 16:10:08 +0200

univention-ad-connector (4.0.15-1) unstable; urgency=low

  * the ldap ignore filter should be case insensitive. Bug #13550

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 13:38:46 +0200

univention-ad-connector (4.0.14-1) unstable; urgency=low

  * open the ucs object before removing it. Bug #14062

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 11:53:58 +0200

univention-ad-connector (4.0.13-1) unstable; urgency=low

  * don't replace the UCS base with the AD base twice. This is a problem
    when the UCS base is a component of the AD base. Bug #13745

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 09:29:35 +0200

univention-ad-connector (4.0.12-1) unstable; urgency=low

  * rename an object in AD only if it exists in AD otherwise the user
    will be created. This happens when an object is moved in UCS from an
    ignored subtree into a normal area. Bug #11032

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  9 Jul 2009 14:20:11 +0200

univention-ad-connector (4.0.11-1) unstable; urgency=low

  * provide new UCR category service-adcon (Bug #13505)

 -- Andreas Büsching <buesching@univention.de>  Wed,  8 Jul 2009 10:00:21 +0200

univention-ad-connector (4.0.10-1) unstable; urgency=low

  * support for Windows 2008. Bug #11701

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  2 Jul 2009 10:27:06 +0200

univention-ad-connector (4.0.9-1) unstable; urgency=low

  * added the groups which have a nested group by default to the ignore
    filter:
     - Computers
     - Windows Hosts
     - DC Slave Hosts
     - DC Backup Hosts
    Bug #11816

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 30 Jun 2009 08:40:33 +0200

univention-ad-connector (4.0.8-1) unstable; urgency=low

  * keep the correct lower and upper case during a move in AD. Bug
    #13824

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 30 Jun 2009 08:29:31 +0200

univention-ad-connector (4.0.7-1) unstable; urgency=low

  * don't remove ignored object from the list of the memberships. Bug
    #13550

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 09:41:16 +0200

univention-ad-connector (4.0.7-1) unstable; urgency=low

  * catch some tracebacks during the remove on UCS side. Bug #11810

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 08:40:44 +0200

univention-ad-connector (4.0.6-1) unstable; urgency=low

  * consider a move in UCS. Bug #13745

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 08:20:03 +0200

univention-ad-connector (4.0.5-1) unstable; urgency=low

  * support operations on non-leaf objects. Bug #13803

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Jun 2009 20:46:11 +0200

univention-ad-connector (4.0.4-1) unstable; urgency=low

  * outvalue the ignore filters during the sync. Bug #11027

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Jun 2009 11:01:42 +0200

univention-ad-connector (4.0.3-1) unstable; urgency=low

  * remove the POSIX (shadowLastChange and shadowMax) and Kerberos
    (shadowMax) attributes for the password expiration during the
    password reset. Bug #10190

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Jun 2009 14:55:35 +0200

univention-ad-connector (4.0.2-1) unstable; urgency=low

  * The copypwd utility on windows needs the username as iso8859 string.
    Starting from now the encoding could be configured with the UCR
    variable connector/password/service/encoding. Default is iso8859-15.
    Bug #8516

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Jun 2009 11:51:45 +0200

univention-ad-connector (4.0.1-2) unstable; urgency=low

  * switched to python2.4 (Bug: #14709)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 11 Jun 2009 12:14:02 +0200

univention-ad-connector (4.0.1-1) unstable; urgency=low

  * install to /usr/share/pyshared for dh_pycentral. Bug #14667

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 11 Jun 2009 13:29:53 +0200

univention-ad-connector (4.0.0-1) unstable; urgency=low

  * Make init script LSB-compliant (Bug #14421)

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Fri, 29 May 2009 14:59:38 +0200

univention-ad-connector (3.0.5-1) unstable; urgency=low

  * fixed detection if online update is currently running (Bug: #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Mon, 16 Mar 2009 09:05:34 +0100

univention-ad-connector (3.0.4-3) unstable; urgency=low

  * updated the copyright. Bug #6875

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Mar 2009 13:47:37 +0100

univention-ad-connector (3.0.4-2) unstable; urgency=low

  * fixed bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Fri, 20 Feb 2009 11:08:38 +0100

univention-ad-connector (3.0.3-1) unstable; urgency=low

  * corrected help-message of univention-adsearch
  * added containers to global_ignore_subtree in mapping.py:
     'cn=samba,@%@ldap/base@%@',
     'cn=nagios,@%@ldap/base@%@',
     'ou=Grp Policy Users,@%@connector/ad/ldap/base@%@'
  * fix potential traceback in group_members_sync_to_ucs

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 20 Feb 2009 09:45:32 +0100

univention-ad-connector (3.0.2-2) unstable; urgency=low

  * fixed translation bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 19 Feb 2009 14:00:37 +0100

univention-ad-connector (3.0.2-1) unstable; urgency=low

  * fixed translation bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 19 Feb 2009 13:32:35 +0100

univention-ad-connector (3.0.1-1) unstable; urgency=low

  * rebuild for UCS 2.2
  * changed copyright year. Bug #6875

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 19 Feb 2009 08:14:06 +0100

univention-ad-connector (2.0.5-2) unstable; urgency=low

  * fixed translation string (Bug #8736)
  * added missing images (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Tue, 10 Feb 2009 16:03:49 +0100

univention-ad-connector (2.0.5-1) unstable; urgency=low

  * fixed layout of UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 29 Jan 2009 12:30:43 +0100

univention-ad-connector (2.0.4-4) unstable; urgency=low

  * fixed translation bug for StaticSelection widgets (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 22 Jan 2009 10:06:09 +0100

univention-ad-connector (2.0.4-3) unstable; urgency=low

  * removed unused debug output (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 18:37:57 +0100

univention-ad-connector (2.0.4-2) unstable; urgency=low

  * added missing file (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 18:00:36 +0100

univention-ad-connector (2.0.4-1) unstable; urgency=low

  * added UMC module for AD connector configuration (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 17:50:27 +0100

univention-ad-connector (2.0.3-2) unstable; urgency=low

  * don't catch SystemExit Exceptions in main.py

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 12 Jan 2009 07:57:55 +0100

univention-ad-connector (2.0.3-1) unstable; urgency=low

  * don't catch SystemExit Exceptions

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 29 Dec 2008 07:46:48 +0100

univention-ad-connector (2.0.2-3) unstable; urgency=low

  * added additional "import" line (Bug: #9715)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 24 Sep 2008 13:25:04 +0200

univention-ad-connector (2.0.2-2) unstable; urgency=low

  * disable debug line in connector/__init__.py (Bug: #12031)

 -- Felix Botner <fbotner@visdalen.knut.univention.de>  Tue, 23 Sep 2008 18:41:44 +0200

univention-ad-connector (2.0.2-1) unstable; urgency=low

  * import univention.debug2 instead of univention.debug (Bug: #9715)

 -- Sönke Schwardt <schwardt@univention.de>  Mon, 22 Sep 2008 10:47:21 +0200

univention-ad-connector (2.0.1-1) unstable; urgency=low

  * use python-univention-connector-ad as a pre dependency of
    univention-ad-connector

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Jul 2008 15:41:07 +0200

univention-ad-connector (2.0.0-2) unstable; urgency=low

  * description-workaround (sync empty descriptions as "x") is only needed for w2k

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 18 Jul 2008 08:21:18 +0200

univention-ad-connector (2.0.0-1) unstable; urgency=low

  * replace univention-baseconfig with univention-config-registry
  * add config registry variable-descriptions
  * add config-registry variable connector/ad/mapping/syncmode with default "sync"
  * add config-registry variable connector/ad/mapping/group/language with default "de"
  * implement additional group-membership-functionality for sync of "groups in groups" from ucs to ad
  * fix group membership synchronisation if user is synced later than his groups
  * fix failure if object is moved from an ignored container into a synced one
  * include global_ignore_subtree in ou mapping
  * add config-registry variable connector/ad/mapping/group/exchange in exchange-package

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 28 Apr 2008 15:12:02 +0200

univention-ad-connector (1.2.3-1) unstable; urgency=low

  * fix synchronisation of groups with hosts as member in UCS
 -- Ingo Steuwer <steuwer@univention.de>  Wed, 23 Apr 2008 10:50:18 +0200

univention-ad-connector (1.2.3) unstable; urgency=low

  * separated search for uSNCreated and uSNChanged during poll
  * sync group memberships ("memberOf") after syncing users and groups

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 21 Apr 2008 16:54:54 +0200

univention-ad-connector (1.2.2-10) unstable; urgency=low

  * don't try to get GUID manually for deleted objects if it is already given

 -- Ingo Steuwer <steuwer@univention.de>  Wed, 19 Mar 2008 09:36:11 +0100

univention-ad-connector (1.2.2-9) unstable; urgency=low

  * don't send GUID to univention-debug

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Mar 2008 15:25:17 +0100

univention-ad-connector (1.2.2-8) unstable; urgency=low

  * write tracebacks without univention-debug to /var/log/univention/connector-tracebacks.log

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Mar 2008 09:32:46 +0100

univention-ad-connector (1.2.2-7) unstable; urgency=low

  * add differentiation for users and groups in group-memberships
  * use functions from python-ldap to explode DNs
  * detect rename of OU/CN as modification instead of a move

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 13 Mar 2008 16:36:04 +0100

univention-ad-connector (1.2.2-6) unstable; urgency=low

  * remove extra filter-mapping for object-deletion

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 16 Nov 2007 08:21:42 +0100

univention-ad-connector (1.2.2-5) unstable; urgency=low

  * Add alternative univention-baseconfig depends to allow upgrades

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Mon, 12 Nov 2007 15:35:22 +0100

univention-ad-connector (1.2.2-4) unstable; urgency=low

  * add Error-handling during object-mapping

 -- Ingo Steuwer <steuwer@univention.de>  Thu,  8 Nov 2007 11:57:42 +0100

univention-ad-connector (1.2.2-3) unstable; urgency=low

  * import LDAPControl from ldap.controls

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 10 Oct 2007 14:14:30 +0200

univention-ad-connector (1.2.2-2) unstable; urgency=low

  * fixed logfile permissions

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 27 Sep 2007 15:26:55 +0200

univention-ad-connector (1.2.2-1) unstable; urgency=low

  * use the new python-ldap control interface

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 20 Sep 2007 11:54:07 +0200

univention-ad-connector (1.1.2-2) unstable; urgency=low

  * more ucs 2.0 updates

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Sep 2007 10:39:27 +0200

univention-ad-connector (1.1.1-5) unstable; urgency=low

  * install python files into the univention/connector dir

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 13 Aug 2007 21:18:23 +0200

univention-ad-connector (1.1.1-4) unstable; urgency=low

  * Bump version.

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Wed,  8 Aug 2007 11:29:39 +0200

univention-ad-connector (1.1.1-3) unstable; urgency=low

  * Adapt to Univention Directory Listener.

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Wed,  8 Aug 2007 11:28:02 +0200

univention-ad-connector (1.1.1-2) unstable; urgency=low

  * more wording change univention-config-registry and univention-
    baseconfig

 -- Stefan Gohmann <gohmann@univention.de>  Fri,  3 Aug 2007 09:45:37 +0200

univention-ad-connector (1.1.1-1) unstable; urgency=low

  * don't delete a object on ucs site if the object should be ignored
    (match_filter)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Jul 2007 11:16:41 +0200

univention-ad-connector (1.1.0-1) unstable; urgency=low

  * support Windows 2000, applied patches from the management scope
  * fix dependencies

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Jul 2007 10:15:46 +0200

univention-ad-connector (1.0.0-2) unstable; urgency=low

  * encoded files utf-8

 -- Janis Meybohm <meybohm@univention.de>  Wed, 13 Jun 2007 16:09:48 +0200

univention-ad-connector (1.0.0-1) unstable; urgency=low

  * update to ucs 2.0 policies

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2007 17:01:17 +0200

univention-ad-connector (0.3-26) unstable; urgency=low

  * the old copypwd process breaks the lsass.exe process under windows 2003
  sp1. The new package fixes this behavior

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  8 Mar 2007 13:41:43 +0100

univention-ad-connector (0.3-25) unstable; urgency=low

  * some more code cleanup

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Nov 2006 08:08:39 +0100

univention-ad-connector (0.3-16) unstable; urgency=low

  * unset the ucs attribute if the attribute was removed on ad side

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Nov 2006 13:50:29 +0100

univention-ad-connector (0.3-15) unstable; urgency=low

  * some code cleanup

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 14 Nov 2006 20:31:56 +0100

univention-ad-connector (0.3-14) unstable; urgency=low

  * sync the group membership from UCS to AD

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Oct 2006 14:24:46 +0200

univention-ad-connector (0.3-13) unstable; urgency=low

  * ignore the deleted object if the lastKnownAttribute is not set

 -- Stefan Gohmann <gohmann@univention.de>  Mon,  2 Oct 2006 16:51:55 +0200

univention-ad-connector (0.3-12) unstable; urgency=low

  * Only remove cache when updating from 1.3-1.

 -- Martin Kuehl <kuehl@univention.de>  Thu,  7 Sep 2006 12:53:46 +0200

univention-ad-connector (0.3-11) unstable; urgency=low

  * Remove baseconfig cache at end of postinstall.

 -- Martin Kuehl <kuehl@univention.de>  Thu,  7 Sep 2006 11:33:47 +0200

univention-ad-connector (0.3-10) unstable; urgency=low

  * added a pre dependency to univention-baseconfig with api change

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 Aug 2006 11:48:52 +0200

univention-ad-connector (0.3-9) unstable; urgency=low

  * migrate baseconfig handler to python module

 -- Martin Kuehl <kuehl@univention.de>  Wed, 17 May 2006 10:07:05 +0200

univention-ad-connector (0.3-8) unstable; urgency=low

  * additional Exchange-Mappings for groups to be found in global addressbook

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 12 May 2006 11:32:02 +0200

univention-ad-connector (0.3-7) unstable; urgency=low

  * ignore special encoded Exchange-attributes
  * extend mapping.py by optional custom-attributes for Exchange-Sync
  * introduce package univention-ad-connector-exchange with
    - schema-definitions for exchange-parameters to be stored in UCS
    - custom-attributes for those extension
    - enable sync of attributes by univention-baseconfig

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Apr 2006 08:53:16 +0200

univention-ad-connector (0.3-2) unstable; urgency=low

  * add optional mail-attribute mappings
  * fixed sync of custom attributes

 -- Ingo Steuwer <steuwer@univention.de>  Wed, 12 Apr 2006 14:27:35 +0200

univention-ad-connector (0.3-1) unstable; urgency=low

  * support identical LDAP-Base for UCS and AD
  * ignore mail-subcontainer
  * start connector after installation

 -- Ingo Steuwer <steuwer@univention.de>  Fri,  7 Apr 2006 15:36:28 +0200

univention-ad-connector (0.2-4) unstable; urgency=low

  * automatically create links to init script to the various runlevels

 -- Wolf Wiegand <wolf@anton.knut.univention.de>  Wed, 15 Mar 2006 17:22:55 +0100

univention-ad-connector (0.2-3) unstable; urgency=low

  * don't follow ldap-referrals for AD-connections (may loose credentials)
  * encoding-changes correlating with new python2.4-behavior

 -- Ingo Steuwer <steuwer@univention.de>  Tue,  8 Nov 2005 15:42:02 +0100

univention-ad-connector (0.1-4) unstable; urgency=low

  * Switch to python 2.4

 -- Alexander Reelsen <reelsen@univention.de>  Mon, 19 Sep 2005 11:28:40 +0200

univention-ad-connector (0.1-3) unstable; urgency=low

  * reimplemented internal.cfg
  * bugfixes in encoding and ldap.explode

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 30 Aug 2005 09:00:07 +0200

univention-ad-connector (0.1-2) unstable; urgency=low

  * bugfixes after first beta-test
  * restart sync after stopped slapd in all cases
  * better filter-handling (case-insensitive with attributes)
  * registered baseconfig-values in univention-console

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 11 Aug 2005 08:40:27 +0200

univention-ad-connector (0.1-1) unstable; urgency=low

  * initial release

 -- Stefan Gohmann <gohmann@univention.de>  Mon,  3 Jan 2005 15:40:07 +0100

