univention-samba4 (1.0.73-1) unstable; urgency=low

  * Don't wait endless for bind with samba4 as backend. Exit after 10
    minutes with an error (Bug #24129)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 22 Oct 2011 20:48:39 +0200

univention-samba4 (1.0.72-2) unstable; urgency=low

  * Fix dependencies on u-c (Bug #22668)

 -- Philipp Hahn <hahn@univention.de>  Sat, 22 Oct 2011 04:11:27 +0200

univention-samba4 (1.0.72-1) unstable; urgency=low

  * commit smb.conf after creation of shares.conf (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 17:39:29 +0200

univention-samba4 (1.0.71-6) unstable; urgency=low

  * fix vim typo (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 13:21:55 +0200

univention-samba4 (1.0.71-5) unstable; urgency=low

  * convert sambaSid to objecSid NDR format (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 13:03:04 +0200

univention-samba4 (1.0.71-4) unstable; urgency=low

  * fix rename_or_modify in samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 12:24:34 +0200

univention-samba4 (1.0.71-3) unstable; urgency=low

  * add rename_or_modify to samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Thu, 20 Oct 2011 10:35:31 +0200

univention-samba4 (1.0.71-2) unstable; urgency=low

  * handle sambaSid changes in samba4-sync module (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 20:51:03 +0200

univention-samba4 (1.0.71-1) unstable; urgency=low

  * use tee to send logfile output of setup-s4.sh to screen (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 19:06:30 +0200

univention-samba4 (1.0.70-1) unstable; urgency=low

  * updated postinst (Bug #23577)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Wed, 19 Oct 2011 17:56:12 +0200

univention-samba4 (1.0.69-5) unstable; urgency=low

  * use explicit python version in python shebang (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 17:56:22 +0200

univention-samba4 (1.0.69-4) unstable; urgency=low

  * add script functionality to the samba4-sync module (Bug #23917)
  * replace resync of listener module by direct run of samba4-sync

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 17:45:46 +0200

univention-samba4 (1.0.69-3) unstable; urgency=low

  * check if uid/gid was modified at all in samba4-idmap (Bug #23917)
  * make samba4-idmap robust against removal of idmap.ldb
  * resync the listener module after provision/join
  * adjust samba-tool domain join to new cli api (Bug #23929)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 00:31:14 +0200

univention-samba4 (1.0.69-2) unstable; urgency=low

  * add attribute filter to samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 20:08:06 +0200

univention-samba4 (1.0.69-1) unstable; urgency=low

  * handle idmap open error (Bug #23917)
  * don't remove idmap entries automatically, only add and update them

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 19:14:47 +0200

univention-samba4 (1.0.68-1) unstable; urgency=low

  * avoid calling 98univention-samba4-dns.inst in postinst, in case
    the S4 Connector did not run at that time (Bug #23786)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 18:39:27 +0200

univention-samba4 (1.0.67-1) unstable; urgency=low

  * added firewall settings (Bug #23577)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Tue, 18 Oct 2011 15:14:36 +0200

univention-samba4 (1.0.66-2) unstable; urgency=low

  * svn add samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 13:13:10 +0200

univention-samba4 (1.0.66-1) unstable; urgency=low

  * add listener module samba4-idmap (Bug #23917)

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 13:06:19 +0200

univention-samba4 (1.0.65-5) unstable; urgency=low

  * fix typo in joinscript call (Bug #23786)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 17:29:34 +0200

univention-samba4 (1.0.65-4) unstable; urgency=low

  * adjust samba-shares.py to samba4 (Bug #22865)
  * remove more samba/ha/master support from samba-shares

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 14:58:06 +0200

univention-samba4 (1.0.65-3) unstable; urgency=low

  * svn add samba-shares.py (Bug #22865)
  * remove samba/ha/master support from samba-shares

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 11:12:08 +0200

univention-samba4 (1.0.65-2) unstable; urgency=low

  * add samba-shares listener from univention-samba (Bug #22865)
  * output ldbsearch stderr in univention-s4search again

 -- Arvid Requate <requate@univention.de>  Mon, 17 Oct 2011 10:55:40 +0200

univention-samba4 (1.0.65-1) unstable; urgency=low

  * Call 98univention-samba4.dns.inst in postinst (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 20:00:11 +0200

univention-samba4 (1.0.64-1) unstable; urgency=low

  * Added eval ucr shell to 98univention-samba4-dns.inst (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 12:35:36 +0200

univention-samba4 (1.0.63-1) unstable; urgency=low

  * Give join scripts execute permissions (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 09:34:08 +0200

univention-samba4 (1.0.62-1) unstable; urgency=low

  * Activate samba4 bind backend in a new join script. First the
    connector must be configured (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 15 Oct 2011 21:41:53 +0200

univention-samba4 (1.0.61-1) unstable; urgency=low

  * samba-dsdb-modules is required to make the provision work
    (Bug #23929)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 15 Oct 2011 20:08:43 +0200

univention-samba4 (1.0.60-9) unstable; urgency=low

  * use the NTACL that provision sets for sysvol (Bug #22865)
  * use the same NTACL on the non-provision DCs

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 14:49:12 +0200

univention-samba4 (1.0.60-8.3) unstable; urgency=low

  * set same options for sysvol share as for netlogon (Bug #22865)
  * use ldbsearch --debug-stderr 2>/dev/null in univention-s4search

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 14:18:03 +0200

univention-samba4 (1.0.60-8.2) unstable; urgency=low

  * adjust samba-tool domain join to new cli api (Bug #23929)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Oct 2011 10:46:14 +0200

univention-samba4 (1.0.60-8.1) unstable; urgency=low

  * Fixed traceback in smb.conf (Bug #22865)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Oct 2011 07:10:15 +0200

univention-samba4 (1.0.60-7) unstable; urgency=low

  * register renamed template subfile (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 20:03:25 +0200

univention-samba4 (1.0.60-6) unstable; urgency=low

  * straighten smb.conf and base.conf a bit (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 19:12:09 +0200

univention-samba4 (1.0.60-5) unstable; urgency=low

  * remove reference to uncommited etc/named/samba4.conf (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 18:34:04 +0200

univention-samba4 (1.0.60-4) unstable; urgency=low

  * svn add 95univention-samba_local_config (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 18:29:27 +0200

univention-samba4 (1.0.60-3) unstable; urgency=low

  * add [homes], [printers] and [print$] shares (Bug #22865)
  * add template sections and options from univention-samba
    print them only if samba4/service/smb is 'smbd'
  * set ucr variable defaults as in univention-samba
  * register and add UCR header to etc/named/samba4.conf

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 16:27:02 +0200

univention-samba4 (1.0.60-2) unstable; urgency=low

  * adjust scripts/sysvol-sync.sh call to new samba-tool api (Bug #22865)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 15:28:40 +0200

univention-samba4 (1.0.60-1) unstable; urgency=low

  * configure samba4/service/smb?'smbd' (Bug #22865)
  * configure samba4/ntacl/backend?'native', i.e. use xattr to
    store NTACL. The alternative 'tdb' currently has compatibility issues
    between the source3 vfs module acl_tdb and the source4 posix:eadb
  * mount_extfs_with_user_xattr.py in join script

 -- Arvid Requate <requate@univention.de>  Wed, 12 Oct 2011 10:54:00 +0200

univention-samba4 (1.0.59-1) unstable; urgency=low

  * added logrotate configuration (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Wed, 12 Oct 2011 11:40:19 +0200

univention-samba4 (1.0.58-1) unstable; urgency=low

  * Updates on S3 / S4 mix setups (Bug #24000)
  * Added samba4/autostart handling
  * Added univention-service file

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Oct 2011 07:01:24 +0200

univention-samba4 (1.0.57-1) unstable; urgency=low

  * Removed dependency to eth0 (Bug #10825)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 08 Oct 2011 08:17:57 +0200

univention-samba4 (1.0.56-2) unstable; urgency=low

  * enable sysvol-sync cron-job only if samba4/sysvol/sync/cron is set
  * set samba4/sysvol/sync/cron in joinscript instead of in postinst
    (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Oct 2011 16:28:04 +0200

univention-samba4 (1.0.56-1) unstable; urgency=low

  * run sysvol-sync commands only if system was joined (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 04 Oct 2011 11:35:57 +0200

univention-samba4 (1.0.55-1) unstable; urgency=low

  * register only first DC as PDC emulator (Bug #23874)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 17:38:00 +0200

univention-samba4 (1.0.54-5) unstable; urgency=low

  * xattr emulation can be deactivated by UCR:samba4/xattr=true
  * set ntacl on the sysvol folder only once after join (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 13:35:25 +0200

univention-samba4 (1.0.54-4) unstable; urgency=low

  * install *.py scripts as well (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 13:22:08 +0200

univention-samba4 (1.0.54-3) unstable; urgency=low

  * set ntacl of imported folders from sysvol, more efficient (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 12:35:47 +0200

univention-samba4 (1.0.54-2) unstable; urgency=low

  * add copyright notice (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 12:22:43 +0200

univention-samba4 (1.0.54-1) unstable; urgency=low

  * set ntacl on sysvol using xattr emulation for now (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Thu, 29 Sep 2011 11:32:59 +0200

univention-samba4 (1.0.53-2) unstable; urgency=low

  * fix syntax error (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 17:51:25 +0200

univention-samba4 (1.0.53-1) unstable; urgency=low

  * RODCs should only offer read only sysvol and netlogon (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:41:45 +0200

univention-samba4 (1.0.52-1) unstable; urgency=low

  * On RODCs register only specific DNS reords (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:21:25 +0200

univention-samba4 (1.0.51-1) unstable; urgency=low

  * disable sysvol share on samba4/role=MEMBER (Bug #23570)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 16:17:24 +0200

univention-samba4 (1.0.50-1) unstable; urgency=low

  * configure smb.conf according to samba4/role
  * add RODC support to joinscript (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 15:04:24 +0200

univention-samba4 (1.0.49-1) unstable; urgency=low

  * add options to setup-dns-in-ucsldap allowing to add DNS records
    specific for DC, RODC, GC, ROGC and the PDC emulator respectively
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 28 Sep 2011 14:35:00 +0200

univention-samba4 (1.0.48-1) unstable; urgency=low

  * start samba daemon before modifying secrets.ldb, trying to cure
    Bug #22963 Comment 3

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:50:28 +0200

univention-samba4 (1.0.47-3) unstable; urgency=low

  * use samba4/debug/level instead of samba/debug/level (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:37:19 +0200

univention-samba4 (1.0.47-2) unstable; urgency=low

  * increase default for samba/debug/level (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:34:42 +0200

univention-samba4 (1.0.47-1) unstable; urgency=low

  * fix modification of attribute operatingSystem on master (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 09:32:56 +0200

univention-samba4 (1.0.46-1) unstable; urgency=low

  * Don't use samba4 as dns/backend. This will break the DRS replication
    (Bug #23786)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 23 Sep 2011 08:35:47 +0200

univention-samba4 (1.0.45-1) unstable; urgency=low

  * call univention-dnsedit with join credentials (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 19:04:17 +0200

univention-samba4 (1.0.44-2) unstable; urgency=low

  * add operatingSystem attribute also after join (Bug #23158)
  * fix sysvol-sync.sh (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 18:28:49 +0200

univention-samba4 (1.0.44-1) unstable; urgency=low

  * fix path in crontab entry (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 18:06:45 +0200

univention-samba4 (1.0.43-1) unstable; urgency=low

  * set operatingSystem attribute after provision (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 17:57:41 +0200

univention-samba4 (1.0.42-1) unstable; urgency=low

  * remove "Replaces" approach for univention-heimdal-kdc (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 16:23:56 +0200

univention-samba4 (1.0.41-4) unstable; urgency=low

  * add cron.d file (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:54:37 +0200

univention-samba4 (1.0.41-3) unstable; urgency=low

  * fix name of samba4/sysvol/sync/cron (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:39:18 +0200

univention-samba4 (1.0.41-2) unstable; urgency=low

  * sysvol replication cronjob (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 15:13:40 +0200

univention-samba4 (1.0.41-1) unstable; urgency=low

  * updated sketch of sysvol replication scripts (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Wed, 21 Sep 2011 11:59:30 +0200

univention-samba4 (1.0.40-1) unstable; urgency=low

  * The DRS replication must be complete, at least the DC master must be
    available via DNS (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 19:41:28 +0200

univention-samba4 (1.0.39-1) experimental; urgency=low

  * initial sketch of sysvol replication scripts (Bug #23359)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 19:21:06 +0200

univention-samba4 (1.0.38-6) experimental; urgency=low

  * new UCR variable samba4/role (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 10:55:19 +0200

univention-samba4 (1.0.38-5) experimental; urgency=low

  * set samba4_function_level on first DC (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 20 Sep 2011 10:25:32 +0200

univention-samba4 (1.0.38-4) experimental; urgency=low

  * Use $samba4_function_level instead of samba4_function_level (Bug #23360)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 19 Sep 2011 21:36:43 +0200

univention-samba4 (1.0.38-3) experimental; urgency=low

  * currently homes/groups/printers shares are not provided (Bug #23570)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 17:06:58 +0200

univention-samba4 (1.0.38-2) experimental; urgency=low

  * revert last change (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 15:23:45 +0200

univention-samba4 (1.0.38-1) experimental; urgency=low

  * provide template for samba4 init script customization (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 15:06:03 +0200

univention-samba4 (1.0.37-2) experimental; urgency=low

  * rename samba/function/level to samba4/function/level (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 12:36:49 +0200

univention-samba4 (1.0.37-1) experimental; urgency=low

  * set samba/function/level?2003 (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 12:02:08 +0200

univention-samba4 (1.0.36-1) experimental; urgency=low

  * Undo part of r26684: Allow a DC join twice (Bug #23360)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 19 Sep 2011 07:48:10 +0200

univention-samba4 (1.0.35-1) experimental; urgency=low

  * Fixed typo in 96univention-samba4.inst (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 20:14:51 +0200

univention-samba4 (1.0.34-1) experimental; urgency=low

  * Use samba4 backend for bind (Bug #23168)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 18:47:08 +0200

univention-samba4 (1.0.33-1) experimental; urgency=low

  * Search for dns forward zone first (Bug #23481)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 21:37:06 +0200

univention-samba4 (1.0.32-1) experimental; urgency=low

  * Search via univention-ldapsearch because the nameserver is not ready
    and host  will fail (Bug #23481)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 19:22:26 +0200

univention-samba4 (1.0.31-1) experimental; urgency=low

  * Register local ips to the forward zone (Bug #23481)
  * Don't join a local DC twice

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Sep 2011 17:34:50 +0200

univention-samba4 (1.0.30-2) experimental; urgency=low

  * add copyright header to check_essential_samba4_dns_records.sh
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:19:56 +0200

univention-samba4 (1.0.30-1) experimental; urgency=low

  * this package replaces univention-heimdal-kdc (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:01:06 +0200

univention-samba4 (1.0.29-2) experimental; urgency=low

  * add script to check essential DNS records for Samba 4
  * set samba4/ldap/base on all Samba 4 DCs (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 14:30:00 +0200

univention-samba4 (1.0.29-1) experimental; urgency=low

  * call setup-dns-in-ucsldap.sh explicitely from joinscript
    might be legacy once dlz-dlopen for samba4 is setup in bind9

  * need setup-dns-in-ucsldap also after join of secondary DCs
    might be legacy once nsupdate via TSIG-GSS works, which requires
    use of a writable backend for bind, probably dlz-dlopen for samba4
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 12:08:38 +0200

univention-samba4 (1.0.28-1) experimental; urgency=low

  * workaround for missing crestart in samba4 init script (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 18:28:28 +0200

univention-samba4 (1.0.27-1) experimental; urgency=low

  * recognize authentication options in univention-s4search to avoid
    intransparent credential mixup (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 18:17:44 +0200

univention-samba4 (1.0.26-2) experimental; urgency=low

  * ldap bind with machine credentials, DCPWD is unavailable in joinscript
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 12:40:38 +0200

univention-samba4 (1.0.26-1) experimental; urgency=low

  * Adjust comment to please ucslint (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 11:57:38 +0200

univention-samba4 (1.0.25-1) experimental; urgency=low

  * run provision on first DC that's going to provide the Samba 4 service,
    regardless of beeing a master or not (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 11:14:30 +0200

univention-samba4 (1.0.24-1) experimental; urgency=low

  * use SAM account password stored in secrets.ldb for univention-s4search
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:52:42 +0200

univention-samba4 (1.0.23-5) experimental; urgency=low

  * fix quoting (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 20:43:47 +0200

univention-samba4 (1.0.23-4) experimental; urgency=low

  * pick the correct server object in the sites definition by following
    the backlink from the machine object of the new DC (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 20:14:15 +0200

univention-samba4 (1.0.23-3) experimental; urgency=low

  * the current version of set_machine_secret breaks DRS replication
    disable it (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 19:37:48 +0200

univention-samba4 (1.0.23-2) experimental; urgency=low

  * fix quoting (Bug #23360)
  * determine samba_ldap_base from ldapsearch -s base

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 19:13:32 +0200

univention-samba4 (1.0.23-1) experimental; urgency=low

  * try set_machine_secret with updated key version number (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 18:55:42 +0200

univention-samba4 (1.0.22-1) experimental; urgency=low

  * manually add NTDS objectGUID as DNS CNAME after joining a new DC,
    necessary for DRS replication (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 18:51:18 +0200

univention-samba4 (1.0.21-1) experimental; urgency=low

  * update key version number in set_machine_secret (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:50:19 +0200

univention-samba4 (1.0.20-4) experimental; urgency=low

  * fix smb.conf.d/99univention-samba_local_shares (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:08:26 +0200

univention-samba4 (1.0.20-3) experimental; urgency=low

  * fix indentation of includes (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:56:05 +0200

univention-samba4 (1.0.20-2) experimental; urgency=low

  * remove ucr registrtion of 95univention-samba_local_config (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:47:54 +0200

univention-samba4 (1.0.20-1) experimental; urgency=low

  * only include existing files into smb.conf (Bug #23158)
  * don't ship 95univention-samba_local_config

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 16:37:03 +0200

univention-samba4 (1.0.19-8) experimental; urgency=low

  * avoid Samba version number in server/string (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:33:23 +0200

univention-samba4 (1.0.19-7) experimental; urgency=low

  * only try univention-s4search with connector/s4/ldap/binddn if
    the file specified by connector/s4/ldap/bindpw exists (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:27:23 +0200

univention-samba4 (1.0.19-6) experimental; urgency=low

  * the current version of set_machine_secret breaks DRS replication
    disable it (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 19:00:07 +0200

univention-samba4 (1.0.19-5) experimental; urgency=low

  * fix typo in add_servicePrincipals (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 17:43:16 +0200

univention-samba4 (1.0.19-4) experimental; urgency=low

  * let samba4 manage /etc/krb5.keytab on DCs (Bug #22963)
  * add service principals also in backup ans slave (Bug #23360)
  * increase JS VERSION for MS2
  * encapsule MS2 changes with JS_LAST_EXECUTED_VERSION

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 17:06:55 +0200

univention-samba4 (1.0.19-3) experimental; urgency=low

  * some improvements in readability and robustness for smb.conf templates
    (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 16:00:40 +0200

univention-samba4 (1.0.19-2) experimental; urgency=low

  * some postinst and joinscript fixes (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 15:33:53 +0200

univention-samba4 (1.0.19-1) experimental; urgency=low

  * set machine secret also on master after provision
  * don't append passwords to the samba4.secret file
  * fix permissions for samba4.secret.SAVE file
  * add timestamps to samba4.secret.SAVE (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 11:43:01 +0200

univention-samba4 (1.0.18-2) experimental; urgency=low

  * improve and dashify univention-s4search (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 10:38:38 +0200

univention-samba4 (1.0.18-1) experimental; urgency=low

  * use ldbsearch in univention-s4search to be able to authenticate with
    SAM account names instead of binddns. This way we can authenticate
    with the host account on systems where no samba4.secret is available.
    (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 21:23:14 +0200

univention-samba4 (1.0.17-1) experimental; urgency=low

  * resync of bind module should not be necessary any longer (Bug #23220)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 20:20:34 +0200

univention-samba4 (1.0.16-1) experimental; urgency=low

  * add cases for backup, slave and member to joinscript (Bug #23360)
  * set initially random machine secrets to /etc/machine.secret after join
  * restart samba4 in joinscript instead of postinst

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 20:15:24 +0200

univention-samba4 (1.0.15-6) experimental; urgency=low

  * copy postinst initialization code for windows/wins-support from
    univention-samba (Bug #23158)
  * samba/client_use_spnego currently unsupported in samba4 smb.conf

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 16:03:15 +0200

univention-samba4 (1.0.15-5) experimental; urgency=low

  * set samba/quota/command to a special value (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 10:57:08 +0200

univention-samba4 (1.0.15-4) experimental; urgency=low

  * use the --force, ucr (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Aug 2011 09:56:24 +0200

univention-samba4 (1.0.15-3) experimental; urgency=low

  * unset samba/quota/command in join script (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Aug 2011 17:13:45 +0200

univention-samba4 (1.0.15-2) experimental; urgency=low

  * migrate samba3 config subfiles containing supported parameters
  * migrate ucr variable desciptions (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Aug 2011 15:04:12 +0200

univention-samba4 (1.0.15-1) experimental; urgency=low

  * display charset and enable privileges have been removed from loadparm
    (Bug #23158)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Aug 2011 18:23:53 +0200

univention-samba4 (1.0.14-2) experimental; urgency=low

  * fix machinepass in provision command (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 20:16:29 +0200

univention-samba4 (1.0.14-1) experimental; urgency=low

  * provision --function-level=2008_R2, e.g. for AES support (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 08 Aug 2011 12:55:33 +0200

univention-samba4 (1.0.13-2) experimental; urgency=low

  * remove salt_krb5keys from install file (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:17:17 +0200

univention-samba4 (1.0.13-1) experimental; urgency=low

  * move salt_krb5keys to univention-heimdal-kdc (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:17:17 +0200

univention-samba4 (1.0.12-1) experimental; urgency=low

  * Fixed shell syntax error in 96univention-samba4.inst (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 10 Aug 2011 08:10:20 +0200

univention-samba4 (1.0.11-1) experimental; urgency=low

  * check if printers.conf and shares.conf exist before including in
    smb.conf, to avoid get_loadparm tracebacks (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 09 Aug 2011 14:12:13 +0200

univention-samba4 (1.0.10-1) experimental; urgency=low

  * call provision only on domaincontroller_master (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 09 Aug 2011 12:43:40 +0200

univention-samba4 (1.0.9-1) experimental; urgency=low

  * remove unknown smb.conf parameter "setup directory" (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Aug 2011 12:22:14 +0200

univention-samba4 (1.0.8-3) experimental; urgency=low

  * use ldaps port in salt_krb5Keys (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 19:24:26 +0200

univention-samba4 (1.0.8-2) experimental; urgency=low

  * add copyright to salt_krb5Keys (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:56:21 +0200

univention-samba4 (1.0.8-1) experimental; urgency=low

  * install salt_krb5Keys script, needed by univention-s4-connector
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:39:32 +0200

univention-samba4 (1.0.7-1) experimental; urgency=low

  * set ldap/server/port=7389 in setup-s4.sh if ldap/server/name points
    to local system (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Mon, 01 Aug 2011 19:20:02 +0200

univention-samba4 (1.0.6-1) experimental; urgency=low

  * Set samba/debug/level in postinst (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 29 Jul 2011 21:12:41 +0200

univention-samba4 (1.0.5-2) experimental; urgency=low

  * depend on current version of python-univention for getAdminConnection
    to honour ldap/master/port (Bug #20026)

 -- Arvid Requate <requate@univention.de>  Thu, 28 Jul 2011 18:26:14 +0200

univention-samba4 (1.0.5-1) experimental; urgency=low

  * setup-s4: set ldap/master/port=7389 if we are the ldap/master
  * setup-s4: adjust ldap/server/port only if we are ldap/server/name
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 20 Jul 2011 17:32:14 +0200

univention-samba4 (1.0.4-2) experimental; urgency=low

  * fix shell syntax error in postinst (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jul 2011 17:41:37 +0200

univention-samba4 (1.0.4-1) experimental; urgency=low

  * Fixed port removing in setup-s4.sh (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 16:53:45 +0200

univention-samba4 (1.0.3-1) experimental; urgency=low

  * set LDB_MODULES_PATH before starting provision (Bug #22559)
  * adjust path to setup/provision tools to debian alpha16 package
  * depend on samba4-clients
  * remove existing smb.conf in postinst, replaced by smb.conf.d
  * use univention-ldapsearch for authenticated search (Bug #17519)
  * fix typo in setting of ldap/server/path

 -- Arvid Requate <requate@univention.de>  Thu, 07 Jul 2011 11:57:32 +0200

univention-samba4 (1.0.2-1) experimental; urgency=low

  * Changed dependency from samba-ldb-tools to ldb-tools (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:51:41 +0200

univention-samba4 (1.0.1-1) experimental; urgency=low

  * Removed empty line from debian/univention-samba4.univention-config-
    registry (Bug #22559)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:45:06 +0200

univention-samba4 (1.0.0-1) experimental; urgency=low

  * Package cleanups for UCS 3.0 (Bug #22559)
  * Integrate scripts/msdcs.ipProtocol.patch into udm-modules package

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 15:38:28 +0200

univention-samba4 (0.2.16-1) experimental; urgency=low

  * Added 2011 to copyright (Bug #20916)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 26 Jan 2011 10:46:49 +0100

univention-samba4 (0.2.15-1) experimental; urgency=low

  * Do not write netbios aliases twice and use the dns domainname
    instead of the samba domain (Bug #21238)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 14:42:13 +0100

univention-samba4 (0.2.14-1) experimental; urgency=low

  * Create Samba 4 service and set netbios aliases to the first Samba 4
    dc in the domain (Bug #21238)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 10:52:26 +0100

univention-samba4 (0.2.13-1) experimental; urgency=low

  * Check if ucr variable kerberos/realm is set (Bug #21226)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 07:47:46 +0100

univention-samba4 (0.2.12-1) experimental; urgency=low

  * Create kerberos service entries for sshd and slapd (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Jan 2011 08:23:20 +0100

univention-samba4 (0.2.11-1) experimental; urgency=low

  * Moved kerberos settings to univention-heimdal (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Jan 2011 06:59:06 +0100

univention-samba4 (0.2.10-1) experimental; urgency=low

  * Generate a secure password with pwgen (Bug #21217)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Jan 2011 16:13:12 +0100

univention-samba4 (0.2.9-1) experimental; urgency=low

  * Copy samba4 keytab to /etc/krb5.keytab (Bug #20916)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Jan 2011 08:06:54 +0100

univention-samba4 (0.2.8-1) experimental; urgency=low

  * Create local configuration files if needed (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 14:55:55 +0100

univention-samba4 (0.2.7-1) experimental; urgency=low

  * More smb.conf cleanups (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 11:40:18 +0100

univention-samba4 (0.2.6-2) experimental; urgency=low

  * Cleanup and expand smb.conf configuration (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 07:45:27 +0100

univention-samba4 (0.2.6-1) experimental; urgency=low

  * Create ucs-s4sync user in s4-connector package (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 21:52:13 +0100

univention-samba4 (0.2.5-1) experimental; urgency=low

  * Create synchronisation user ucs-s4sync for the sync between Samba 4
    and OpenLDAP (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 13:51:43 +0100

univention-samba4 (0.2.4-1) experimental; urgency=low

  * Determined partition GUID on the basis of the objectGUID from the
    windows_domain partition object (Bug #20132)
  * Use fqdn instead of hostname for the service records

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 07:28:48 +0100

univention-samba4 (0.2.3-3) experimental; urgency=low

  * Add samba version to server string and restart samba4 in postinst
    (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 20:39:48 +0100

univention-samba4 (0.2.3-2) experimental; urgency=low

  * Added home share and cleanup smb.conf (Bug #20131)
  * Don't patch smb.conf manually (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 07:49:21 +0100

univention-samba4 (0.2.3-1) experimental; urgency=low

  * Install samba-ldb-tools by default (Bug #20131)
  * Add univention-s4search (Bug #20915)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 07 Jan 2011 11:15:57 +0100

univention-samba4 (0.2.2-1) experimental; urgency=low

  * Do no depend on dc master package (Bug #20131)
  * Check if /etc/init.d/samba exists before calling
  * Cleanup the setup-s4.sh script (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 06 Jan 2011 09:22:35 +0100

univention-samba4 (0.2.1-1) experimental; urgency=low

  * removed change-ucs-ldap_port.patch, which was merged into the source
    packages (Bug #20026)
  * Updated copyright file
  * Added S4 join script
  * Move conffile 93univention-samba4 to the correct path
  * Removed wrong references to ad connector package

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 03 Jan 2011 14:38:04 +0100

univention-samba4 (0.1-12) experimental; urgency=low

  * add 93univention-samba4 subfile to smb.conf
  * configure TLS for Samba Directory (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 14:48:27 +0200

univention-samba4 (0.1-11) experimental; urgency=low

  * avoid using SmartLDAPObject for LDAPI (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 10:36:10 +0200

univention-samba4 (0.1-10) experimental; urgency=low

  * register modified UCR-templates (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 07 Oct 2010 09:41:11 +0200

univention-samba4 (0.1-9) experimental; urgency=low

  * add patch for ldap/server/port support in dhcpd.conf (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 20:03:31 +0200

univention-samba4 (0.1-8) experimental; urgency=low

  * resync univention-bind zones to connect to new LDAP port (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 17:14:07 +0200

univention-samba4 (0.1-7) experimental; urgency=low

  * more on ldapi and patch merge into change-ucs-ldap_port (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 15:09:12 +0200

univention-samba4 (0.1-6) experimental; urgency=low

  * supply patch to add basic ldapi support to uldap.py (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Fri, 01 Oct 2010 13:55:55 +0200

univention-samba4 (0.1-5) experimental; urgency=low

  * generate password for Samba4 Administrator
  * call setup-s4 Script in postinst
  * supply current domainSid to provision script
  * supply machine password to provision script
  * reverse package dependency relation to univention-s4-connector
  * new UCR variable samba4/ldap/base for s4-connector (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 18:22:42 +0200

univention-samba4 (0.1-4) experimental; urgency=low

  * disable autostart of heimdal-kdc and samba3 (Bug #20131)
  * use ldapi socket instead of tdb

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 14:08:23 +0200

univention-samba4 (0.1-3) experimental; urgency=low

  * add basic build-dependecies (Bug #20131)

 -- Arvid Requate <requate@univention.de>  Mon, 27 Sep 2010 18:16:30 +0200

univention-samba4 (0.1-2) experimental; urgency=low

  * minor fixes for new Bug #20131

 -- Arvid Requate <requate@univention.de>  Mon, 27 Sep 2010 13:12:35 +0200

univention-samba4 (0.1-1) experimental; urgency=low

  * initial release (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 24 Sep 2010 11:45:33 +0200

