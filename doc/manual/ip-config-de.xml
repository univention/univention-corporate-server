<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE chapter [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<chapter id="networks::general">
  <title>IP- und Netzverwaltung</title>
  <para>
	Dieses Kapitel beschreibt wie IP-Adressen für die in einer UCS-Domäne
	verwalteten Rechnersysteme zentral über &ucsUMC; verwaltet und per DHCP
	zugewiesen werden können.
  </para>
  <para>
	<emphasis>Netzwerk-Objekte</emphasis> (<xref linkend="networks::introduction"/>)
	fassen verfügbare IP-Adressbereiche eines Netzes zusammen.
	Die DNS-Auflösung sowie die Vergabe von IP-Adressen über DHCP
	sind in UCS integriert und werden genauer in <xref linkend="networks:dns"/>
	sowie <xref linkend="module:dhcp:dhcp"/> erläutert.
  </para>
  <para>
	Ein- und ausgehende Netzwerkverbindungen können über die in UCS
	integrierte <emphasis>Univention Firewall</emphasis> auf Basis von <command>iptable</command>
	begrenzt werden (<xref linkend="ip-config:Paketfilter_mit_Univention_Firewall"/>).
  </para>
  <para>
	Die Integration des Proxy-Servers Squid ermöglicht das Zwischenspeichern von
	Web-Inhalten und die Umsetzung inhaltlicher Richtlinien für den Web-Zugriff
	(<xref linkend="ip-config:Web-Proxy_fuer_Caching_und_Policy_Management_Virenscan"/>).
  </para>
  <section id="networks::introduction">
	<title>Netzwerk-Objekte</title>
	<para>
	  Mit <emphasis>Netzwerk-Objekten</emphasis> lassen sich Eigenschaften eines Netzes
	  zentral erfassen, z.B. die verfügbaren IP-Adressen und die DNS- und
	  DHCP-Zonen, in denen die Systeme angesiedelt sind.
	</para>
	<figure id="net-networks">
	  <title>Erstellen eines Netzwerk-Objekts</title>
	  <graphic scalefit="1" width="100%" fileref="illustrations44/create-network_DE.png"/>
	</figure>
	<para>
	  So kann beispielsweise ein Netzwerk-Objekt <emphasis>Produktivnetz</emphasis>
	  definiert werden, das sich über die IP-Adressen von <systemitem class="ipaddress">192.0.2.0</systemitem> bis
	  <systemitem class="ipaddress">192.0.2.254</systemitem> erstreckt. Wird nun ein Windows-Rechnerobjekt angelegt, muss nun nur
	  das Netzwerk-Objekt ausgewählt werden. Es wird dann intern
	  geprüft, welche der IP-Adressen des Netzes bereits vergeben sind und die nächste
	  freie ausgewählt. Wird ein Rechnerobjekt entfernt, wird die Adresse
	  automatisch wieder neu vergeben. Dies erspart dem Administrator eine manuelle
	  Verwaltung verfügbarer Adressen.
	</para>
	<para>
	  Für Netzwerk-Objekte können sowohl IPv4-, als auch IPv6-Adressen
	  verwendet werden.
	</para>
	<para>
	  Netzwerk-Objekte werden im UMC-Modul <emphasis>Netzwerke</emphasis>
	  verwaltet (siehe auch <xref linkend="central:user-interface"/>).
	</para>
	<table>
	  <title>Reiter 'Allgemein'</title>
	  <tgroup cols="2">
		<colspec colnum="1" colname="col1" colwidth="1*"/>
		<colspec colnum="2" colname="col2" colwidth="2*"/>
		<thead>
		  <row>
			<entry>Attribut</entry>
			<entry>Beschreibung</entry>
		  </row>
		</thead>
		<tbody>
		  <row>
			<entry>Name</entry>
			<entry>
			  In diesem Eingabefeld ist der Name des Netzwerks einzutragen. Unter
			  diesem Namen erscheint das Netzwerk auch in der Rechnerverwaltung.
			</entry>
		  </row>
		  <row>
			<entry>Netzwerk</entry>
			<entry>
			  In diesem Eingabefeld muss die Netzwerk-Adresse in Oktettschreibweise
			  eingetragen werden, z.B. <systemitem class="ipaddress">192.0.2.0</systemitem>
			</entry>
		  </row>
		  <row>
			<entry>Netzmaske</entry>
			<entry>
			  Die Netzmaske kann in diesem Eingabefeld wahlweise als Bitzahl
			  (Netzpräfix) oder in Oktettschreibweise eingetragen werden. Wenn die
			  Netzmaske in Oktettschreibweise eingegeben wird, wird sie automatisch
			  in den entsprechenden Netzpräfix umgewandelt und später auch
			  ausgegeben.
			</entry>
		  </row>
		  <row>
			<entry>IP-Adressbereich</entry>
			<entry>
			  <para>
				In diesem Feld können ein oder mehrere IP-Adressbereiche
				angelegt werden. Wenn später ein Gerät diesem Netzwerk zugeordnet
				werden soll, wird dem Gerät automatisch die nächste freie IP-Adresse
				aus den hier eingetragenen IP-Adressbereichen zugewiesen.
			  </para>
			  <para>
				Wenn an dieser Stelle kein IP-Adressbereich eingerichtet wird,
				verwendet das System automatisch den Bereich, der sich aus dem
				Netzwerk und der Netzmaske ergibt.
			  </para>
			  <para>
				Im Untermenü <guimenu>DNS-Einstellungen</guimenu> können Forward Lookup Zone und Reverse Lookup
				Zone ausgewählt werden. Wird später ein Gerät diesem Netzwerk
				zugeordnet, wird für das Gerät automatisch ein Host Record in der
				Forward Lookup Zone beziehungsweise ein Pointer Record in der Reverse
				Lookup Zone angelegt.
			  </para>
			  <para>
				Die Zonen werden ebenfalls in &ucsUMC; verwaltet, siehe
				<xref linkend="networks::dns::forwardzone"/>.
			  </para>
			  <para>
				Wird hier keine Zone ausgewählt, werden bei der Zuweisung zu einem
				Rechnerobjekt keine DNS-Records angelegt. Die DNS-Einträge können aber
				weiterhin manuell gesetzt werden.
			  </para>
			</entry>
		  </row>
		  <row>
			<entry>Forward Lookup Zone für DNS-Einträge</entry>
			<entry>
			  Hier ist die Forward Lookup Zone anzugeben, in die Geräte aus diesem
			  Netzwerk eingetragen werden sollen. Über diese Zone wird die Auflösung
			  des Rechnernamens zu einer IP-Adresse durchgeführt.
			</entry>
		  </row>
		  <row>
			<entry>Reverse Lookup Zone für DNS-Einträge</entry>
			<entry>
			  <para>
				Hier ist die Reverse Lookup Zone anzugeben, in die Geräte aus diesem
				Netzwerk eingetragen werden sollen. Über diese Zone wird die
				Rückwärtsauflösung der IP-Adresse zu einem Rechnernamen durchgeführt.
			  </para>
			  <para>
				Im Untermenü <guimenu>DHCP-Einstellungen</guimenu> kann dem Netzwerk ein DHCP-Service zugeteilt
				werden. Wird später ein Gerät diesem Netzwerk zugeordnet, wird für das
				Gerät automatisch ein DHCP-Rechner-Eintrag mit der festen
				IP-Adresse unterhalb des gewählten DHCP-Services angelegt.
			  </para>
			  <para>
				Die DHCP-Service-Einstellungen werden ebenfalls in &ucsUMC;
				verwaltet, siehe <xref linkend="networks::dhcp::general"/>.
			  </para>
			  <para>
				Wird hier keine DHCP-Service ausgewählt, wird bei der Zuweisung zu einem
				Rechnerobjekt kein DHCP-Rechner-Eintrag angelegt. Ein solcher Eintrag
				kann aber weiterhin manuell zugewiesen werden.
			  </para>
			</entry>
		  </row>
		</tbody>
	  </tgroup>
	</table>
  </section>

  <section id="networks:dns">
	<title>Verwaltung von DNS-Daten mit BIND</title>
	<para>
	  UCS integriert BIND für die Namensauflösung über das Domain Name
	  System (DNS). Die meisten DNS-Funktionen werden für die DNS-Auflösung in
	  der lokalen Domäne verwendet, die UCS-BIND-Integration kann aber
	  prinzipiell auch für einen öffentlichen Nameserver eingesetzt werden.
	</para>
	<para>
	  Auf allen Domänencontroller-Systemrollen ist BIND immer
	  verfügbar, eine Installation auf anderen Systemrollen wird nicht
	  unterstützt.
	</para>
	<para>
	  Die Konfiguration der von einem UCS-System zu verwendenden Nameserver ist in
	  <xref linkend="hardware::networkconfiguration"/> dokumentiert.
	</para>
	<para>
	  Folgende DNS-Daten werden unterschieden:
	</para>
	  <itemizedlist>
		<listitem>
			<simpara>
		  Eine <emphasis>Forward Lookup Zone</emphasis> enthält Informationen, die zum Auflösen
		  von DNS-Namen in IP-Adressen herangezogen werden. Jede DNS-Zone
		  verfügt über mindestens einen authoritativen, primären Nameserver,
		  dessen Informationen für eine Zone maßgeblich sind. Untergeordnete
		  Server synchronisieren sich mit dem authoritativen Server über
		  Zonentransfers. Der Eintrag, der eine solche Zone auszeichnet, ist
		  der <emphasis>SOA-Record</emphasis>.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Der <emphasis>MX-Record</emphasis> einer Forward Lookup Zone ist eine für das
		  E-Mail-Routing notwendige DNS-Information. Er verweist auf den
		  Rechner, der für eine Domäne Mails entgegennimmt.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  <emphasis>TXT-Records</emphasis> enthalten menschenlesbaren Text und
		  können beschreibende Informationen zu einer Forward Lookup Zone
		  enthalten.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Ein <emphasis>CNAME-Record</emphasis> (desweiteren auch als <emphasis>Alias-Record</emphasis>
		  bezeichnet) verweist auf einen vorhandenen, kanonischen
		  DNS-Namen. So kann beispielsweise der kanonische Rechnername des
		  Mailservers einen Alias-Eintrag <emphasis>mailserver</emphasis> erhalten, der dann
		  in die Mail-Clients eingetragen wird. Zu einem kanonischen Namen
		  können beliebig viele CNAME-Records definiert werden.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Ein <emphasis>A-Record</emphasis> (unter IPv6 <emphasis>AAAA-Record</emphasis>) weist
		  einem DNS-Namen eine IP-Adresse zu. A-Records werden in UCS auch als
		  <emphasis>Host-Records</emphasis> bezeichnet.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Mit einem <emphasis>SRV-Record</emphasis> (in UCS als <emphasis>Service Record</emphasis>
		  bezeichnet) kann im DNS Informationen über verfügbare Systemdienste
		  hinterlegt werden. In UCS werden Service Records u.a. verwendet, um
		  LDAP-Server oder den &ucsMaster; domänenweit bekannt zu
		  machen.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Eine <emphasis>Reverse Lookup Zone</emphasis> enthält Informationen, die zur Auflösung von IP-Adressen
		  in DNS-Namen herangezogen werden. Jede DNS-Zone
		  verfügt über mindestens einen authoritativen, primären Nameserver,
		  dessen Informationen für eine Zone massgeblich sind. Untergeordnete
		  Server synchronisieren sich mit dem authoritativen Server über
		  Zonentransfers. Der Eintrag, der eine solche Zone auszeichnet, ist
		  der <emphasis>SOA Record</emphasis>.
			</simpara>
		</listitem>
		<listitem>
			<simpara>
		  Ein <emphasis>PTR-Record (Pointer Record)</emphasis> erlaubt die Auflösung
		  einer IP-Adresse in einen Rechnernamen. Er stellt damit in einer
		  Reverse Lookup Zone in etwa das Äquivalent zu einem Host Record in
		  einer Forward Lookup Zone dar.
			</simpara>
		</listitem>
	  </itemizedlist>

	<section id="ip-config:Konfiguration_des_Bind-Dienstes">
	  <title>Konfiguration des BIND-Dienstes</title>

	  <section id="ip-config:bind-debug">
		<title>Konfiguration der Debug-Ausgaben von BIND</title>
		<para>
		  Der Detailgrad der Debugausgaben von BIND kann über die &ucsUCR;-Variablen
		  <envar>dns/debug/level</envar> und <envar>dns/dlz/debug/level</envar> (für das
		  Samba-Backend, siehe <xref linkend="ip-config:dns:backend"/>) konfiguriert
		  werden. Die möglichen Werte reichen von 0 (keine Debug-Ausgaben) bis 11. Eine komplette
		  Aufstellung der Detailgrade findet sich unter <biblioref linkend="bind-loglevel"/>.
		</para>
	  </section>

	  <section id="ip-config:dns:backend">
		<title>Konfiguration des Daten-Backends des Nameservers</title>
		<para>
		  In einer typischen BIND-Installation auf einem Nicht-UCS-System
		  wird die Konfiguration durch das Bearbeiten von Zonen-Dateien
		  durchgeführt. In UCS wird BIND komplett über &ucsUMC;
		  konfiguriert, das seine Daten im LDAP-Verzeichnis speichert.
		</para>
		<para>
		  BIND kann zwei verschiedene Backends für seine Konfigurationsdateien verwenden:
		</para>
		  <itemizedlist>
			<listitem>
				<simpara>
				  Das <emphasis>LDAP-Backend</emphasis> greift auf die Daten im OpenLDAP-Verzeichnis
				  zu. Dieses Backend ist der Standard. Der DNS-Dienst ist in diesem Fall
				  zweigeteilt: Der <emphasis>BIND-Proxy</emphasis> ist der primäre Nameserver und
				  bedient den DNS-Standard-Port 53. Ein zweiter Server im Hintergrund arbeitet auf
				  Port 7777. Werden Daten der internen DNS-Zonen im LDAP bearbeitet, wird die
				  Zonendatei auf dem zweiten Server basierend auf den LDAP-Informationen
				  aktualisiert und durch einen Zonentransfer an den BIND-Proxy übertragen.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
			  Samba 4 stellt eine Active Directory-Domäne bereit. Active
			  Directory ist eng mit DNS verknüpft, u.a. für DNS-Updates von
			  Windows-Clients oder für die Lokalisierung des Netlogon-Shares. Wird
			  Samba 4 eingesetzt, wird der betreffende Domänencontroller auf die
			  Verwendung des <emphasis>Samba-Backend</emphasis>s umgestellt. Die DNS-Datenbank
			  wird dabei in der Samba-internen <acronym>LDB</acronym>-Datenbank vorgehalten, die
			  direkt von Samba aktualisiert wird. BIND greift dann über die
			  <acronym>DLZ</acronym>-Schnittstelle auf die Samba-DNS-Daten zu.
				</simpara>
			</listitem>
		  </itemizedlist>

		<para>
		  Bei Verwendung des Samba-Backends wird für jede DNS-Anfrage eine Suche im LDAP
		  durchgeführt. Bei Verwendung des OpenLDAP-Backends wird nur bei Änderungen der DNS-Daten im
		  Verzeichnisdienst gesucht. Die Verwendung des LDAP-Backends kann daher zu einer
		  Reduzierung der Systemlast auf Samba 4-Systemen führen.
		</para>

		<para>
		  Das Backend wird über die &ucsUCRV; <envar>dns/backend</envar> konfiguriert. Die
		  DNS-Verwaltung ändert sich durch das verwendete Backend nicht und erfolgt
		  in beiden Fällen über &ucsUMC;.
		</para>
	  </section>

	  <section id="ip-config:Konfiguration_von_Zonentransfers">
		<title>Konfiguration von Zonentransfers</title>
		<para>
		  In der Grundeinstellung erlaubt der UCS-Nameserver Zonentransfers
		  der DNS-Daten. Ist der UCS-Server aus dem Internet erreichbar, kann dadurch eine Liste
		  aller Rechnernamen und IP-Adressen abgefragt werden. Der Zonentransfer kann bei Verwendung des OpenLDAP-Backends durch Setzen
		  der &ucsUCRV; <envar>dns/allow/transfer</envar> auf <literal>none</literal> deaktiviert
		  werden.
		</para>
	  </section>

	</section>

	<section id="ip-config:dns:umc">
	  <title>Konfiguration der DNS-Daten in &ucsUMC;</title>
	  <para>
		DNS-Daten werden standardmäßig im Container <uri>cn=dns,<replaceable>Basis-DN</replaceable></uri>
		abgelegt. Forward- und Reverse-Lookup-Zonen werden direkt in dem
		Container abgelegt. In den jeweiligen Zonen können
		zusätzliche DNS-Objekte wie z.B. Pointer-Records angelegt werden.
	  </para>

	  <para>
		In Eingabefeldern für Rechner sollte immer der relative
		oder vollqualifizierte Domänenname und nicht die IP-Adresse des
		Rechners verwendet werden. Um zu verhindern, dass der Domänenname
		erneut angehängt wird, sollte ein FQDN immer mit einem Punkt
		abgeschlossen werden.
	  </para>

	  <para>
		In der linken Spalte des UMC-Moduls <guimenu>DNS</guimenu> befindet sich eine Liste aller Forward- und
		Reverse-Lookup-Zonen. Um ein Objekt einer Zone hinzuzufügen - etwa einen Alias-Record zu
		einer Forward-Zone - muss die entsprechende Zone ausgewählt werden. Durch <guimenu>Hinzufügen</guimenu> wird
		das Objekt dann in dieser Zone angelegt. Um eine neue Forward- oder Reverse-Zone anzulegen,
		muss zuerst <guimenu>Alle DNS-Zonen</guimenu> selektiert werden, der Klick auf
		<guimenu>Hinzufügen</guimenu> legt dann eine neue Zone an. Wird ein Objekt unterhalb einer
		Zone angelegt, wird die Zone in den UMC-Dialogen als <emphasis>übergeordnetes
		Objekt</emphasis> bezeichnet.
	  </para>

	  <section id="networks::dns::forwardzone">
		<title>Forward Lookup Zonen</title>
		<para>
		  Forward Lookup Zonen enthalten Informationen, die zum Auflösen von
		  DNS-Namen in IP-Adressen verwendet werden. Sie werden im UMC-Modul
		  <emphasis>DNS</emphasis> verwaltet (siehe auch <xref linkend="central:user-interface"/>).
		  Um eine weitere Forward Lookup
		  Zone anzulegen, muss <guimenu>Alle DNS-Zonen</guimenu> selektiert werden und
		  <guimenu>Hinzufügen &ar; DNS: Forward Lookup Zone</guimenu> ausgewählt werden.
		</para>
		  <figure id="net-dns-forward">
			<title>Konfiguration einer Forward Lookup Zone in UMC</title>
			<graphic scalefit="1" width="100%" fileref="illustrations44/forward-lookup-zone_DE.png"/>
		  </figure>
		  <table>
			<title>Reiter 'Allgemein'</title>
			<tgroup cols="2">
			  <colspec colnum="1" colname="col1" colwidth="1*"/>
			  <colspec colnum="2" colname="col2" colwidth="2*"/>
			  <thead>
				<row>
				  <entry>Attribut</entry>
				  <entry>Beschreibung</entry>
				</row>
			  </thead>
			  <tbody>
				<row>
				  <entry>Name der Zone</entry>
				  <entry>
					Der komplette Name der DNS-Domäne, für die die Zone zuständig sein soll.
					In Zonennamen darf der Domänenname nicht mit einem Punkt abgeschlossen
					werden!
				  </entry>
				</row>
				<row>
				  <entry>Zone Time-to-Live</entry>
				  <entry>
					Die Time-to-Live gibt an, wie lange diese Daten von anderen
					DNS-Servern im Cache gespeichert werden dürfen. Der Wert wird in
					Sekunden gespeichert.
				  </entry>
				</row>
				<row>
				  <entry>Nameserver</entry>
				  <entry>
					Der FQDN mit abschließendem Punkt oder der relative
					Domänenname der zuständigen Nameserver. Der erste Eintrag in der Liste
					ist der primäre Nameserver der Zone.
				  </entry>
				</row>
			  </tbody>
			</tgroup>
		  </table>
		  <table>
			<title>Reiter 'Start of Authority Eintrag'</title>
			<tgroup cols="2">
			  <colspec colnum="1" colname="col1" colwidth="1*"/>
			  <colspec colnum="2" colname="col2" colwidth="2*"/>
			  <thead>
				<row>
				  <entry>Attribut</entry>
				  <entry>Beschreibung</entry>
				</row>
			  </thead>
			  <tbody>
				<row>
				  <entry>Verantwortliche Person</entry>
				  <entry>
					Die E-Mail-Adresse der für die Verwaltung der Zone verantwortlichen Person.
				  </entry>
				</row>
				<row>
				  <entry>Seriennummer</entry>
				  <entry>
					<para>
					  Anhand der Seriennummer erkennen andere DNS-Server, ob sich
					  Zonendaten geändert haben. Der Slave-Nameserver vergleicht die Seriennummer
					  seiner Kopie mit der auf dem Master-Nameserver. Ist die Seriennummer
					  auf dem Slave niedriger als auf dem Master, so kopiert der Slave die
					  geänderten Daten.
					</para>
					<para>
					  Es gibt zwei häufig verwendete Muster für die Seriennummer:
					</para>
					  <itemizedlist>
						<listitem>
							<simpara>
						  Beginn mit 1 unter Inkrementierung der Seriennummer bei jeder Änderung
							</simpara>
						</listitem>
						<listitem>
							<simpara>
						  Unter Einbeziehung des Datums kann die Zahl im Format <userinput><replaceable>JJJJMMTTNN</replaceable></userinput>
						  eingegeben werden, wobei <replaceable>J</replaceable> für Jahr, <replaceable>M</replaceable> für Monat, <replaceable>T</replaceable> für Tag und <replaceable>N</replaceable>
						  für die Nummer der Änderung an diesem Tag steht.
							</simpara>
						</listitem>
					  </itemizedlist>
					<para>
					  Wird die Seriennummer nicht von Hand geändert, wird sie automatisch
					  bei jeder Änderung inkrementiert.
					</para>
				  </entry>
				</row>
				<row>
				  <entry>Aktualisierungsintervall</entry>
				  <entry>
					Die Zeitspanne in Sekunden, nach der der Slave-Nameserver überprüft,
					ob seine Kopie der Zonendaten noch aktuell ist.
				  </entry>
				</row>
				<row>
				  <entry>Intervall für erneute Versuche</entry>
				  <entry>
					Die Zeitspanne in Sekunden, nach der der Slave-Nameserver nach einer fehlgeschlagenen
					Aktualisierungs-Anfrage erneut versucht, die Aktualität seiner
					Zonendaten-Kopie zu überprüfen. Üblicherweise wird diese Zeitspanne
					kürzer gewählt als das Aktualisierungsintervall, darf aber auch gleich
					lang sein.
				  </entry>
				</row>
				<row>
				  <entry>Ablaufintervall</entry>
				  <entry>
					<para>
					  Die Zeitspanne in Sekunden, nach der die Zonendaten-Kopie auf dem Slave ungültig wird,
					  wenn ihre Aktualität nicht überprüft werden konnte.
					</para>
					<para>
					  Bei einem Ablaufintervall von einer Woche bedeutet dies beispielsweise,
					  dass die Zonendaten-Kopie ungültig wird, wenn eine Woche lang alle
					  Aktualisierungs-Anfragen fehlgeschlagen sind. In dem Fall wird davon ausgegangen,
					  dass die Daten nach der Ablaufzeit zu veraltet sind, um weiter
					  verwendet zu werden. Der Slave-Nameserver kann dann keine
					  Namensauflösungs-Anfragen für diese Zone mehr beantworten.
					</para>
				  </entry>
				</row>
				<row>
				  <entry>Negative Time-to-Live</entry>
				  <entry>
					Die Negative Time-to-Live gibt in Sekunden an, wie lange andere Server
					<foreignphrase>No-such-Domain</foreignphrase>-Antworten (<acronym>NXDOMAIN</acronym>) im Cache behalten dürfen. Der Wert
					darf nicht mehr als 3 Stunden betragen, der Standard sind 3 Stunden.
				  </entry>
				</row>
			  </tbody>
			</tgroup>
		  </table>
		  <table>
			<title>Reiter 'IP-Adressen'</title>
			<tgroup cols="2">
			  <colspec colnum="1" colname="col1" colwidth="1*"/>
			  <colspec colnum="2" colname="col2" colwidth="2*"/>
			  <thead>
				<row>
				  <entry>Attribut</entry>
				  <entry>Beschreibung</entry>
				</row>
			  </thead>
			  <tbody>
				<row>
				  <entry>IP-Adressen der Zone</entry>
				  <entry>
					Mit diesem Eingabefeld können eine oder mehrere IP-Adressen angegeben werden,
					die zurückgegeben werden, wenn der Name der Zone aufgelöst wird. Die
					hier hinterlegten Adressen werden von Microsoft Windows-Clients in
					AD-kompatiblen Domänen abgefragt.
				  </entry>
				</row>
			  </tbody>
			</tgroup>
		  </table>
		  <table>
			<title>Reiter 'MX Records'</title>
			<tgroup cols="2">
			  <colspec colnum="1" colname="col1" colwidth="1*"/>
			  <colspec colnum="2" colname="col2" colwidth="2*"/>
			  <thead>
				<row>
				  <entry>Attribut</entry>
				  <entry>Beschreibung</entry>
				</row>
			  </thead>
			  <tbody>
				<row>
				  <entry>Mail-Server</entry>
				  <entry>
					<para>
					  Hier wird der für diese Domäne zuständige Mail-Server als
					  vollqualifizierter Domänenname mit abschließendem Punkt eingetragen.
					</para>
					<para>
					  Es dürfen nur kanonische Namen und keine Alias-Namen verwendet werden.
					</para>
				  </entry>
				</row>
				<row>
				  <entry>Priorität</entry>
				  <entry>
					Ein Zahlenwert zwischen 0 und 65535. Stehen mehrere Mail-Server für den
					MX-Record zur Verfügung, wird zuerst versucht, den Server mit dem
					niedrigsten Prioritätswert in Anspruch zu nehmen.
				  </entry>
				</row>
			  </tbody>
			</tgroup>
		  </table>
		  <table>
			<title>Reiter 'TXT Records'</title>
			<tgroup cols="2">
			  <colspec colnum="1" colname="col1" colwidth="1*"/>
			  <colspec colnum="2" colname="col2" colwidth="2*"/>
			  <thead>
				<row>
				  <entry>Attribut</entry>
				  <entry>Beschreibung</entry>
				</row>
			  </thead>
			  <tbody>
				<row>
				  <entry>TXT Record</entry>
				  <entry>
					Ein beschreibender Text zu dieser Zone. Text Records dürfen keine
					Umlaute oder sonstige Sonderzeichen enthalten.
				  </entry>
				</row>
			  </tbody>
			</tgroup>
		  </table>
	  </section>

	  <section id="ip-config:CNAME-Record_Alias-Records">
		<title>CNAME-Record (Alias-Records)</title>
		<para>
		  CNAME-Records / Alias-Records werden im UMC-Modul <emphasis>DNS</emphasis>
		  verwaltet (siehe auch <xref linkend="central:user-interface"/>).
		  Um einen weiteren Record anzulegen, muss in der linken Spalte eine
		  Forward Lookup Zone ausgewählt werden. Mit <guimenu>Hinzufügen &ar; DNS: Alias
		  Record</guimenu> kann dann ein neuer Record angelegt werden.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Alias</entry>
				<entry>
				  Der Aliasname als FQDN mit abschließendem Punkt oder als relativer
				  Domänenname, der auf den kanonischen Namen verweisen soll.
				</entry>
			  </row>
			  <row>
				<entry>Kanonischer Name</entry>
				<entry>
				  Der kanonische Name des Rechners, auf den der Alias verweisen soll, angegeben
				  als FQDN mit abschließendem Punkt oder als relativer Domänenname.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="networks::dns::hostrecord">
		<title>A/AAAA-Records (Host Records)</title>
		<para>
		  Host-Records werden im UMC-Modul <emphasis>DNS</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>).
		  Um einen weiteren Record anzulegen, muss in der linken Spalte eine
		  Forward Lookup Zone ausgewählt werden. Mit <guimenu>Hinzufügen &ar; DNS: Host
		  Record</guimenu> kann dann ein neuer Record angelegt werden.
		</para>
		<para>
		  Beim Hinzufügen oder Bearbeiten eines Rechner-Objekts kann ein Host
		  Record automatisch erstellt oder geändert werden.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Rechnername</entry>
				<entry>
				  Der FQDN mit abschließendem Punkt oder der relativen Domänenname des
				  Rechners.
				</entry>
			  </row>
			  <row>
				<entry>IP-Adresse</entry>
				<entry>
				  Die IPv4 und/oder IPv6-Adressen, auf die der Host Record verweisen soll.
				</entry>
			  </row>
			  <row>
				<entry>Zone Time-to-Live</entry>
				<entry>
				  Die Time-to-Live gibt in Sekunden an, wie lange diese Daten von anderen
				  DNS-Servern im Cache gespeichert werden dürfen.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Service_Records">
		<title>Service Records</title>
		<para>
		  Service Records werden im Modul <emphasis>DNS</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>).
		  Um einen weiteren Record anzulegen, muss in der linken Spalte eine
		  Forward Lookup Zone ausgewählt werden. Mit <guimenu>Hinzufügen &ar; DNS: Service
		  Record</guimenu> kann dann ein neuer Record angelegt werden.
		</para>
		<figure id="net-srv-record">
		  <title>Konfiguration eines Service Records</title>
		  <graphic scalefit="1" width="100%" fileref="illustrations44/srv-record_DE.png"/>
		</figure>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Dienst</entry>
				<entry>
				  Der Name, unter dem der Dienst erreichbar sein soll.
				</entry>
			  </row>
			  <row>
				<entry>Protokoll</entry>
				<entry>
					Der Protokoll, über das der Record erreichbar ist (<systemitem class="protocol">TCP</systemitem>, <systemitem class="protocol">UDP</systemitem>, <systemitem class="protocol">MSDCS</systemitem> oder <systemitem class="protocol">SITES</systemitem>).
				</entry>
			  </row>
			  <row>
				<entry>Erweiterung</entry>
				<entry>
				  Über dieses Eingabefeld können weitere Parameter übergeben
				  werden.
				</entry>
			  </row>
			  <row>
				<entry>Priorität</entry>
				<entry>
				  Eine ganze Zahl zwischen 0 und 65535. Stellen mehrere Server denselben
				  Dienst zur Verfügung, wendet sich der Client zuerst an den
				  Server mit dem niedrigeren Prioritätswert.
				</entry>
			  </row>
			  <row>
				<entry>Gewichtung</entry>
				<entry>
				  <para>
					Eine ganze Zahl zwischen 0 und 65535. Die Gewichtung dient der
					Lastverteilung zwischen Servern mit gleicher Priorität. Wenn mehrere
					Server denselben Dienst zur Verfügung stellen und denselben
					Prioritätswert haben, wird die Last im Verhältnis der Gewichtungen auf
					die Server verteilt.
				  </para>
				  <para>
					Beispiel: <systemitem class="server">Server1</systemitem> hat eine Priorität von 1 und eine Gewichtung
					von 1, während <systemitem class="server">Server2</systemitem> ebenfalls eine Priorität von 1, aber
					eine Gewichtung von 3 hat. In diesem Fall wird <systemitem class="server">Server2</systemitem> dreimal
					so oft verwendet wie <systemitem class="server">Server1</systemitem>. Die Belastung wird abhängig vom
					Dienst beispielsweise als Anzahl der Anfragen oder Verbindungen
					gemessen.
				  </para>
				</entry>
			  </row>
			  <row>
				<entry>Port</entry>
				<entry>
				  Der Port, über den der Dienst auf dem Server zu erreichen
				  ist (gültige Werte liegen zwischen 1 und 65535).
				</entry>
			  </row>
			  <row>
				<entry>Server</entry>
				<entry>
				  <para>
					Der Name des Servers, auf dem der Dienst bereitgestellt wird, als FQDN
					mit abschließendem Punkt oder als relativer Domänenname.
				  </para>
				  <para>
					Für jeden Dienst können über die Auswahlbox auch mehrere Server
					eingetragen werden.
				  </para>
				</entry>
			  </row>
			  <row>
				<entry>Zone Time-to-Live</entry>
				<entry>
				  Die Time-to-Live gibt an, wie lange diese Daten von anderen
				  DNS-Servern im Cache gespeichert werden dürfen.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Reverse_Lookup_Zonen">
		<title>Reverse Lookup Zonen</title>
		<para>
		  Eine Reverse Lookup Zone dient zur Umwandlung von IP-Adressen in Rechnernamen. Sie werden
		  im UMC-Modul <emphasis>DNS</emphasis> verwaltet (siehe auch <xref linkend="central:user-interface"/>).
		  Um eine weitere Reverse Lookup
		  Zone anzulegen, muss <guimenu>Alle DNS-Zonen</guimenu> selektiert werden und
		  <guimenu>Hinzufügen &ar; DNS: Reverse Lookup Zone</guimenu> ausgewählt werden.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Subnetz</entry>
				<entry>
				  Die IP-Adresse des Netzwerkes, für das die Reverse Lookup Zone gültig
				  sein soll. Wenn beispielsweise das betreffende Netz aus den
				  IP-Adressen <systemitem class="ipaddress">192.0.2.0</systemitem> bis <systemitem class="ipaddress">192.0.2.255</systemitem> besteht, wäre
				  <systemitem class="ipaddress">192.0.2</systemitem> einzutragen.
				</entry>
			  </row>
			  <row>
				<entry>Zone Time-to-Live</entry>
				<entry>
				  Die Time-to-Live gibt an, wie lange diese Daten von anderen
				  DNS-Servern im Cache gespeichert werden dürfen.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
		<table>
		  <title>Reiter 'Start of Authority Eintrag'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Verantwortliche Person</entry>
				<entry>
				  Die E-Mail-Adresse der für die Verwaltung der
				  Zone verantwortlichen Person (mit abschließendem Punkt).
				</entry>
			  </row>
			  <row>
				<entry>Nameserver</entry>
				<entry>
				  Der FQDN mit abschließendem Punkt oder der relative
				  Domänenname der zuständigen Nameserver. Der erste Eintrag in der Liste
				  ist der primäre Nameserver der Zone.
				</entry>
			  </row>
			  <row>
				<entry>Seriennummer</entry>
				<entry>
				  Siehe die Dokumentation zu Forward Lookup Zonen in
				  <xref linkend="networks::dns::forwardzone"/>.
				</entry>
			  </row>
			  <row>
				<entry>Aktualisierungsintervall</entry>
				<entry>
				  Siehe die Dokumentation zu Forward Lookup Zonen in
				  <xref linkend="networks::dns::forwardzone"/>.
				</entry>
			  </row>
			  <row>
				<entry>Intervall für erneute Versuche</entry>
				<entry>
				  Siehe die Dokumentation zu Forward Lookup Zonen in
				  <xref linkend="networks::dns::forwardzone"/>.
				</entry>
			  </row>
			  <row>
				<entry>Ablaufintervall</entry>
				<entry>
				  Siehe die Dokumentation zu Forward Lookup Zonen in
				  <xref linkend="networks::dns::forwardzone"/>.
				</entry>
			  </row>
			  <row>
				<entry>Minimum Time-to-Live</entry>
				<entry>
				  Siehe die Dokumentation zu Forward Lookup Zonen in
				  <xref linkend="networks::dns::forwardzone"/>.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Pointer_Records">
		<title>Pointer Records</title>
		<para>
		  Pointer-Records werden im UMC-Modul <emphasis>DNS</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>).
		  Um einen weiteren Record anzulegen, muss in der linken Spalte eine
		  Reverse Lookup Zone ausgewählt werden. Mit <guimenu>Hinzufügen &ar; DNS: Pointer
		  Record</guimenu> kann dann ein neuer Record angelegt werden.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Adresse</entry>
				<entry>
				  Die letzten Oktett der IP-Adresse des Rechners (abhängig vom Netz-Präfix, siehe unten).
				</entry>
			  </row>
			  <row>
				<entry>Pointer</entry>
				<entry>
				  <para>
					Der FQDN des Rechners mit abschließendem Punkt.
				  </para>
				  <para>
					Ein Beispiel: In einem Netzwerk mit 24 Bit langem Netz-Präfix (Netzmaske
					<systemitem class="netmask">255.255.255.0</systemitem>) soll für den Rechner <systemitem class="systemname">client001</systemitem> mit der
					IP-Adresse <systemitem class="ipaddress">192.0.2.101</systemitem> ein Pointer angelegt werden. In das Feld
					<guimenu>Adresse</guimenu> ist dann <userinput>101</userinput> und in
					<guimenu>Pointer</guimenu> <userinput>client001.firma.com.</userinput> einzutragen.
				  </para>
				  <para>
					Bei einem Netzwerk mit 16 Bit langem Netz-Präfix (Netzmaske
					<systemitem class="netmask">255.255.0.0</systemitem>) müssten für diesen Rechner die letzten zwei Oktette in
					umgekehrter Reihenfolge (hier <userinput>101.1</userinput>) eingetragen werden. In das
					Feld <guimenu>Pointer</guimenu> wäre auch hier <userinput>client001.firma.com.</userinput>
					einzutragen.
				  </para>
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>
	</section>
  </section>

  <section id="module:dhcp:dhcp">
	<title>IP-Vergabe über DHCP</title>
	<section id="ip-config:Einfuehrung">
	  <title>Einführung</title>
	  <para>
		Das <firstterm>Dynamic Host Configuration Protocol</firstterm> (<acronym>DHCP</acronym>) weist Rechnern eine
		IP-Adresse, die Subnetz-Maske und gegebenenfalls weitere Einstellungen
		wie Gateway oder NetBIOS-Server zu. Die IP-Adresse kann fest oder
		dynamisch vergeben werden.
	  </para>
	  <para>
		Die Verwendung von DHCP ermöglicht eine zentrale Vergabe und Kontrolle
		von IP-Adressen über das LDAP-Verzeichnis ohne manuelle Einträge an
		den einzelnen Rechnersystemen vorzunehmen.
	  </para>
	  <para>
		Die DHCP-Integration in UCS unterstützt nur IPv4.
	  </para>
	  <para>
		In einem <emphasis>DHCP-Service</emphasis> werden DHCP-Server mit einer
		gemeinsamen LDAP-Konfiguration zusammengefasst. Globale
		Konfigurationsparameter werden am DHCP-Service angegeben,
		spezifische Parameter in den Objekten darunter.
	  </para>

	  <para>
		Ein DHCP-Server kann mit der Applikation
		<emphasis>DHCP-Server</emphasis> aus dem Univention App Center
		installiert werden. Alternativ kann das Softwarepaket
		<package>univention-dhcp</package> installiert werden. Weitere
		Informationen finden sich in <xref
		linkend="computers::softwaremanagement::installsoftware"/>.
	  </para>

	  <para>
		Jeder DHCP-Server verteilt IP-Adressen über DHCP. In der
		Grundeinstellungen werden nur statische IP-Adressen an im
		UCS-LDAP registrierte Rechnerobjekte vergeben.
	  </para>

	  <para>
		Werden ausschließlich feste IP-Adressen vergeben, können beliebig
		viele DHCP-Server in einem DHCP-Service verwendet werden. Alle
		DHCP-Server greifen auf identische Daten aus dem LDAP zurück und
		bieten den DHCP-Clients die Daten mehrfach an. DHCP-Clients
		akzeptieren dann die erste Antwort und verwerfen die übrigen.
	  </para>
	  <para>
		Werden auch dynamisch IP-Adressen verteilt, muss der
		DHCP-Failover-Mechanismus eingesetzt werden. Dabei können maximal zwei
		DHCP-Server pro Subnetz verwendet werden.
	  </para>
	  <para>
		Mit einem <emphasis>DHCP-Rechner</emphasis>-Eintrag wird ein Rechner dem
		DHCP-Service bekannt gemacht. Für Rechner, die per DHCP eine feste
		IP-Adresse beziehen sollen, ist ein DHCP-Rechner-Objekt zwingend erforderlich.
		DHCP-Rechner-Objekte müssen in der Regel nicht manuell erstellt
		werden, weil diese automatisch angelegt werden, wenn einem Rechnerobjekt mit fester
		IP-Adresse ein DHCP-Service zugewiesen wird.
	  </para>
	  <para>
		Für jedes Subnetz wird ein <emphasis>DHCP-Subnetz</emphasis>-Eintrag
		benötigt, unabhängig davon, ob dynamische IP-Adressen aus diesen
		Subnetzen vergeben werden sollen.
	  </para>
	  <para>
		Über die Einrichtung von <emphasis>DHCP-Pools</emphasis> innerhalb von Subnetzen
		können den verschiedenen IP-Adressbereichen unterschiedliche
		Konfigurationsparameter zugeordnet werden. Auf diese Weise können
		unbekannte Rechner in einem IP-Adressbereich zugelassen und von einem
		anderen IP-Adressbereich ausgeschlossen werden. DHCP-Pools können
		nur unterhalb von DHCP-Subnetz-Objekten angelegt werden.
	  </para>
	  <para>
		Falls mehrere IP-Subnetze gemeinsam dasselbe physikalische Ethernet-Netzwerk verwenden, sollten diese als
		<emphasis>DHCP Shared Subnet</emphasis> unterhalb eines <guimenu>DHCP Shared Network</guimenu> eingetragen werden.
		<guimenu>DHCP Shared Subnet</guimenu>-Objekte können nur unterhalb von <guimenu>DHCP Shared Network</guimenu>-Objekten angelegt werden.
	  </para>
	  <para>
		Werte, die auf einer Ebene der DHCP-Konfiguration angegeben werden,
		gelten immer für diese und alle darunterliegenden Ebenen, sofern dort
		keine anderen Angaben gemacht werden. Ähnlich wie bei Richtlinien gilt
		immer der Wert, der dem Objekt am nächsten ist.
	  </para>
	</section>

	<section id="networks::dhcp::general">
	  <title>Aufbau der DHCP-Konfiguration durch DHCP-LDAP-Objekte</title>

	  <para>
		In der linken Spalte des UMC-Moduls <guimenu>DHCP</guimenu> befindet sich eine Liste aller
		DHCP-Services. Um einem DHCP-Service ein Objekt hinzuzufügen - etwa ein weiteres Subnetz -
		muss der entsprechende Service ausgewählt werden. Durch <guimenu>Hinzufügen</guimenu> wird
		das Objekt dann in diesem Service angelegt. Um einen neuen DHCP-Service anzulegen,
		muss zuerst <guimenu>Alle DHCP-Dienste</guimenu> selektiert werden, der Klick auf
		<guimenu>Hinzufügen</guimenu> legt dann einen neue Service an. Wird ein Objekt unterhalb eines
		Services angelegt, wird der Service in den UMC-Dialogen als <emphasis>übergeordnetes
		Objekt</emphasis> bezeichnet.
	  </para>

	  <section id="networks::dhcp::services">
		<title>Verwaltung von DHCP-Services</title>
		<para>
		  DHCP-Services werden im UMC-Modul <emphasis>DHCP</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>). Um einen
		  neuen DHCP-Service anzulegen muss zuerst <guimenu>Alle DHCP-Dienste</guimenu>
		  in der linken Spalte des UMC-Moduls selektiert werden.
		  Ein Klick auf <guimenu>Hinzufügen</guimenu> legt dann einen neue Service an.
		</para>

		<para>
		  Ein DHCP-Server kann nur einen DHCP-Service bedienen; wenn ein weiterer DHCP-Service
		  verwendet werden soll, muss dafür ein separater DHCP-Server eingerichtet werden (siehe
		  <xref linkend="networks:dhcp:dhcpsever"/>).
		</para>
		<para>
		  Am DHCP-Service-Objekt werden häufig folgende Parameter festgelegt,
		  die dann für alle Rechner gültig sind, die von diesem DHCP-Service
		  bedient werden (es sei denn, es werden auf tieferen Ebenen andere
		  Angaben gemacht):
		</para>
		  <itemizedlist>
			<listitem>
				<simpara>
			  <guimenu>Domänenname</guimenu> und <guimenu>DNS-Server</guimenu> unter <guimenu>Richtlinie: DHCP DNS</guimenu>
				</simpara>
			</listitem>
			<listitem>
				<simpara>
			  <guimenu>NetBIOS-Nameserver</guimenu> unter <guimenu>Richtlinie: DHCP NetBIOS</guimenu>
				</simpara>
			</listitem>
		</itemizedlist>
		<para>
		  Eine Beschreibung dieser und der anderen DHCP-Richtlinien findet sich
		  unter <xref linkend="networks::dhcp::policies"/>.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Service-Name</entry>
				<entry>
				  In dieses Eingabefeld muss ein beliebiger, aber eindeutiger Name für den
				  DHCP-Service eingetragen werden, z.B. <userinput>firma.com</userinput>.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="networks:dhcp:dhcpsever">
		<title>Verwaltung von DHCP-Server-Einträgen</title>
		<para>
		  Jeder Server, der den DHCP-Dienst anbieten soll, benötigt zwingend
		  einen <emphasis>DHCP-Server</emphasis>-Eintrag im LDAP-Verzeichnis. Der Eintrag
		  muss in der Regel nicht von Hand angelegt werden, sondern wird durch
		  das Join-Skript des <package>univention-dhcp</package>-Pakets angelegt.
		  Um dennoch manuell einen weiteren Record anzulegen, muss im UMC-Modul
		  <emphasis>DHCP</emphasis> in der linken Spalte ein
		  DHCP-Service ausgewählt werden. Mit <guimenu>Hinzufügen &ar; DHCP Server</guimenu>
		  kann dann ein neuer Server registriert werden.
		</para>

		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Server-Name</entry>
				<entry>
				  <para>
					In diesem Eingabefeld ist der Rechnername, der den DHCP-Dienst anbieten soll,
					einzutragen, z.B. <systemitem class="systemname">ucs-master</systemitem>.
				  </para>
				  <para>
					Ein Server kann immer nur einen einzigen DHCP-Dienst anbieten und kann deshalb nicht gleichzeitig in mehreren DHCP-Services eingetragen sein.
				  </para>
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Verwaltung_von_DHCP-Subnetzen">
		<title>Verwaltung von DHCP-Subnetzen</title>
		<para>
		  DHCP-Subnetze werden im UMC-Modul <emphasis>DHCP</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>). Um ein
		  weiteres Subnetz anzulegen, muss in der linken Spalte ein DHCP-Service ausgewählt
		  werden. Mit <guimenu>Hinzufügen &ar; DHCP: Subnetz</guimenu> kann dann ein neues Subnetz
		  angelegt werden.
		</para>

		<para>
		  Ein DHCP-Subnetz-Eintrag ist für jedes Subnetz, aus dem dynamische oder
		  feste IP-Adressen vergeben werden sollen, zwingend erforderlich. Das
		  Eintragen von IP-Adressbereichen ist nur notwendig, wenn IP-Adressen
		  dynamisch vergeben werden sollen.
		</para>

		<para>
		  Falls <emphasis>DHCP:Shared Subnet</emphasis>-Objekte verwendet werden sollen,
		  sollten die entsprechenden Subnetze unterhalb des dafür angelegten
		  <emphasis>DHCP:Shared Network</emphasis>-Containers angelegt werden (siehe
		  <xref linkend="networks::dhcp::sharedsubnets"/>).
		</para>

		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Subnetz-Adresse</entry>
				<entry>
				  In diesem Eingabefeld ist die IP-Adresse des Subnetzes in
				  Oktettschreibweise einzutragen, z.B. <systemitem class="ipaddress">192.0.2.0</systemitem>.
				</entry>
			  </row>
			  <row>
				<entry>Netzmaske</entry>
				<entry>
				  Die Netzmaske kann in diesem Eingabefeld wahlweise als Dezimalzahl des
				  Netzpräfix oder in Oktettschreibweise eingetragen werden. Wenn die
				  Netzmaske in Oktettschreibweise eingegeben wird, wird sie automatisch
				  in den entsprechenden Netzpräfix umgewandelt und später auch ausgegeben.
				</entry>
			  </row>
			  <row>
				<entry>Dynamische Adresszuweisung</entry>
				<entry>
				  Hier können ein einzelner oder mehrere
				  IP-Adressbereiche eingerichtet werden, die für die dynamische Vergabe
				  zur Verfügung stehen. Der Bereich erstreckt sich von
				  <guimenu>Erste Adresse</guimenu> bis <guimenu>Letzte Adresse</guimenu> in
				  Oktettschreibweise.
				  <caution>
					  <para>
					Dynamische IP-Adressbereiche für ein Subnetz sind immer entweder ausschließlich
					im Subnetz-Eintrag oder ausschließlich in einem oder mehreren
					gesonderten Pool-Einträgen anzugeben. Die
					IP-Adressbereich-Eintragstypen innerhalb eines Subnetzes dürfen nicht
					gemischt werden! Wenn in einem Subnetz verschiedene IP-Adressbereiche
					mit unterschiedlichen Konfigurationen eingesetzt werden sollen, müssen
					dafür Pool-Einträge angelegt werden.
					  </para>
				  </caution>
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
		<para>
		  Auf dieser Ebene wird häufig über
		  dir Karteikarte <guimenu>Richtlinie: DHCP Routing</guimenu> das Gateway für alle Rechner in diesem Subnetz festgelegt (es
		  sei denn, es werden an DHCP-Pools andere Angaben gemacht).
		</para>
	  </section>

	  <section id="ip-config:Verwaltung_von_DHCP-Pools">
		<title>Verwaltung von DHCP-Pools</title>
		<para>
		  DHCP-Pools können nur über das UMC-Modul <emphasis>LDAP-Verzeichnis</emphasis>
		  verwaltet werden. Dazu muss in ein DHCP-Subnetz-Objekt navigiert
		  werden - ein DHCP-Pool-Objekt muss immer unterhalb eines
		  DHCP-Subnetz-Objektes angelegt werden - und dort mit
		  <guimenu>Hinzufügen</guimenu> ein <guimenu>DHCP: Pool</guimenu>-Objekt eingefügt werden.
		</para>
		<para>
		  Wenn in einem Subnetz DHCP-Pools angelegt werden, sollten keine
		  IP-Adressbereiche im Subnetz-Eintrag definiert werden. Diese sind
		  ausschließlich in den Pool-Einträgen anzulegen.
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Name</entry>
				<entry>
				  In dieses Eingabefeld muss ein beliebiger, aber eindeutiger Name für den
				  DHCP-Pool eingetragen werden, z.B. <uri>testnetz.firma.com</uri>.
				</entry>
			  </row>
			  <row>
				<entry>Dynamischer Bereich</entry>
				<entry>
				  Hier können die IP-Adressen in Oktettschreibweise angegeben werden,
				  die dynamisch vergeben werden.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
		<table>
		  <title>Reiter 'Fortgeschritten'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
				<row>
					<entry>
						<para>Failover Peer</para>
					</entry>
					<entry>
						<para>
							Der Name einer Failover-Konfiguration, die von Hand in der Datei
							<filename>/etc/dhcp/local.conf</filename> konfiguriert werden werden. Hinweise
							zur Einrichtung finden sich in <xref linkend="dhcp-failover"/>.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>Erlaube bekannte Clients</para>
					</entry>
					<entry>
					  <para>
						Ein Computer wird durch seine MAC-Adresse identifiziert. Ist dieses Feld auf
						<guimenu>erlauben</guimenu> gesetzt oder nicht gesetzt, ist ein Computer mit
						einem DHCP-Rechner-Eintrag (siehe <xref
						linkend="ip-config:dhcp:objects:hosts"/>) berechtigt eine IP-Adresse aus diesem Pool zu
						beziehen. Ist es auf <guimenu>verbieten</guimenu> gesetzt, erhalten diese
						Computer keine IP-Adresse aus dem Pool.
					  </para>
					</entry>
				</row>
				<row>
					<entry>
						<para>Erlaube unbekannte Clients</para>
					</entry>
					<entry>
					  <para>
						Ein Computer wird durch seine MAC-Adresse identifiziert. Ist dieses Feld auf
						<guimenu>erlauben</guimenu> gesetzt oder nicht gesetzt, ist ein Computer ohne
						DHCP-Rechner-Eintrag (siehe <xref linkend="ip-config:dhcp:objects:hosts"/>)
						berechtigt eine IP-Adresse aus diesem Pool zu beziehen. Ist es auf
						<guimenu>verbieten</guimenu> gesetzt, erhalten diese Computer keine
						IP-Adresse aus dem Pool.
					  </para>
					</entry>
				</row>
				<row>
					<entry>
						<para>Dynamische BOOTP-Clients erlauben</para>
					</entry>
					<entry>
						<para>
						  <firstterm>BOOTP</firstterm> ist das Vorgängerprotokoll von DHCP. Es kennt
						  keinen Mechanismus zum Aktualisieren eines Leases und weist Adressen
						  zeitlich unbeschränkt zu, was den Pool erschöpfen kann. Ist diese Option
						  auf <guimenu>erlauben</guimenu> gesetzt können Clients auch über BOOTP
						  eine Adresse aus diesem Pool zu beziehen.
						</para>
					</entry>
				</row>
				<row>
					<entry>
						<para>Alle Clients</para>
					</entry>
					<entry>
						<para>
						  Wird diese Option auf <guimenu>verbieten</guimenu> gesetzt, wird der
						  Pool global deaktiviert. Diese Option ist nur in Ausnahmefällen sinnvoll.
						</para>
					</entry>
				</row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:dhcp:objects:hosts">
		<title>Registrierung von Rechnern mit DHCP-Rechner-Objekten</title>
		<para>
		  Mit einem <emphasis>DHCP:Rechner</emphasis>-Eintrag wird der betreffende Rechner
		  im DHCP-Service registriert. Rechner können in Abhängigkeit von ihrem
		  Registrierungs-Status behandelt werden. Bekannte Rechner können
		  feste oder dynamische IP-Adressen vom DHCP-Service beziehen; unbekannte Rechner erhalten nur
		  dynamische IP-Adressen.
		</para>
		<para>
		  Üblicherweise werden beim Hinzufügen eines Rechners über die
		  Rechnerverwaltung automatisch DHCP-Rechner-Einträge
		  erstellt. Unterhalb des DHCP-Service-Objekts gibt es die Möglichkeit,
		  manuell DHCP-Rechner-Einträge hinzuzufügen oder bestehende
		  Einträge, egal ob manuell oder automatisch erzeugt, zu bearbeiten.
		</para>

		<para>
		  DHCP-Rechner-Objekte werden im UMC-Modul <emphasis>DHCP</emphasis> verwaltet
		  (siehe auch <xref linkend="central:user-interface"/>).
		  Um einen Rechner manuell im DHCP zu registrieren, muss in der linken Spalte des
		  Moduls ein DHCP-Service ausgewählt werden. Mit
		  <guimenu>Hinzufügen &ar; DHCP: Rechner</guimenu> kann dann ein Rechner registriert werden.
		</para>

		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Rechnername</entry>
				<entry>
				  In diesem Eingabefeld ist ein Name für den Rechner einzugeben (der in
				  der Regel auch einen Eintrag in der Rechnerverwaltung besitzt).
				  Es empfiehlt sich, in beiden Einträgen denselben Namen und dieselbe
				  MAC-Adresse für den Rechner zu verwenden, um die Zuordnung zu
				  erleichtern.
				</entry>
			  </row>
			  <row>
				<entry>Netzwerktyp</entry>
				<entry>
				  In dieser Auswahlliste ist der Typ des verwendeten Netzwerks
				  auszuwählen. Hier ist nahezu immer <guimenu>Ethernet</guimenu>
				  auszuwählen.
				</entry>
			  </row>
			  <row>
				<entry>Adresse</entry>
				<entry>
				  In diesem Eingabefeld ist die MAC-Adresse der Netzwerkkarte
				  einzutragen, z.B. <systemitem class="etheraddress">2e:44:56:3f:12:32</systemitem> oder
				  <systemitem class="etheraddress">2e-44-56-3f-12-32</systemitem>.
				</entry>
			  </row>
			  <row>
				<entry>Feste IP-Adressen</entry>
				<entry>
				  Hier können dem Rechner eine oder mehrere feste
				  IP-Adressen zugewiesen werden. Neben einer IP-Adresse kann auch ein
				  vollqualifizierter Domänenname angegeben werden, der vom
				  DHCP-Server in eine oder mehrere IP-Adressen aufgelöst wird.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="networks::dhcp::sharedsubnets">
		<title>Verwaltung von DHCP Shared Networks / DHCP Shared Subnets</title>
		<para>
		  <emphasis>DHCP:Shared Network</emphasis>-Objekte nehmen Subnetze auf, die ein
		  physikalisches Netzwerk gemeinsam nutzen.
		</para>

		<para>
		  DHCP-Shared-Network-Objekte werden im UMC-Modul <emphasis>DHCP</emphasis>
		  verwaltet (siehe auch <xref linkend="central:user-interface"/>).
		  Um ein Shared Network anzulegen, muss in der linken Spalte des
		  Moduls ein DHCP-Service ausgewählt werden. Mit
		  <guimenu>Hinzufügen &ar; DHCP: Shared Network</guimenu> kann dann ein Netzwerk registriert
		  werden.
		</para>

		<caution>
			<para>
				Ein Shared-Network muss mindestens einen Shared-Subnet-Eintrag enthalten.
				Anderenfalls beendet sich der DHCP-Dienst und kann nicht gestartet werden, bis die Konfiguration korrigiert ist.
			</para>
		</caution>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Shared Network Name</entry>
				<entry>
				  In dieses Eingabefeld ist ein Name für das Shared Network einzutragen.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
		<para>
		  Als <emphasis>DHCP:Shared Subnet</emphasis> werden Subnetze deklariert, die
		  gemeinsam dasselbe physikalische Netzwerk verwenden. Alle Subnetze,
		  die dasselbe Netzwerk verwenden, müssen unterhalb desselben Shared
		  Network-Containers angelegt werden. Für jedes Subnetz ist ein eigenes
		  <emphasis>DHCP:Shared Subnet</emphasis>-Objekt anzulegen.
		</para>
		<para>
		  DHCP-Shared-Subnet-Objekte können nur über das UMC-Modul <emphasis>LDAP-Verzeichnis</emphasis>
		  verwaltet werden. Dazu muss in ein DHCP-Shared Network-Objekt navigiert
		  werden - ein DHCP-Shared Subnet-Objekt muss immer unterhalb eines
		  DHCP-Shared Network-Objektes angelegt werden - und dort mit
		  <guimenu>Hinzufügen</guimenu> ein <guimenu>DHCP: Shared Subnet</guimenu>-Objekt eingefügt werden.
		</para>
	  </section>
	</section>

	<section id="networks::dhcp::policies">
	  <title>Konfiguration von Clients durch DHCP-Richtlinien</title>
	  <note>
		<para>
		  Viele Einstellungen für DHCP werden über Richtlinien konfiguriert.
		  Diese finden auch Anwendung auf DHCP-Rechner-Objekte, wenn eine Richtlinie mit der LDAP-Basis oder einem der anderen dazwischenliegenden Container verknüpft ist.
		  Da die Einstellungen an DHCP-Rechner-Objekte die höchste Priorität haben, werden andere Einstellungen an Subnetz- oder Service-Objekten ignoriert.
		</para>
		<para>
		  DHCP-Richtlinien sollten von daher direkt mit den DHCP-Netzwerk-Objekten (bspw. den DHCP-Subnetzen) verknüpft werden.
		  <footnote>
			<para>
			  Alternativ kann in den erweiterten Einstellungen der Richtlinien unter <guisubmenu>Objekt</guisubmenu> bei <guimenuitem>Ausgeschlossene Objektklassen</guimenuitem> die LDAP-Klasse <classname>univentionDhcpHost</classname> hinzugefügt werden.
			  Solche Richtlinien finden dann nicht länger auf die DHCP-Rechner-Objekt Anwendung, wodurch dann die Einstellungen aus DHCP-Subnetz und -Service benutzt werden.
			</para>
		  </footnote>
		</para>
	  </note>
	  <tip>
		<para>
		  Bei Verwendung der Kommandozeile <command>udm dhcp/host list</command> (siehe auch <xref linkend="central:udm:example:dnsdhcp"/>) kann die Option <option>--policies 0</option> verwendet werden, um die effektiven Einstellungen anzeigen zu lassen.
		</para>
	  </tip>

	  <section id="ip-config:Vorgabe_des_Gateways">
		<title>Vorgabe des Gateways</title>
		<para>
		  Das Default-Gateway kann per DHCP über eine Richtlinie vom Typ
		  <emphasis>DHCP Routing</emphasis> festgelegt werden, die im
		  UMC-Modul <guimenu>Richtlinien</guimenu> verwaltet wird
		  (siehe auch <xref linkend="central:policies"/>).
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Router</entry>
				<entry>
				  Hier sind die Namen oder IP-Adressen der Router einzutragen. Dabei ist
				  darauf zu achten, dass der DHCP-Server diese Namen in IP-Adressen
				  auflösen kann. Die Router werden vom Client in der Reihenfolge
				  angesprochen, in der sie in der Auswahlliste erscheinen.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Vorgabe_der_DNS-Server">
		<title>Vorgabe der DNS-Server</title>
		<para>
		  Die von einem Client zu verwendenden Nameserver können per DHCP über
		  eine Richtlinie vom Typ <emphasis>DHCP DNS</emphasis> festgelegt werden, die im
		  UMC-Modul <guimenu>Richtlinien</guimenu> verwaltet wird (siehe auch <xref linkend="central:policies"/>).
		</para>
		<table>
		  <title>Reiter 'Allgemein'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Domänenname</entry>
				<entry>
				  Der Name der Domäne, den der Client automatisch an Rechnernamen anhängt,
				  die er zur Auflösung an den DNS-Server schickt und die keine
				  vollqualifierten Domänennamen sind. Üblicherweise wird hier der Name
				  der Domäne verwendet, der der Client angehört.
				</entry>
			  </row>
			  <row>
				<entry>DNS-Server</entry>
				<entry>
				  Hier können IP-Adressen oder vollqualifizierte Domänennamen (FQDNs) von
				  DNS-Servern hinzugefügt werden. Bei der Verwendung von FQDNs ist
				  darauf zu achten, dass der DHCP-Server die Namen in IP-Adressen
				  auflösen kann. Die DNS-Server werden von den Clients entsprechend
				  der hier angegebenen Reihenfolge kontaktiert.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="networks:dhcp:wins">
		<title>Vorgabe des WINS-Server</title>
		<para>
		  Der zu verwendende WINS-Server kann per DHCP über eine Richtlinie vom Typ
		  <emphasis>DHCP NetBIOS</emphasis> festgelegt werden, die im
		  UMC-Modul <guimenu>Richtlinien</guimenu> verwaltet wird
		  (siehe auch <xref linkend="central:policies"/>).
		</para>
		<table>
		  <title>Reiter 'NetBIOS'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>NetBIOS-Nameserver</entry>
				<entry>
				  Hier sind die Namen oder IP-Adressen der NetBIOS-Nameserver (auch
				  bekannt als WINS-Server) einzutragen. Dabei ist darauf zu achten, dass
				  der DHCP-Server diese Namen in IP-Adressen auflösen kann. Die
				  angegebenen Server werden vom Client in der Reihenfolge angesprochen,
				  in der sie in der Auswahlliste erscheinen.
				</entry>
			  </row>
			  <row>
				<entry>NetBIOS Scope</entry>
				<entry>
				  Der NetBIOS over TCP/IP-Scope für den Client nach der Spezifikation
				  in <u:rfc>1001</u:rfc> und <u:rfc>1002</u:rfc>. Bei der Angabe des NetBIOS Scopes ist die
				  Groß- und Kleinschreibung zu beachten.
				</entry>
			  </row>
			  <row>
				<entry>NetBIOS Node Type</entry>
				<entry>
				  Dieses Auswahlfeld legt den Node Type eines Clients fest. Mögliche Werte sind:
				  <itemizedlist>
					<listitem>
						<simpara>
							<guimenuitem>1 B-node</guimenuitem> (Broadcast: kein WINS)
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<guimenuitem>2 P-node</guimenuitem> (Peer: ausschließlich WINS)
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<guimenuitem>4 M-node</guimenuitem> (Mixed: erst Broadcast, dann WINS)
						</simpara>
					</listitem>
					<listitem>
						<simpara>
							<guimenuitem>8 H-node</guimenuitem> (Hybrid: erst WINS, dann Broadcast)
						</simpara>
					</listitem>
				  </itemizedlist>
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Konfiguration_der_DHCP-Vergabedauer_Lease">
		<title>Konfiguration der DHCP-Vergabedauer (Lease)</title>
		<para>
		  Die Gültigkeit einer vergebenen IP-Adresse - ein sogenanntes
		  DHCP-Lease - kann über eine Richtlinie vom Typ <emphasis>DHCP Lease-Zeit</emphasis> festgelegt werden, die im
		  UMC-Modul <guimenu>Richtlinien</guimenu> verwaltet wird (siehe auch <xref linkend="central:policies"/>).
		</para>
		<table>
		  <title>Reiter 'Lease-Zeit'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Standard Lease-Zeit</entry>
				<entry>
				  Wenn der Client keine bestimmte Lease-Zeit anfragt, so wird die
				  Standard-Lease-Zeit zugewiesen. Bleibt das Eingabefeld leer, wird der
				  Vorgabewert des DHCP-Servers verwendet.
				</entry>
			  </row>
			  <row>
				<entry>Maximale Lease-Zeit</entry>
				<entry>
				  Die maximale Lease-Zeit gibt die längste Zeitspanne an, die für einen
				  Lease vergeben werden kann. Bleibt das Eingabefeld leer, wird der
				  Vorgabewert des DHCP-Servers verwendet.
				</entry>
			  </row>
			  <row>
				<entry>Minimale Lease-Zeit</entry>
				<entry>
				  Die minimale Lease-Zeit gibt die kürzeste Zeitspanne an, die ein
				  Lease gültig sein soll. Bleibt das Eingabefeld leer, wird der
				  Vorgabewert des DHCP-Servers verwendet.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Konfiguration_von_Bootserver_PXE-Einstellungen">
		<title>Konfiguration von Bootserver/PXE-Einstellungen</title>
		<para>
		  Mit einer <emphasis>DHCP Boot</emphasis>-Richtlinie werden Rechnern
		  Konfigurationsparameter für das Booten über über BOOTP/PXE zugewiesen. Sie wird im
		  UMC-Modul <guimenu>Richtlinien</guimenu> verwaltet (siehe auch <xref linkend="central:policies"/>).
		</para>
		<table>
		  <title>Reiter 'Boot'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>Attribut</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>Boot-Server</entry>
				<entry>
				  In diesem Eingabefeld ist die IP-Adresse oder der FQDN des
				  PXE-Boot-Servers einzutragen, von dem der Client die Boot-Datei laden
				  soll. Wird in diesem Eingabefeld kein Wert eingetragen, bootet der
				  Client von dem DHCP-Server, von dem er seine IP-Adresse bezieht.
				</entry>
			  </row>
			  <row>
				<entry>Boot-Dateiname</entry>
				<entry>
				  Hier ist der Pfad zur Boot-Datei einzutragen. Der Pfad muss relativ
				  zum Basisverzeichnis des TFTP-Dienstes (<filename class="directory">/var/lib/univention-client-boot/</filename>)
				  angegeben werden.
				</entry>
			  </row>
			</tbody>
		  </tgroup>
		</table>
	  </section>

	  <section id="ip-config:Weitere_DHCP-Richtlinien">
		<title>Weitere DHCP-Richtlinien</title>
		<para>
		  Einige weitere DHCP-Richtlinien stehen zur Verfügung, sind aber nur
		  für Sonderfälle nötig.
		  <!-- Ihre Verwendung ist im Univention Wiki unter WIKIREF-24604 dokumentiert: -->
		</para>
		  <itemizedlist>
			<listitem>
				<simpara>
			  <emphasis>DNS Aktualisierung</emphasis> erlaubt die Konfiguration von
			  dynamischen DNS-Aktualisierungen.
			  Diese können bislang noch nicht gegen einen LDAP-basierten DNS-Dienst
			  durchgeführt werden, wie er von UCS bereitgestellt wird.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
					<emphasis>DHCP Erlauben/Verbieten</emphasis> erlaubt die Konfiguration verschiedener Optionen, die kontrollieren was für DHCP-Clients erlaubt ist.
					Diese sind nur in Ausnahmefällen nötig.
				</simpara>
			</listitem>
			<listitem>
				<simpara>
			  <emphasis>DHCP Verschiedenes</emphasis> erlaubt die Konfiguration
			  verschiedener Optionen, die nur in Ausnahmefällen nötig sind.
				</simpara>
			</listitem>
		  </itemizedlist>
	  </section>
	</section>
  </section>

  <section id="ip-config:Paketfilter_mit_Univention_Firewall">
	<title>Paketfilter mit Univention Firewall</title>
	<para>
	  Die Univention Firewall integriert einen Paketfilter auf Basis von <package>iptables</package> in &ucsUCS;.
	</para>
	<para>
	  Dies ermöglicht die gezielte Filterung unerwünschter Dienste,
	  die Absicherung von Rechnern während Installationsarbeiten, und stellt die
	  Basis für komplexere Szenarien wie Firewalls oder Application Level Gateways
	  bereit. Univention Firewall ist in der standardmäßig auf allen
	  &ucsUCS;-Installationen enthalten.
	</para>
	<para>
	  In der Grundeinstellung werden eingehende Pakete für alle Ports
	  blockiert/abgelehnt. Jedes UCS-Paket bringt Regeln mit, die die von
	  dem Paket benötigten Ports wieder freigeben.
	</para>
	<para>
	  Die Konfiguration erfolgt im Wesentlichen über &ucsUCR;-Variablen. Die Definition von solchen
	  Paketfilter-Regeln ist in <biblioref linkend="developer-reference"/> dokumentiert.
	</para>
	<para>
	  Darüber hinaus werden die im Verzeichnis
	  <filename class="directory">/etc/security/packetfilter.d/</filename> liegenden
	  Konfigurationsskripte in alphabetischer Reihenfolge
	  ausgeführt. Standardmäßig sind alle Skripte mit zwei führenden Ziffern
	  benannt, so dass eine einfache Festlegung der Reihenfolge möglich
	  ist. Die Skripte müssen als ausführbar markiert sein.
	</para>
	<para>
	  Nach Änderungen der Paketfilter-Einstellungen muss der Dienst
	  <package>univention-firewall</package> neu gestartet werden.
	</para>
	<para>
	  Die Univention Firewall kann durch Setzen der
	  &ucsUCRV; <envar>security/packetfilter/disabled</envar> auf <literal>true</literal> deaktiviert werden.
	</para>
  </section>

  <section id="ip-config:Web-Proxy_fuer_Caching_und_Policy_Management_Virenscan">
	<title>Web-Proxy für Caching und Policy Management/Virenscan</title>
	<para>
	  Die Proxy-Integration ermöglicht die
	  Verwendung eines Web-Caches zur Verbesserung der Performance und
	  Kontrolle des Datenverkehrs. Sie basiert auf dem bewährten Proxy-Server
	  Squid und unterstützt die Protokolle HTTP, FTP und HTTPS.
	</para>
	<para>
	  Ein Proxy-Server nimmt Anfragen nach Internetinhalten entgegen und prüft, ob
	  diese Inhalte bereits in einem lokalen Cache vorhanden sind. Ist dies der
	  Fall, werden die angefragten Daten aus dem lokalen Cache bereitgestellt. Sind
	  die Daten noch nicht vorhanden, werden die Inhalte vom jeweiligen Webserver
	  abgerufen und in den lokalen Cache eingefügt. Hierdurch können die
	  Antwortzeiten für die Anwender sowie das Transfervolumen über den
	  Internetzugang verringert werden.
	</para>
	<para>
	  Als zusätzliche Komponente kann die Software DansGuardian
	  installiert werden. Damit ist es möglich,
	  dass Internetinhalte vor der Auslieferung an den Anwender überprüft und gefiltert
	  werden, um so Dateien auf Viren zu scannen oder den Zugriff auf unerwünschte
	  Inhalte zu unterbinden.
	</para>
	<para>
	  Einige weiterführende Funktionen der Proxy-Dienste - wie etwa die Kaskadierung von
	  Proxy-Servern - werden in <xref linkend="ext-doc-net"/> beschrieben.
	</para>
	<section id="ip-config:Installation">
	  <title>Installation</title>

	  <para>
		Squid kann mit der Applikation
		<emphasis>Proxyserver / Webcache (Squid)</emphasis> aus dem Univention App Center installiert
		werden. Alternativ kann das Softwarepaket <package>univention-squid</package> installiert
		werden. Weitere Informationen finden sich in <xref linkend="computers::softwaremanagement::installsoftware"/>.
	  </para>

	  <para>
		Der Dienst wird mit für den Betrieb ausreichenden Standardeinstellungen
		konfiguriert, sodass eine sofortige Verwendung möglich ist. Der Port, auf dem
		der Dienst erreichbar ist, kann nach eigenen Wünschen konfiguriert werden
		(siehe <xref linkend="proxy:port"/>), voreinstellt ist Port 3128.
	  </para>
	  <para>
		Werden Änderungen an der Konfiguration vorgenommen, muss Squid
		neu gestartet werden. Dies kann entweder über &ucsUMC;
		oder auf der Kommandozeile erfolgen:
		<programlisting language="sh">
/etc/init.d/squid restart
		</programlisting>
	  </para>
	  <para>
		Neben den in diesem Dokument beschriebenen Konfigurationsmöglichkeiten
		über &ucsUCR; können in der <filename>/etc/squid/local.conf</filename> auch beliebige
		weitere Squid-Optionen gesetzt werden.
	  </para>
	  <para>
		<emphasis>DansGuardian</emphasis> kann über das Paket
		<package>univention-dansguardian</package> installiert werden, siehe
		<xref linkend="proxy:contentfilter"/>.
	  </para>

	  <para>
		In der erweiterten Netzwerk-Dokumentation sind weitergehende Proxy-Funktionen (Kaskadierung
		von Proxys, transparente Proxys und die Integration eines Virenscanners in den Proxy) <biblioref
		linkend="ext-doc-net"/>.
	  </para>
	</section>

	<section id="ip-config:Caching_von_Webseiten_FTP">
	  <title>Caching von Webseiten/FTP</title>
	  <para>
		Squid ist ein <emphasis>Caching proxy</emphasis>, d.h. zuvor schon einmal angefragte Inhalten
		können aus einem Cache zur Verfügung gestellt werden ohne erneut vom
		jeweiligen Webserver geladen zu werden. Die reduziert das Datenaufkommen über
		die Internetanbindung und kann zu einer schnelleren Beantwortung von
		HTTP-Anfragen führen.
	  </para>
	  <para>
		In manchen Umgebungen ist diese Caching-Funktionalität allerdings nicht
		notwendig bzw. muss bei kaskadierten Proxys nicht bei allen aktiviert
		sein. Für diese Szenarien kann die Caching-Funktion des Squid mit der
		&ucsUCRV; <envar>squid/cache</envar> deaktiviert werden, indem diese auf den Wert <literal>no</literal>
		gesetzt wird. Anschließend muss Squid neu gestartet werden.
	  </para>
	</section>

	<section id="ip-config:Protokollierung_von_Zugriffen">
	  <title>Protokollierung von Zugriffen</title>
	  <para>
		Sämtliche Zugriffe, die über den Proxy-Server vorgenommen werden, werden
		in der Logdatei <filename>/var/log/squid/access.log</filename> erfasst. Anhand
		dieser Logdatei ist es möglich, nachzuvollziehen auf welche Webseiten
		zugegriffen wurde.
	  </para>
	  <para>
		Bei Verwendung von DansGuardian werden sämtliche Zugriffe
		in der Datei <filename>/var/log/dansguardian/access.log</filename> protokolliert.
	  </para>
	</section>

	<section id="ip-config:Einschraenkung_des_Zugriffs_auf_erlaubte_Netzwerke">
	  <title>Einschränkung des Zugriffs auf erlaubte Netzwerke</title>
	  <para>
		Standardmäßig darf nur aus lokalen Netzwerken auf den Proxy-Server zugegriffen
		werden. Ist z.B. an dem Rechner, auf dem Squid installiert wurde, ein
		Netzwerkinterface mit der Adresse <systemitem class="ipaddress">192.0.2.10</systemitem> und der Netzmaske <systemitem class="netmask">255.255.255.0</systemitem>
		vorhanden, dürfen nur Rechner aus dem Netzwerk <systemitem class="ipaddress">192.0.2.0/24</systemitem> auf den
		Proxy-Server zugreifen. Weitere Netzwerke können über die
		&ucsUCRV; <envar>squid/allowfrom</envar> angegeben werden. Dabei muss die CIDR-Notation
		verwendet werden, mehrere Netzwerke sind durch Leerzeichen zu trennen.
		<programlisting language="sh">
univention-config-registry set squid/allowfrom="192.0.2.0/24 192.0.2.0/24"
		</programlisting>
		Nach einem Neustart von Squid ist jetzt der Zugriff aus den Netzwerken
		<systemitem class="ipaddress">192.0.2.0/24</systemitem> und <systemitem class="ipaddress">192.0.2.0/24</systemitem> erlaubt. Durch Angabe von <literal>all</literal> kann der Zugriff auch aus allen Netzen erlaubt werden.
	  </para>
	  <para>
		Wenn Squid zusammen mit DansGuardian eingesetzt wird, d.h. die Viren- oder
		Webinhaltsfilterung aktiviert wird, kann Squid den Zugriff nicht prüfen,
		da die Verbindungen über DansGuardian erfolgen. In diesem Fall kann der
		Zugriff über DansGuardian eingeschränkt werden.
	  </para>
	</section>

	<section id="ip-config:Konfiguration_der_verwendeten_Ports">
	  <title>Konfiguration der verwendeten Ports</title>
	  <section id="proxy:port">
		<title>Zugriffs-Port</title>
		<para>
		  Standardmäßig ist der Web-Proxy über den Port 3128 erreichbar. Ist ein anderer
		  Port gewünscht, kann dieser über die &ucsUCRV; <envar>squid/httpport</envar> konfiguriert
		  werden. Bei Verwendung von Univention Firewall muss zusätzlich die
		  Paketfilterkonfiguration angepasst werden.
		</para>
		<para>
		  Beim Einsatz des Inhalts- und Virenscanners (siehe
		  <xref linkend="proxy:contentfilter"/>) ist dieser an Stelle von Squid unter dem
		  konfigurierten Port erreichbar. Squid belegt dann den nächsthöheren
		  Port. Dies sollte beachtet werden, wenn es weitere Anwendungen gibt,
		  die auf diesem Port Dienste anbieten sollen.
		</para>
	  </section>

	  <section id="ip-config:Erlaubte_Ports">
		<title>Erlaubte Ports</title>
		<para>
		In der Standardkonfiguration leitet Squid nur Anfragen von Clients weiter, die
		an die Netzwerkports 80 (HTTP), 443 (HTTPS) oder 21 (FTP) gerichtet werden.
		Die Liste der erlaubten Ports kann über die &ucsUCRV; <envar>squid/webports</envar> geändert werden,
		mehrere Angaben sind dabei durch Leerzeichen zu trennen:
		</para>
		<programlisting language="sh">
univention-config-registry set squid/webports="80 443"
		</programlisting>
		<para>
		Durch diese Einstellung wird nur noch der Zugriff auf die Ports 80 und 443
		(HTTP und HTTPS) erlaubt.
		</para>
	  </section>
	</section>

	<section id="proxy:userauth">
	  <title>Benutzer-Authentifizierung am Proxy</title>
	  <para>
		Oftmals ist es notwendig, dass nur bestimmte Benutzer Zugriff auf Webseiten erhalten
		sollen. Squid ermöglicht die benutzerbezogene Zugriffsregelung über
		Gruppenmitgliedschaften. Um eine Überprüfung der Gruppenmitgliedschaft zu ermöglichen, ist
		es hierbei erforderlich, dass eine Anmeldung des Benutzers am Proxy-Server durchgeführt
		wird.
	  </para>

	  <caution>
		  <para>
		Um zur verhindern, dass nicht autorisierte Benutzer trotzdem Webseiten abrufen können,
		sind weitere Maßnahmen erforderlich, damit diese Benutzer nicht am Proxy-Server vorbei auf
		das Internet zugreifen können. Dies kann z.B. erreicht werden,
		in dem in der Firewall alle HTTP-Anfragen mit Ausnahme des Proxys unterbunden werden.
		  </para>
	  </caution>

	  <para>
		Proxy-Authentifizierung und die damit erst mögliche Überprüfung der Gruppenzugehörigkeiten
		muss zuerst aktiviert werden. Dafür werden drei verschiedene Mechanismen angeboten:

		<itemizedlist>
		  <listitem><simpara>
			Die Authentifizierung erfolgt direkt gegen den LDAP-Server. Dazu muss die
			&ucsUCRV; <envar>squid/basicauth</envar> auf <literal>yes</literal> gesetzt werden und
			Squid neu gestartet werden.
		  </simpara></listitem>

		  <listitem><simpara>
			Die Authentifizierung wird über die NTLM-Schnittstelle durchgeführt. Benutzer, die an
			einem Windows-Client angemeldet sind, müssen dann beim Zugriff auf den Proxy keine
			weitere Authentifizierung durchführen. Um NTLM-Authentifizierung zu aktivieren muss die
			&ucsUCRV; <envar>squid/ntlmauth</envar> auf <literal>yes</literal> gesetzt werden und
			Squid neu gestartet werden.
		  </simpara></listitem>

		  <listitem><simpara>
			Die Authentifizierung erfolgt über Kerberos. Benutzer, die an einem Windows-Client
			angemeldet sind, der Mitglied einer Samba 4-Domäne ist, authentifizieren sich am Proxy mit
			dem Ticket, das sie im Rahmen der Domänenanmeldung erhalten haben. Um
			Kerberos-Authentifizierung zu aktivieren muss das Paket
			<package>univention-squid-kerberos</package> auf jedem Proxyserver installiert
			werden. Anschließend muss die &ucsUCRV; <envar>squid/krb5auth</envar> auf
			<literal>yes</literal> gesetzt werden und Squid neu gestartet werden.
		  </simpara></listitem>
		</itemizedlist>
	  </para>

	  <para>
		Bei Verwendung von NTLM-Authentifizierung wird standardmäßig für jede HTTP-Anfrage eine NTLM-Authentifizierung durchgeführt. Wird beispielsweise die
		Webseite <uri>https://www.univention.de/</uri> aufgerufen, werden neben der eigentlichen
		HTML-Seite auch weitere Unterseiten und Bilder nachgeladen. Die NTLM-Authentifizierung kann
		domänenbezogenen zwischengespeichert werden: Wird die &ucsUCRV;
		<envar>squid/ntlmauth/keepalive</envar> auf <literal>yes</literal> gesetzt, wird für
		nachgelagerte HTTP-Anfragen derselben Domäne keine weitere NTLM-Authentifizierung
		durchgeführt. Bei Problemen mit lokalen Benutzerkonten kann es helfen diese Variable auf
		<literal>no</literal> zu setzen.
	  </para>

	  <para>
		In der Grundeinstellung können alle Benutzer auf den Proxy zugreifen. Mit der &ucsUCRV;
		<envar>squid/auth/allowed_groups</envar> kann der Zugriff auf eine oder mehrere Gruppen
		beschränkt werden. Bei Angabe mehrerer Gruppen sind diese durch ein Semikolon zu trennen.
	  </para>
	</section>

	<section id="proxy:contentfilter">
	  <title>Filterung/Prüfung von Webinhalten mit DansGuardian</title>
	  <para>
		DansGuardian nimmt Webseiten-Anforderungen aus dem Netzwerk entgegen und
		prüft, ob diese Zugriffe erlaubt sind. Falls ja, wird die
		Anfrage an den Proxy-Server Squid weitergeleitet. DansGuardian erlaubt
		beispielsweise die Sperrung einzelner Dateiarten und -endungen oder des
		Zugriffs auf Webseiten oder Domains.
	  </para>
	  <figure id="net-dansguardian">
		<title>Sperrung einer Web-Seite durch DansGuardian</title>
		<graphic scalefit="1" width="100%" fileref="illustrations44/dansguardian_DE.png"/>
	  </figure>
	  <para>
		Angeforderte Dateien können außerdem auf Viren überprüft werden. Dabei kommt
		in der Standardeinstellung der freie Virenscanner <application>ClamAV</application> zum
		Einsatz. Die Integration weiterer Virenscanner ist möglich. Dies ist in der
		erweiterten Netzwerk-Dokumentation beschrieben <biblioref linkend="ext-doc-net"/>.
	  </para>
	  <caution>
		  <para>
		  Der direkte Zugriff auf den Proxy-Server Squid
		  ist hierbei auf Zugriffe vom lokalen Rechner ('localhost')
		  eingeschränkt. Anwender, die auf dem System arbeiten, auf dem Squid und
		  DansGuardian installiert sind, haben so die Möglichkeit, die
		  Filterfunktionen zu umgehen, indem Sie direkt auf Squid zugreifen. Der
		  Web-Proxy und DansGuardian sollten deshalb nur auf
		  dedizierten Systemen installiert werden, auf denen Anwender sich nicht
		  anmelden können.
		  </para>
	  </caution>
	  <para>
		Nach der Installation von <package>univention-dansguardian</package> sind der Virenscanner
		und der Filter für Webinhalte aktiviert.
	  </para>
	  <para>
		Das Filtern von Web-Inhalten und der Virenscanner können getrennt voneinander
		konfiguriert werden. Um den Inhaltsfilter zu deaktivieren, muss die
		&ucsUCRV; <envar>squid/contentscan</envar> auf <literal>no</literal> gesetzt und Squid neu gestartet
		werden. Um den Virenscanner abzuschalten, ist
		&ucsUCRV; <envar>squid/virusscan</envar> auf <literal>no</literal> zu setzen. Ist keine
		der beiden Variablen auf <literal>yes</literal> gesetzt, wird DansGuardian nicht
		verwendet. Nach Änderungen an den Variablen muss Squid und - sofern installiert - DansGuardian neu gestartet werden.
	  </para>
	</section>

	<section id="proxy:contentfilter-configuration">
	  <title>Definition von Inhaltsfiltern für DansGuardian</title>
	  <para>
		Webinhalte können anhand von Dateiendungen, MIME-Typen, Webseiten sowie einzelnen URLs
		gefiltert werden. Es ist dabei möglich, einzelne Rechner oder Nutzer aus der Filterung
		auszunehmen.
	  </para>

	  <para>
		Die Filterfunktion kann über die folgenden &ucsUCR;-Variablen konfiguriert
		werden. Sollen dabei mehrere Werte angegeben werden, sind diese jeweils durch
		Leerzeichen zu trennen. Die Filterung wird bei DansGuardian auf Basis von
		Gruppenzugehörigkeiten durchgeführt, d.h. es können pro Gruppe verschiedene
		Regeln definiert und dadurch verschiedene Berechtigungen beim Zugriff auf das Web
		realisiert werden. Welche Gruppen von DansGuardian betrachtet werden,
		wird in der &ucsUCRV; <envar>dansguardian/groups</envar> definiert.
	  </para>

	  <para>
		Dabei ist zu beachten, dass die erste Gruppe in der Liste eine besondere Rolle
		spielt. Alle Benutzer, die keiner der angegebenen Gruppen zugeordnet werden
		können, werden dieser zugeordnet, d.h. die definierten Filteregeln gelten. In
		der Regel wird dieser Gruppe somit die geringste Berechtigung zugeordnet.
	  </para>

	  <para>
		Gruppenänderungen werden erst nach einem Neustart von DansGuardian wirksam, entweder durch
		das UMC-Modul <guimenu>Systemdienste</guimenu> oder auf der Kommandozeile durch den
		Befehl:
	  </para>
<programlisting language="sh">
/etc/init.d/dansguardian restart
</programlisting>

	  <para>
		Für Änderungen von Filterregeln reicht es aus die Konfigurationsdateien mit dem folgenden
		Kommando neu einzulesen:
	  </para>
<programlisting language="sh">
dansguardian -g
</programlisting>

	  <para>
		Die Variablen zur Definition der Filterregeln enthalten den
		Gruppennamen, welcher in der folgenden Liste durch <emphasis><replaceable>group</replaceable></emphasis> ersetzt
		wird.
	  </para>

		<table>
		  <title>UCR-Variablen für Filterregeln'</title>
		  <tgroup cols="2">
			<colspec colnum="1" colname="col1" colwidth="1*"/>
			<colspec colnum="2" colname="col2" colwidth="2*"/>
			<thead>
			  <row>
				<entry>UCR-Variable</entry>
				<entry>Beschreibung</entry>
			  </row>
			</thead>
			<tbody>
			  <row>
				<entry>
				  <envar>dansguardian/groups/<replaceable>group</replaceable>/banned/extensions</envar>
				</entry>
				<entry>
				  Dateien mit den angegebenen Dateiendungen dürfen nicht heruntergeladen werden. Der
				  Trennpunkt muss dabei mit angegeben werden. Ist diese Variable leer, werden
				  Standardwerte verwendet. Um alle Dateiendungen zu erlauben, muss die Variable auf
				  ' ' gesetzt werden (Zeichenkette mit einem Leerzeichen). Beispiel:
				  <userinput>'.doc .xls .exe'</userinput>.
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/groups/<replaceable>group</replaceable>/banned/mimetypes</envar>
				</entry>
				<entry>
				  Dateien mit dem angegebenen MIME-Type dürfen nicht heruntergeladen werden. Der
				  MIME-Type wird dabei vom ausliefernden Webserver (bzw. einer darauf laufenden
				  Anwendung) festgelegt. Normalerweise sollten die zu den oben erläuterten
				  Dateiendungen passenden MIME-Type angegeben werden. Ist diese Variable leer,
				  werden Standardwerte verwendet. Um alle MIME-Types zu erlauben, muss die Variable
				  auf ' ' gesetzt werden (Zeichenkette mit einem Leerzeichen). Beispiel:
				  <emphasis>audio/mpeg application/zip</emphasis>
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/groups/<replaceable>group</replaceable>/banned/sites</envar>
				</entry>
				<entry>
				  Hiermit können komplette Webseiten gesperrt werden. Beispiel:
				  <uri>illegal-example-website.com</uri>
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/groups/<replaceable>group</replaceable>/banned/urls</envar>
				</entry>
				<entry>
				  Im Gegensatz zum vorherigen Parameter können hiermit einzelne URLs von Webseiten
				  gesperrt werden.
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/<replaceable>group</replaceable>/exception/urls</envar>
				</entry>
				<entry>
				  Der Zugriff auf die hier angegebenen URLs wird nicht durch DansGuardian geprüft.
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/<replaceable>group</replaceable>/exception/sites</envar>
				</entry>
				<entry>
				  Der Zugriff auf die hier angegebenen Webseiten wird nicht durch DansGuardian geprüft.
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/bannedipaddresses</envar>
				</entry>
				<entry>
				  Diese Variable ermöglicht es, einzelne Rechner anhand der IP-Adresse komplett vom
				  Zugriff auf den Proxy-Server auszuschließen.
				</entry>
			  </row>

			  <row>
				<entry>
				  <envar>dansguardian/exceptionipaddresses</envar>
				</entry>
				<entry>
				  Hiermit können für einzelne Rechner sämtliche Filterfunktionen deaktiviert werden,
				  sodass von diesem Rechner alle Dateien über den Proxy-Server heruntergeladen
				  werden dürfen. Dies kann nützlich sein, wenn z.B. von einem
				  Administrations-Rechner Dateien für weitere Benutzer heruntergeladen werden sollen.
				</entry>
			  </row>

			</tbody>
		  </tgroup>
		</table>

	  <caution>
		  <para>
		Die Definition einer Ausnahmeregel bei Inhaltsfiltern mit
		<envar>dansguardian/<replaceable>group</replaceable>/exception/*</envar> führt dazu, dass diese auch von einem
		Virenscan ausgenommen werden.
		  </para>
	  </caution>

	</section>

  </section>

	<section id="ip-config:radius">
		<title>RADIUS</title>
		<para>
			Die <package>RADIUS</package> App erhöht die Sicherheit für mit UCS verwaltete IT-Infrastrukturen
			durch Zugangskontrollen zu WiFi Netzwerken für Benutzer, Gruppen und Endgeräte
			über das <ulink
			url="https://de.wikipedia.org/wiki/Remote_Authentication_Dial-In_User_Service">RADIUS-Protokoll</ulink>. Die Konfiguration erfolgt über Blacklisten und Whitelisten
			direkt am Benutzer-, Gruppen- oder Endgeräte-Objekt im UCS Managementsystem.
			Registrierte Benutzer werden mit ihrem üblichen Domänenpasswort
			authentisiert, so dass unter anderem <foreignphrase>Bring-Your-Own-Device-Konzepte</foreignphrase> ermöglicht
			werden.
		</para>
		<section id="ip-config:radius:installation">
			<title>Installation</title>
			<para>
				<package>RADIUS</package> steht über das App Center (siehe <xref linkend="software:appcenter"/>)
				zur Verfügung und kann über das entsprechende &ucsUMC;-Modul <guimenu>App Center</guimenu>
				installiert werden. Die App kann auf mehreren Systemen installiert werden. Nach
				der Installation startet die App einen <ulink
					url="http://freeradius.org/">FreeRADIUS</ulink>-Server. <foreignphrase>Authenticators</foreignphrase> (z.B. <foreignphrase>Access
				Points</foreignphrase>) können den Server via RADIUS kontaktieren und Netzwerkzugangsanfragen
				prüfen.
			</para>
		</section>
		<section id="ip-config:radius:configuration">
			<title>Konfiguration</title>
			<section id="ip-config:radius:configuration:allowed-users">
				<title>Erlaubte Benutzer</title>
				<para>
					Standardmäßig hat kein Benutzer Zugang zum Netzwerk. Indem die Checkbox für
					<guimenu>Netzwerkzugriff erlaubt</guimenu> im <guimenu>RADIUS</guimenu> Reiter
					aktiviert wird, erhält der Benutzer Zugriff auf das Netzwerk. Die Checkbox kann
					auch für Gruppen gesetzt werden, so dass alle Benutzer in der Gruppe Zugang
					erlangen.
				</para>
					<figure id="ip-config:radius:group">
						<title>Beispiel für eine Gruppe, die ihren Benutzern Zugang gewährt</title>
						<graphic fileref="illustrations44/radius-group-allow-network_DE.png" scalefit="1" width="100%"/>
					</figure>
			</section>
			<section id="ip-config:radius:configuration:mac-filtering">
				<title>MAC-Adressfilter</title>
				<para>
					Standardmäßig ist allen Geräten der Zugang zum Netzwerk erlaubt, vorausgesetzt
					der verwendete Benutzer hat Zugriff. Der Netzwerkzugriff kann auch auf
					spezifische Geräte begrenzt werden. Das kann durch Setzen der &ucsUCRV;
					<envar>radius/mac/whitelisting</envar> auf <literal>true</literal> erreicht
					werden. Sobald aktiviert, wird das Geräteobjekt beim Zugriff des Geräts auf das
					Netzwerk über das LDAP-Attribut <property>macAddress</property> abgerufen und
					dem entsprechenden Geräteobjekt muss der Zugang zum Netzwerk auch erlaubt sein
					(entweder direkt oder über eine der Gruppen).
				</para>
			</section>
			<section id="ip-config:radius:configuration:access-point-registration">
				<title><foreignphrase>Access Points</foreignphrase> verwalten</title>
				<para>
					Alle <foreignphrase>Access Points</foreignphrase> (Netzwerkzugangspunkte) müssen dem RADIUS-Server bekannt sein.
					Ein <foreignphrase>Access Point</foreignphrase> lässt sich entweder pro RADIUS-Server über die Datei
					<filename>/etc/freeradius/3.0/clients.conf</filename> konfigurieren oder domänenweit
					per &ucsUMC;. Für jeden <foreignphrase>Access Point</foreignphrase> sollte ein zufälliges, gemeinsames Geheimnis
					erzeugt werden (Zum Beispiel über den Befehl <command>makepasswd</command>.).
					Der Name kann frei gewählt werden.
				</para>
				<para>
					Beispiel für einen Eintrag in der <filename>clients.conf</filename> Datei:
<programlisting>
client AP01 {
    secret = a9RPAeVG
    ipaddr = 192.0.2.101
}
</programlisting>
				</para>
				<para>
					Um <foreignphrase>Access Points</foreignphrase> per &ucsUMC; zu verwalten,
					muss für den <foreignphrase>Access Point</foreignphrase> ein Rechnerobjekt existieren.
					Dieses Rechnerobjekt benötigt die Option <foreignphrase>RADIUS-Authenticator</foreignphrase>
					(<xref linkend="ip-config:radius:option"/>).
					Für einen <foreignphrase>Access Point</foreignphrase> bietet sich ein
					<emphasis>IP-Managed-Client</emphasis> als Rechnerobjekt an. Im <guimenu>RADIUS</guimenu>-Reiter des Objekts
					lassen sich nach dem Hinzufügen der Option die Eigenschaften des
					<foreignphrase>Access Points</foreignphrase> festlegen
					(<xref linkend="ip-config:radius:authenticator"/>).
					Es müssen mindestens die IP-Adresse am Rechnerobjekt und ein gemeinsamer, geheimer Schlüssel
					gesetzt sein.
					Die Eigenschaften <foreignphrase>NAS-Type</foreignphrase> und Virtueller Server müssen in der Regel nicht
					verändert werden. 
				</para>
				<para>
					<foreignphrase>Access Points</foreignphrase>, welche per &ucsUMC; konfiguriert sind, sind anschließend allen RADIUS-Servern in der Domäne bekannt.
					Dabei werden die <foreignphrase>Access Points</foreignphrase>
					über den &ucsUDL; in die Datei <filename>/etc/freeradius/3.0/clients.univention.conf</filename>
					geschrieben und der RADIUS-Server neu gestartet. Um Änderungen zusammenzufassen, geschieht
					dies verzögert (etwa 15 Sekunden). Neue <foreignphrase>Access Points</foreignphrase>
					haben erst nach diesem Neustart Zugriff auf den RADIUS-Server.
				</para>
					<figure id="ip-config:radius:option">
						<title>Setzen der RADIUS-Option</title>
						<graphic fileref="illustrations44/radius_option_DE.png" align="center" scalefit="1" width="75%"/>
					</figure>
					<figure id="ip-config:radius:authenticator">
						<title>RADIUS an einem Computerobjekt einstellen</title>
						<graphic fileref="illustrations44/radius_authenticator_DE.png" scalefit="1" width="100%"/>
					</figure>
			</section>
			<section id="ip-config:radius:configuration:access-points_clients">
				<title><foreignphrase>Access Points</foreignphrase> und Clients einstellen</title>
				<para>
					Die <foreignphrase>Access Points</foreignphrase> müssen so konfiguriert sein, dass sie 802.1x ("WPA
					Enterprise") Authentisierung verwenden. Außerdem sollte die "RADIUS Server" Adresse
					auf die Adresse des Servers gesetzt sein, auf dem die <package>RADIUS</package>-App installiert
					ist. Das Passwort muss auf den Wert des gemeinsamen Schlüssels aus der &ucsUMC;, bzw. des
					<literal>secret</literal> aus dem Eintrag in der <filename>clients.conf</filename>,
					gesetzt sein.
				</para>
				<para>
					WiFi Clients müssen so konfiguriert sein, dass sie <emphasis>WPA</emphasis> mit
					<emphasis>PEAP</emphasis> und <emphasis>MSCHAPv2</emphasis> für die
					Authentisierung verwenden.
				</para>
			</section>
		</section>
		<section id="ip-config:radius:debugging">
			<title>Fehlersuche</title>
			<para>
				Die <package>RADIUS</package>-App verfügt über eine Logdatei unter <filename>/var/log/univention/radius_ntlm_auth.log</filename>.
				Die Ausführlichkeit der Logmeldungen lässt sich über die &ucsUCRV; <envar>freeradius/auth/helper/ntlm/debug</envar> steuern.
				Der <package>FreeRADIUS-Server</package> loggt nach <filename>/var/log/freeradius/radius.log</filename>.
			</para>
			<para>
				Das Werkzeug <package>univention-radius-check-access</package> kann zur
				Untersuchung der aktuellen Zugangsregeln für einen bestimmten Benutzer und/oder
				eine MAC-Adresse verwendet werden. Es kann als Benutzer root auf dem Server
				ausgeführt werden, wo das Paket <package>univention-radius</package>
				installiert ist.
<programlisting language="sh">
root@master211:~# univention-radius-check-access --username=stefan
DENY 'uid=stefan,cn=users,dc=ucs,dc=local'
'uid=stefan,cn=users,dc=ucs,dc=local'
-> DENY 'cn=Domain Users,cn=groups,dc=ucs,dc=local'
-> 'cn=Domain Users,cn=groups,dc=ucs,dc=local'
-> -> DENY 'cn=Users,cn=Builtin,dc=ucs,dc=local'
-> -> 'cn=Users,cn=Builtin,dc=ucs,dc=local'
Thus access is DENIED.
</programlisting>
<programlisting language="sh">
root@master211:~# univention-radius-check-access --username=janek
DENY 'uid=janek,cn=users,dc=ucs,dc=local'
'uid=janek,cn=users,dc=ucs,dc=local'
-> DENY 'cn=Domain Users,cn=groups,dc=ucs,dc=local'
-> ALLOW 'cn=Network Access,cn=groups,dc=ucs,dc=local'
-> 'cn=Domain Users,cn=groups,dc=ucs,dc=local'
-> -> DENY 'cn=Users,cn=Builtin,dc=ucs,dc=local'
-> -> 'cn=Users,cn=Builtin,dc=ucs,dc=local'
-> 'cn=Network Access,cn=groups,dc=ucs,dc=local'
Thus access is ALLOWED.
root@master211:~#
</programlisting>
				Das Werkzeug gibt eine detaillierte Erläuterung und setzt den Rückgabewert
				abhängig vom Ergebnis der Zugangsprüfung (0 für <emphasis>Zugang gestattet</emphasis>, 1 für <emphasis>Zugang
				verweigert</emphasis>).
			</para>
		</section>
	</section>
</chapter>
