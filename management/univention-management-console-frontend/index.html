<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Univention Management Console</title>
		<link rel="icon" href="js%HASH%/dijit/themes/umc/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="js%HASH%/dijit/themes/umc/favicon.ico" type="image/x-icon" />
		<style type="text/css">
			@import url("js%HASH%/dojo/resources/dojo.css");
			@import url("js%HASH%/dijit/themes/umc/umc.css");
			@import url("js%HASH%/dijit/themes/umc/country-flags.css");
			@import url("js%HASH%/dijit/themes/umc/umcGrid.css");
			@import url("js%HASH%/dijit/themes/umc/EnhancedGrid.css");
			@import url("js%HASH%/dijit/themes/umc/umcEnhancedGrid.css");
			/*@import url("css%HASH%/dojox/form/resources/CheckedMultiSelect.css");*/
			@import url("js%HASH%/dijit/themes/umc/Toaster.css");
		</style>

		<!--[if IE 8]>
		  <link rel="stylesheet" href="js%HASH%/dijit/themes/umc/ie/ie8.css" type="text/css" media="screen" title="IE 8 CSS" />
		<![endif]-->

		<!--[if IE 9]>
		  <link rel="stylesheet" href="js%HASH%/dijit/themes/umc/ie/ie9.css" type="text/css" media="screen" title="IE 9 CSS" />
		<![endif]-->

		<script type="text/javascript">
			//<!--
			function getQuery(/*String*/ param, /*mixed*/ defaultVal) {
				// parse the URI query string
				var query = window.location.search.substring(1);
				var vars = query.split('&');
				for (var i = 0; i < vars.length; i++) {
					// parse the tuple
					var tuple = vars[i].split('=');

					// check whether we found the particular parameter we are interested in
					if (2 == tuple.length && param == tuple[0]) {
						return tuple[1];
					}
				}

				// otherwise return the specified default value
				return defaultVal;
			}

			function getCookie(/*String*/ param, /*mixed*/ defaultVal) {
				// find the given parameter in the cookie string
				var reg = new RegExp(param + '=([a-zA-Z_-]*)');
				var m = reg.exec(document.cookie);
				if (m && m[1]) {
					return m[1];
				}

				// in case the parameter does not exist, return the default value
				return defaultVal;
			}

			var locale = getQuery('lang') || getCookie('UMCLang');
			if (locale) {
				locale = locale.replace('_', '-');
			}
			var dojoConfig = {
				isDebug: false,
				debugAtAllCosts: false,
				locale: locale,
				async: true
			};
			//-->
		</script>
		<script type="text/javascript" src="js%HASH%/dojo/dojo.js%JSSUFFIX%"></script>
		<script type="text/javascript">
			require(["dojo/parser", "umc/app", "umc/tools", "umc/widgets/ContainerWidget", "dojo/domReady!"], function(parser, app, tools) {
				// parse the DOM tree
				parser.parse();

				// set the version of the UMC frontend
				tools.status('version', '%VERSION%');

				// start the application when everything has been loaded
				app.start({
					username: getQuery('username'),
					password: getQuery('password'),
					module: getQuery('module'),
					flavor: getQuery('flavor'),
					overview: getQuery('overview', true),
					width: getQuery('width'),
					displayUsername: getQuery('displayUsername', true)
				});
			});
		</script>
	</head>
	<body class="umc">
		<div id="univentionLogoWrapper">
			<div id="univentionLogo"></div>
			<noscript style="width: 100%;">
				<div style="margin: 40px auto; width: 50%;">
					<h1><span style="color: #ff0000;">!</span> A browser with JavaScript enabled is needed in order to use Univention Management Console.</h1>
					<h1><span style="color: #ff0000;">!</span> Um die Univention Management Console benutzen zu können, wird ein Browser mit JavaScript-Unterstützung benötigt.</h1>
					<!--[if IE]>
						<h1>Please check your security settings and add this address to your trusted sites.</h1>
						<h1>Bitte überprüfen Sie Ihre Sicherheitseinstellungen und fügen Sie diese Addresse in die Liste Ihrer vertrauenswürdigen Seiten hinzu.</h1>
					<![endif]-->
				</div>
			</noscript>
		</div>
		<div class="umcNotificationTopWrapper">
		</div>
		<div id="umc_LoginWrapper" class="umcShowHide" style="position: absolute; height: 100%; width: 100%; display: none;">
			<div class="umcShowHide" style="height:50%; margin-bottom:-190px;"></div>
			<div id="umc_LoginDialog" class="umcShowHide dijitDialog dojoxDialog umcLoginDialog">
				<div id="umc_LoginDialog_ContainerWidget" data-dojo-type="umc/widgets/ContainerWidget">
					<div id="umc_LoginDialog_FormContainer" class="umcLoginForm umcLoginDialogFormContainer">
						<iframe id="umc_LoginDialog_Iframe" src="js%HASH%/umc/app/login.html" frameborder="0" class="umcLoginDialogFormContainer"></iframe>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
